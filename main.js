/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t,e=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.keys=[],this.keyMap=new Map,t.length&&this.add.apply(this,t),this.autoMode=!0,this.allowDefault=!1,this.processKeyup=this.processKeyup.bind(this),this.processKeydown=this.processKeydown.bind(this),document.addEventListener("keydown",this.processKeydown),document.addEventListener("keyup",this.processKeyup)}return t.prototype.close=function(){document.removeEventListener("keydown",this.processKeydown),document.removeEventListener("keyup",this.processKeyup)},t.prototype.update=function(t){this.keys.forEach((function(e){e.lastState=e.state,e.state>0&&(e.state+=t)}))},t.prototype.isDown=function(t){return this.getState(t).state>0},t.prototype.resetRepeating=function(t){var e=this.getState(t);e.state>0&&(e.state=.001)},t.prototype.isRepeating=function(t,e,n){var o=this.getState(t);return o.state>=e+n?(o.state-=n,!0):o.state&&!o.lastState},t.prototype.isUp=function(t){return!(this.getState(t).state>0)},t.prototype.justDown=function(t){var e=this.getState(t);return e.state>0&&0===e.lastState},t.prototype.justUp=function(t){var e=this.getState(t);return 0===e.state&&e.lastState>0},t.prototype.getState=function(t){var e=this.keyMap.get(t);if(!e){if(!this.autoMode)throw'Did not have key of value "'+t+'" in the Keyboard. Did you forget to add it via addKeys?';this.add(t),e=this.keyMap.get(t)}return e},t.prototype.add=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){if(!t.keyMap.has(e)){var n={code:e,lastState:0,state:0};t.keys.push(n),t.keyMap.set(e,n)}}))},t.prototype.remove=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){var n=t.keyMap.get(e);if(n){var o=t.keys.indexOf(n);-1!==o&&t.keys.splice(o),t.keyMap.delete(e)}}))},t.prototype.processKeydown=function(t){if(this.allowDefault||t.preventDefault(),!t.repeat){var e=this.keyMap.get(t.code);if(!e){if(!this.autoMode)return;this.add(t.code),e=this.keyMap.get(t.code)}e.state=.001}},t.prototype.processKeyup=function(t){var e=this.keyMap.get(t.code);if(!e){if(!this.autoMode)return;this.add(t.code),e=this.keyMap.get(t.code)}e.state=0},t}(),n=function(){function t(t,e){var n=t.context;this.mEffect=t,this.mDry=new GainNode(n),this.mDry.gain.value=0,this.mWet=new GainNode(n),this.mWet.gain.value=1,this.mInput=new GainNode(n),this.mOutput=new GainNode(n),this.mInput.connect(this.mDry),this.mInput.connect(this.mWet),this.mDry.connect(this.mOutput),this.mWet.connect(this.mEffect),this.mEffect.connect(this.mOutput),this.mOutput.connect(e||n.destination)}return Object.defineProperty(t.prototype,"effect",{get:function(){return this.mEffect},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"input",{get:function(){return this.mInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this.mOutput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dry",{get:function(){return this.mDry.gain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wet",{get:function(){return this.mWet.gain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preGain",{get:function(){return this.mInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postGain",{get:function(){return this.mOutput},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.disconnect(),this.mOutput.connect(t)},t.prototype.disconnect=function(){this.mOutput.disconnect()},t.prototype.setWetDry=function(t,e){if(void 0===e&&(e=0),t=Math.min(Math.max(t,0),1),e>0){var n=this.mEffect.context.currentTime+e;this.mDry.gain.linearRampToValueAtTime(1-t,n),this.mWet.gain.linearRampToValueAtTime(t,n)}else this.mDry.gain.value=1-t,this.mWet.gain.value=t},t.prototype.setWet=function(t,e){void 0===e&&(e=0),t=Math.max(t,0),e>0?this.mWet.gain.linearRampToValueAtTime(t,this.mEffect.context.currentTime+e):this.mWet.gain.value=t},t.prototype.setDry=function(t,e){void 0===e&&(e=0),t=Math.max(t,0),e>0?this.mDry.gain.linearRampToValueAtTime(t,this.mEffect.context.currentTime+e):this.mDry.gain.value=t},t.prototype.dispose=function(){this.mDry.disconnect(),this.mWet.disconnect(),this.mEffect.disconnect(),this.mInput.disconnect(),this.mOutput.disconnect(),this.mDry=null,this.mWet=null,this.mEffect=null,this.mInput=null,this.mOutput=null},t}(),o=function(){function t(t,e){this.mContext=t,this.mPreGain=new GainNode(t),this.mPostGain=new GainNode(t),this.mPreGain.connect(this.mPostGain),this.mPostGain.connect(e||t.destination),this.mEffects=[]}return Object.defineProperty(t.prototype,"input",{get:function(){return this.mPreGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this.mPostGain},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.output.disconnect(),this.output.connect(t)},Object.defineProperty(t.prototype,"context",{get:function(){return this.mPreGain.context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preGain",{get:function(){return this.mPreGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gain",{get:function(){return this.mPostGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.mEffects.length},enumerable:!1,configurable:!0}),t.prototype.pushEffect=function(t){var e=new n(t,this.output),o=0===this.mEffects.length?this.input:this.mEffects[this.mEffects.length-1].output;return o.disconnect(),o.connect(e.input),this.mEffects.push(e),e},t.prototype.push=function(t,e){var n=e?new t(this.context,e):new t(this.context);return this.pushEffect(n)},t.prototype.insertEffect=function(t,e){void 0===e&&(e=0);var o=new n(t),i=0===(e=0===this.mEffects.length?0:Math.min(Math.max(0,e),this.mEffects.length-1))?this.input:this.mEffects[e-1].output,r=e>=this.mEffects.length-1?this.output:this.mEffects[e].input;return i.disconnect(),i.connect(o.input),o.connect(r),this.mEffects.splice(e,0,o),o},t.prototype.insert=function(t,e,n){void 0===e&&(e=0);var o=n?new t(this.context,n):new t(this.context);return this.insertEffect(o,e)},t.prototype.remove=function(t){for(var e=0;e<this.mEffects.length;++e)if(this.mEffects[e].effect instanceof t){var n=this.mEffects[e],o=0===e?this.input:this.mEffects[e-1].output,i=e===this.mEffects.length-1?this.output:this.mEffects[e+1].input;return n.dispose(),o.disconnect(),o.connect(i),this.mEffects.splice(e,1),n}return null},t.prototype.get=function(t){return this.getNth(t,1)},t.prototype.getAllOf=function(t){return this.mEffects.filter((function(e){return e.effect instanceof t}))},t.prototype.getNth=function(t,e){for(var n=0;n<this.mEffects.length;++n)if(this.mEffects[n].effect instanceof t&&--e<=0)return this.mEffects[n];return null},t.prototype.dispose=function(){this.mPreGain.disconnect(),this.mPostGain.disconnect(),this.mEffects.forEach((function(t){return t.dispose()})),this.mPostGain=null,this.mPreGain=null,this.mEffects=null},t}(),i=function(){function t(t,e){this.mNode=t.createGain(),this.mTarget=e||null}return Object.defineProperty(t.prototype,"gain",{get:function(){return this.mNode.gain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"input",{get:function(){return this.mNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.mTarget},set:function(t){this.mTarget=t,this.mNode.disconnect(),this.mNode.connect(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTarget",{get:function(){return null!==this.mTarget},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.target=t},t.prototype.disconnect=function(){this.mNode.disconnect(),this.mTarget=null},t}(),r=function(){function t(t){this.mContext=t,this.mSends=[],this.mInput=new GainNode(t)}return Object.defineProperty(t.prototype,"input",{get:function(){return this.mInput},enumerable:!1,configurable:!0}),t.prototype.create=function(t){var e=new i(this.mContext,t);return this.mInput.connect(e.input),this.mSends.push(e),e},t.prototype.get=function(t){return"number"==typeof t?this.mSends[t]||null:this.mSends.find((function(e){return Object.is(e.target,t)}))||null},t.prototype.remove=function(t){for(var e=0;e<this.mSends.length;++e)if(Object.is(this.mSends[e],t))return this.cleanSend(t),this.mSends.splice(e,1),!0;return!1},t.prototype.removeAll=function(){var t=this;this.mSends.forEach((function(e){return t.cleanSend(e)})),this.mSends=[]},t.prototype.dispose=function(){this.removeAll()},Object.defineProperty(t.prototype,"length",{get:function(){return this.mSends.length},enumerable:!1,configurable:!0}),t.prototype.removeIfTargeting=function(t){for(var e=0;e<this.mSends.length;)Object.is(this.mSends[e].target,t)?(this.cleanSend(this.mSends[e]),this.mSends.splice(e,1)):++e},t.prototype.cleanSend=function(t){t.disconnect(),this.mInput.disconnect(t.input)},t}(),s=function(){function t(t,e){this.mPanner=t.createStereoPanner(),this.mPostGain=t.createGain(),this.mPanner.connect(this.mPostGain),this.mPostGain.connect(e||t.destination),this.mEffects=new o(t,this.mPanner),this.mSends=new r(t),this.mPostGain.connect(this.mSends.input)}return Object.defineProperty(t.prototype,"input",{get:function(){return this.mEffects.input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"effects",{get:function(){return this.mEffects},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preGain",{get:function(){return this.mEffects.preGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postGain",{get:function(){return this.mPostGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panner",{get:function(){return this.mPanner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sends",{get:function(){return this.mSends},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.mPostGain.disconnect(),this.mPostGain.connect(this.mSends.input),this.mPostGain.connect(t)},t.prototype.disconnect=function(){this.mPostGain.disconnect(),this.mPostGain.connect(this.mSends.input)},t.prototype.dispose=function(){this.mPanner.disconnect(),this.mPostGain.disconnect(),this.mEffects.dispose(),this.mSends.dispose(),this.mPanner=null,this.mPostGain=null,this.mEffects=null,this.mSends=null},t}(),c=function(){function t(t,e){this.mContext=t,this.mMasterBus=new s(t,e),this.mBusses=new Map,this.mBusses.set("master",this.mMasterBus)}return Object.defineProperty(t.prototype,"context",{get:function(){return this.mContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"master",{get:function(){return this.mMasterBus},enumerable:!1,configurable:!0}),t.prototype.create=function(t,e){if(this.mBusses.has(t))return null;var n=new s(this.context,e||this.mMasterBus.input);return this.mBusses.set(t,n),n},t.prototype.get=function(t){return this.mBusses.get(t)||null},t.prototype.remove=function(t){return this.mBusses.get(t),this.mBusses.delete(t)},t.prototype.dispose=function(){this.mBusses.forEach((function(t){return t.dispose()})),this.mBusses.clear(),this.mBusses=null,this.mMasterBus=null},t}(),u="pointerdown",a=function(){function t(t,e,n){this.mEffects=new o(t,n),this.mSound=e,this.mSound&&this.mSound.connect(this.mEffects.input)}return Object.defineProperty(t.prototype,"effects",{get:function(){return this.mEffects},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.mEffects.context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this.mSound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gain",{get:function(){return this.mEffects.gain.gain},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t;null===(t=this.mSound)||void 0===t||t.disconnect(),this.mSound=null,this.mEffects.dispose(),this.mEffects=null},t.prototype.connect=function(t){this.mEffects.connect(t)},t}(),l=function(){function t(t,e){this.mContext=t,this.mTargets=[],e?this.set(e):(this.mAttackTime=0,this.mAttackLevel=1,this.mDecayTime=.5,this.mSustainLevel=.25,this.mHoldTime=.25,this.mReleaseTime=.5)}return Object.defineProperty(t.prototype,"attackTime",{get:function(){return this.mAttackTime},set:function(t){this.mAttackTime=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attackLevel",{get:function(){return this.mAttackLevel},set:function(t){this.mAttackLevel=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decayTime",{get:function(){return this.mDecayTime},set:function(t){this.mDecayTime=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sustainLevel",{get:function(){return this.mSustainLevel},set:function(t){this.mSustainLevel=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holdTime",{get:function(){return this.mHoldTime},set:function(t){this.mHoldTime=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"releaseTime",{get:function(){return this.mReleaseTime},set:function(t){this.mReleaseTime=Math.max(0,t)},enumerable:!1,configurable:!0}),t.prototype.addTarget=function(t){this.mTargets.push(t)},t.prototype.removeTarget=function(t){for(var e=0;e<this.mTargets.length;++e)if(Object.is(this.mTargets[e],t)){this.mTargets.splice(e,1);break}},t.prototype.set=function(t){var e,n,o,i,r,s;this.mAttackTime=null!==(e=t.attackTime)&&void 0!==e?e:this.mAttackTime,this.mAttackLevel=null!==(n=t.attackLevel)&&void 0!==n?n:this.mAttackLevel,this.mDecayTime=null!==(o=t.decayTime)&&void 0!==o?o:this.mDecayTime,this.mSustainLevel=null!==(i=t.sustainLevel)&&void 0!==i?i:this.mSustainLevel,this.mHoldTime=null!==(r=t.holdTime)&&void 0!==r?r:this.mHoldTime,this.mReleaseTime=null!==(s=t.releaseTime)&&void 0!==s?s:this.mReleaseTime},t.prototype.activate=function(t){var e=this;void 0===t&&(t=0);var n=this.mContext.currentTime+t+.02,o=n+this.mAttackTime,i=n+this.mAttackTime+this.mDecayTime+this.mHoldTime;this.mTargets.forEach((function(t){t.cancelScheduledValues(n),t.linearRampToValueAtTime(0,n),t.setTargetAtTime(e.mAttackLevel,n,.1*e.mAttackTime),t.setTargetAtTime(e.mSustainLevel,o,.1*e.mDecayTime),t.setTargetAtTime(0,i,.1*e.mReleaseTime)}))},t.prototype.cancel=function(t){var e=this;void 0===t&&(t=0),this.mTargets.forEach((function(n){n.cancelScheduledValues(e.mContext.currentTime+t)}))},t}(),h=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),p=function(t){function e(e,n,o){var i=this,r=o?new OscillatorNode(e,o):new OscillatorNode(e);return(i=t.call(this,e,r,n)||this).envelope=new l(e),i.envelope.addTarget(i.gain),i.gain.value=0,i.source.start(e.currentTime),i}return h(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.source.type},set:function(t){this.source.type=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frequency",{get:function(){return this.source.frequency},enumerable:!1,configurable:!0}),e.prototype.load=function(t){throw"Synth#load should not be called!"},e.prototype.play=function(t){return void 0===t&&(t=0),this.envelope.activate(t),this.source},e.prototype.unload=function(){throw"Synth#unload should not be called!"},e}(a),f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){function e(e,n,o){var i=new MediaElementAudioSourceNode(e,{mediaElement:o?new Audio(o):new Audio});return t.call(this,e,i,n)||this}return f(e,t),e.prototype.load=function(t){return this.source.mediaElement.src=t,this.source.mediaElement.load(),!0},e.prototype.unload=function(){this.source.mediaElement.src=""},e.prototype.play=function(){return t=this,e=void 0,o=function(){var t=this;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(6===c[0]&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(e){return[2,this.source.mediaElement.play().then((function(){return t.source})).catch((function(){return null}))]}))},new((n=void 0)||(n=Promise))((function(i,r){function s(t){try{u(o.next(t))}catch(t){r(t)}}function c(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}u((o=o.apply(t,e||[])).next())}));var t,e,n,o},e.prototype.stop=function(){this.source.mediaElement.pause(),this.source.mediaElement.currentTime=0},e.prototype.setPause=function(t){t?this.source.mediaElement.pause():this.source.mediaElement.play()},Object.defineProperty(e.prototype,"paused",{get:function(){return this.source.mediaElement.paused},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.source.mediaElement.src="",t.prototype.dispose.call(this)},e}(a),m=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},y=function(){function t(){this.callbacks=[]}return t.prototype.addListener=function(t,e){void 0===e&&(e=null),this.callbacks.push({context:e,callback:t})},t.prototype.removeListener=function(t,e){void 0===e&&(e=null);for(var n=0;n<this.callbacks.length;++n)if(Object.is(this.callbacks[n].callback,t)&&(!e||Object.is(this.callbacks[n].context,e)))return this.callbacks.splice(n,1),!0;return!1},t.prototype.invoke=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var i=0;i<this.callbacks.length;++i)this.callbacks[i].context?(t=this.callbacks[i].callback).call.apply(t,m([this.callbacks[i].context],n,!1)):(e=this.callbacks[i]).callback.apply(e,n)},Object.defineProperty(t.prototype,"length",{get:function(){return this.callbacks.length},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.callbacks=[]},t}();function g(t,e){return n=this,o=void 0,r=function(){var n;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(6===c[0]&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(o){switch(o.label){case 0:return[4,fetch(e)];case 1:return[4,o.sent().arrayBuffer()];case 2:return n=o.sent(),[2,t.decodeAudioData(n)]}}))},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{u(r.next(t))}catch(t){e(t)}}function c(t){try{u(r.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,c)}u((r=r.apply(n,o||[])).next())}));var n,o,i,r}var v,b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w=function(t){function e(e,n,o){var i=t.call(this,e,null,n)||this;return i.defaults={buffer:null,loop:!1,playbackRate:1,detune:0,loopStart:0,loopEnd:0},i.onended=new y,i.onendedHandler=i.onendedHandler.bind(i),o&&i.load(o),i}return b(e,t),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return null!==this.defaults.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"looping",{get:function(){return this.defaults.loop},set:function(t){this.defaults.loop=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopStart",{get:function(){return this.defaults.loopStart},set:function(t){this.defaults.loopStart=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopEnd",{get:function(){return this.defaults.loopEnd},set:function(t){this.defaults.loopEnd=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this.defaults.playbackRate},set:function(t){this.defaults.playbackRate=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"detune",{get:function(){return this.defaults.detune},set:function(t){this.defaults.detune=t},enumerable:!1,configurable:!0}),e.prototype.load=function(t){return e=this,n=void 0,i=function(){var e=this;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(6===c[0]&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(n){return[2,g(this.context,t).then((function(t){return e.defaults.buffer=t,!0})).catch((function(t){return console.error(t),!1}))]}))},new((o=void 0)||(o=Promise))((function(t,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,c)}u((i=i.apply(e,n||[])).next())}));var e,n,o,i},e.prototype.onendedHandler=function(t){this.onended.invoke(t.target,this)},e.prototype.unload=function(){this.defaults.buffer=null},e.prototype.play=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var o=this.defaults?new AudioBufferSourceNode(this.context,this.defaults):new AudioBufferSourceNode(this.context);return o.connect(this.effects.input),o.onended=this.onendedHandler,void 0===n?o.start(this.context.currentTime+t,e):o.start(this.context.currentTime+t,e,n),o},e}(a),P=function(){function t(){this.mContext=null,this.mBusses=null,this.mSounds=new Map,this.mMusic=new Map,this.mSynths=new Map}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.mContext.listener},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"busses",{get:function(){return this.mBusses},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.mContext},enumerable:!1,configurable:!0}),t.prototype.getSound=function(t){return this.mSounds.get(t)||null},t.prototype.getMusic=function(t){return this.mMusic.get(t)||null},t.prototype.getSynth=function(t){return this.mSynths.get(t)||null},t.prototype.loadSound=function(t,e){var n=this.mSounds.get(t);if(!n){var o=e?this.mBusses.get(e):this.mBusses.master;o||(o=this.mBusses.master),n=new w(this.context,o.input),this.mSounds.set(t,n),n.load(t).then((function(){return n})).catch((function(){return null}))}return n},t.prototype.loadMusic=function(t,e){var n=this.mMusic.get(t);if(!n){var o=e?this.mBusses.get(e):this.mBusses.master;o||(o=this.mBusses.master),n=new d(this.context,o.input),this.mMusic.set(t,n),n.load(t)}return n},t.prototype.loadSynth=function(t,e,n){void 0===e&&(e="master");var o=this.mSynths.get(t);if(!o){var i=this.mBusses.get(e);o=new p(this.context,i.input,n),this.mSynths.set(t,o)}return o},t.prototype.wasInit=function(){return null!==this.mContext},t.prototype.init=function(){var t=null;try{t=new(window.AudioContext||window.webkitAudioContext)}catch(t){return console.error("AudioContext is not supported in this browser."),!1}return function(t){"running"!==t.state&&window.addEventListener(u,(function e(){t.resume().then((function(){console.log("Resumed AudioContext."),window.removeEventListener(u,e)})).catch((function(t){console.log("Failed to resume AudioContext:",t)}))}))}(t),this.mBusses=new c(t),this.mContext=t,!0},t.prototype.dispose=function(){this.mBusses.dispose(),this.mMusic.forEach((function(t){return t.dispose()})),this.mMusic.clear(),this.mMusic=null,this.mSounds.forEach((function(t){return t.dispose()})),this.mSounds.clear(),this.mSounds=null,this.mSynths.forEach((function(t){return t.dispose()})),this.mSynths.clear(),this.mSynths=null,this.mContext=null},t}(),k={tickSpeed:33.34},x=function(){function t(t){var n;void 0===t&&(t=k),this.mTickSpeed=null!==(n=t.tickSpeed)&&void 0!==n?n:k.tickSpeed,this.mKeyboard=new e,this.mAudio=new P}return Object.defineProperty(t.prototype,"keyboard",{get:function(){return this.mKeyboard},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audio",{get:function(){return this.mAudio},enumerable:!1,configurable:!0}),t.prototype.quit=function(){this.mIsRunning=!1},Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.mIsRunning},enumerable:!1,configurable:!0}),t.prototype.run=function(){var t=this;this.mIsRunning=this.initialize(),this.mLastTicks=performance.now(),this.render(),this.mInterval=setInterval((function(){return t.runOneFrame()}),this.mTickSpeed)},t.prototype.runOneFrame=function(){if(this.isRunning){var t=performance.now(),e=t-this.mLastTicks;this.processInput(),this.update(e),this.render(),this.keyboard.update(e),this.mLastTicks=t}else clearInterval(this.mInterval)},t.prototype.processInput=function(){},t}(),E=function(){function t(t,e,n){this.grid=n?new Uint32Array(n):new Uint32Array(t*e),this.rowCount=t,this.colCount=e,n&&console.assert(n.length===t*e)}return t.prototype.reset=function(){for(var t=0;t<this.grid.length;++t)this.grid[t]=0},t.prototype.getWidth=function(t){return void 0===t&&(t=0),t%2==0?this.colCount:this.rowCount},t.prototype.getHeight=function(t){return void 0===t&&(t=0),t%2==0?this.rowCount:this.colCount},t.prototype.mergeInto=function(t,e,n,o){void 0===o&&(o=0);for(var i=n.getHeight(o),r=n.getWidth(o),s=0;s<i;++s)for(var c=0;c<r;++c){var u=n.get(s,c,o);0!==u&&this.set(s+t,c+e,u)}},t.prototype.leftMost=function(t){void 0===t&&(t=0);for(var e=t%2==0?this.rowCount:this.colCount,n=t%2==0?this.colCount:this.rowCount,o=0;o<n;++o)for(var i=0;i<e;++i)if(this.get(i,o,t))return o;return-1},t.prototype.rightMost=function(t){void 0===t&&(t=0);for(var e=t%2==0?this.rowCount:this.colCount,n=(t%2==0?this.colCount:this.rowCount)-1;n>=0;--n)for(var o=0;o<e;++o)if(this.get(o,n,t))return n;return-1},t.prototype.topMost=function(t){void 0===t&&(t=0);for(var e=t%2==0?this.rowCount:this.colCount,n=t%2==0?this.colCount:this.rowCount,o=0;o<e;++o)for(var i=0;i<n;++i)if(this.get(o,i,t))return o;return-1},t.prototype.bottomMost=function(t){void 0===t&&(t=0);for(var e=t%2==0?this.rowCount:this.colCount,n=t%2==0?this.colCount:this.rowCount,o=e-1;o>=0;--o)for(var i=0;i<n;++i)if(this.get(o,i,t))return o;return-1},t.prototype.intersects=function(t,e,n,o,i){void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0);for(var r=o%2==0?this.rowCount:this.colCount,s=o%2==0?this.colCount:this.rowCount,c=0;c<r&&!(c+e>=t.rowCount);++c)if(!(c+e<0))for(var u=0;u<s&&!(u+n>=t.colCount);++u)if(!(u+n<0)&&0!==this.get(c,u,o)&&0!==t.get(c+e,u+n,i))return!0;return!1},t.prototype.createRotated=function(e){if(0===e)return new t(this.rowCount,this.colCount,this.grid);for(var n=new Array(this.rowCount*this.colCount),o=e%2==0?this.rowCount:this.colCount,i=e%2==0?this.colCount:this.rowCount,r=0,s=0;s<o;++s)for(var c=0;c<i;++c)n[r]=this.get(s,c,e),++r;return new t(o,i,n)},t.prototype.get=function(t,e,n){switch(void 0===n&&(n=0),n=Math.floor(n)%4){case 0:return this.grid[t*this.colCount+e];case 1:return this.grid[(this.rowCount-1-e)*this.colCount+t];case 2:return this.grid[(this.rowCount-1-t)*this.colCount+(this.colCount-1-e)];case 3:return this.grid[e*this.colCount+this.colCount-1-t]}},t.prototype.set=function(t,e,n){return this.grid[this.gridToIndex(t,e)]=n,this},t.prototype.isFreeAt=function(t,e){return 0===this.get(t,e)},t.prototype.gridToIndex=function(t,e){return this.clampIndex(t*this.colCount+e)},t.prototype.clampIndex=function(t){return Math.max(Math.min(t,this.rowCount*this.colCount-1),0)},t.prototype.toString=function(t){void 0===t&&(t=0);for(var e="",n=0;n<this.rowCount;++n){for(var o=0;o<this.colCount;++o)e+=this.get(n,o,t),n===this.rowCount-1&&o===this.colCount-1||(e+=", ");e+="\n"}return e},t}();!function(t){t[t.Chrome=0]="Chrome",t[t.IExplorer=1]="IExplorer",t[t.FireFox=2]="FireFox",t[t.Safari=3]="Safari",t[t.Brave=4]="Brave",t[t.Unknown=5]="Unknown"}(v||(v={}));var C,S,O,T,R,j,M=(C=navigator.userAgent,S=C.indexOf("Chrome")>-1,O=C.indexOf("MSIE")>-1||C.indexOf("rv:")>-1,T=C.indexOf("Firefox")>-1,R=C.indexOf("Safari")>-1&&!S,j=void 0!==navigator.brave,function(t){switch(t){case v.Brave:return j;case v.Chrome:return S;case v.FireFox:return T;case v.Safari:return R;case v.IExplorer:return O}return!1}),A={None:{color:"#ffffff00",id:0,piece:null},Stick:{color:"skyblue",id:1,piece:new E(4,4,[0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0])},L:{color:"orange",id:2,piece:new E(3,3,[0,0,0,2,2,2,2,0,0])},RevL:{color:"blue",id:3,piece:new E(3,3,[0,0,0,3,3,3,0,0,3])},StepR:{color:"red",id:4,piece:new E(3,3,[0,0,0,0,4,4,4,4,0])},StepL:{color:"green",id:5,piece:new E(3,3,[0,0,0,5,5,0,0,5,5])},T:{color:"purple",id:6,piece:new E(3,3,[0,6,0,6,6,6,0,0,0])},Box:{color:"gray",id:7,piece:new E(2,2,[7,7,7,7])}};function L(){return A[(7,Math.floor(7*Math.random())+1)].piece}var B=getComputedStyle(document.documentElement);Object.keys(A).forEach((function(t){var e=A[t];A[e.id]=e,e.color=B.getPropertyValue("--block-color-"+e.id)})),Object.freeze(A),Object.seal(A);var I=function(){function t(t,e){this.startSpeed=1e3,this.maxSpeed=50,this.grid=t,this.speed=this.startSpeed,this.isPaused=!1,this.getNextPiece=e,this.displayShadow=!0,this.pressure=0,this.maxPressure=200,this.underPressure=!1,this.onPieceConnect=new y,this.onLineClear=new y,this.onLose=new y,this.onReset=new y,this.onMove=new y,this.reset()}return t.prototype.applyTransformation=function(){this.moveRelCol=Math.floor(this.moveRelCol),this.moveRelRow=Math.floor(this.moveRelRow);var t=-1===this.nextAngle?this.angle:this.nextAngle;if(0!==this.moveRelCol){for(var e=Math.sign(this.moveRelCol),n=this.moveRelCol;0!==n&&(n<0&&this.outboundsLeft(this.col+n,t)||n>0&&this.outboundsRight(this.col+n,t)||this.piece.intersects(this.grid,this.row,this.col+n,t));)n-=e;this.moveRelCol=n}if(0!==this.moveRelRow){e=Math.sign(this.moveRelRow);for(var o=this.moveRelRow;0!==o&&(o>0&&this.outboundsDown(this.row+o,t)||this.piece.intersects(this.grid,this.row+o,this.col+this.moveRelCol,t));)o>0&&(this.underPressure=!0),o-=e;this.moveRelRow=o}this.moveRelCol+=this.applyAngle(this.row+this.moveRelRow,this.col+this.moveRelCol),this.moveRelRow+=this.constrictBoundsRows(this.row+this.moveRelRow,this.angle),this.moveRelCol+=this.constrictBoundsCols(this.col+this.moveRelCol,this.angle,this.moveRelCol<0,this.moveRelCol>0),this.row+=this.moveRelRow,this.col+=this.moveRelCol,this.piece.intersects(this.grid,this.row+1,this.col,this.angle)||this.outboundsDown(this.row+1,this.angle)||(this.underPressure=!1,this.pressure=0),this.onMove.invoke(this.moveRelRow,this.moveRelCol),this.moveRelRow=0,this.moveRelCol=0,this.nextAngle=-1},t.prototype.update=function(t){this.isPaused||(this.counter-=t,this.applyTransformation(),this.underPressure&&(this.pressure+=t,this.pressure>=this.maxPressure&&this.connectToBoard()),this.counter<=0&&(this.counter+=this.speed,this.moveDownOne()))},t.prototype.resetCounter=function(){this.counter=this.speed},t.prototype.connectToBoard=function(){var t=this;this.grid.mergeInto(this.row,this.col,this.piece,this.angle);var e=this.grid.processFullRows();if(e.length>0){var n=document.getElementById("grid").children;e.forEach((function(e){for(var o=0;o<t.grid.getWidth();++o){var i=n[e*t.grid.getWidth()+o];i.classList.remove("row-clear"),i.classList.add("row-clear")}})),this.onLineClear.invoke(e)}this.row<-this.piece.topMost(this.angle)&&(this.grid.loseAnim(),this.isPaused=!0,this.onLose.invoke()),this.onPieceConnect.invoke(this),this.reset()},t.prototype.moveDownOne=function(){0===this.moveRelRow&&this.move(1,0)},t.prototype.move=function(t,e){this.moveRelRow+=t,this.moveRelCol+=e},t.prototype.immediateDrop=function(){for(var t=1,e=this.piece.bottomMost(this.angle);!this.piece.intersects(this.grid,t+this.row,this.col,this.angle)&&t+this.row<this.grid.getHeight()-e;)++t;return this.moveRelRow=0,this.moveRelCol=0,this.nextAngle=-1,this.move(t-1,0),this.applyTransformation(),this.connectToBoard(),this.counter=this.speed,t},t.prototype.getTileEls=function(){for(var t=[],e=document.getElementById("grid").children,n=this.grid.getWidth(),o=this.grid.getHeight(),i=this.piece.getWidth(this.angle),r=this.piece.getHeight(this.angle),s=0;s<r;++s)for(var c=0;c<i;++c){var u=s+this.row,a=c+this.col;a>=n||a<0||u>=o||u<0||this.piece.get(s,c,this.angle)&&t.push(e[u*n+a])}return t},t.prototype.constrictBoundsRows=function(t,e){return Math.min(t,this.grid.getHeight()-1-this.piece.bottomMost(e))-t},t.prototype.constrictBoundsCols=function(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!0);var i=t;return n&&(i=Math.max(t,-this.piece.leftMost(e))),o&&(i=Math.min(t,this.grid.getWidth()-1-this.piece.rightMost(e))),i-t},t.prototype.outboundsLeft=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t<-this.piece.leftMost(e)},t.prototype.outboundsRight=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t>this.grid.getWidth()-1-this.piece.rightMost(e)},t.prototype.outboundsDown=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t>this.grid.getHeight()-1-this.piece.bottomMost(e)},t.prototype.outboundsTop=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.row+t<-this.piece.topMost(e)},t.prototype.restart=function(){this.reset(),this.speed=this.startSpeed},t.prototype.reset=function(t){t||(t=this.getNextPiece());for(var e=-t.topMost(),n=Math.round((this.grid.colCount-t.colCount)/2);t.intersects(this.grid,e,n);)--e;this.row=e,this.col=n,this.moveRelRow=0,this.moveRelCol=0,this.nextAngle=-1,this.pressure=0,this.underPressure=!1,this.isPaused=!1,this.angle=0,this.counter=this.speed,this.piece=t,this.onReset.invoke()},t.prototype.applyAngle=function(t,e){if(-1===this.nextAngle)return 0;var n=this.nextAngle;if(!(this.piece.intersects(this.grid,t,e,n,0)||this.outboundsLeft(e,n)||this.outboundsRight(e,n)||this.outboundsDown(t,n)))return this.angle=n,0;for(var o=1;o<3;++o){if(!(this.piece.intersects(this.grid,t,e+o,n,0)||this.outboundsLeft(e+o,n)||this.outboundsRight(e+o,n)||this.outboundsDown(t+o,n)))return this.angle=n,o;if(!(this.piece.intersects(this.grid,t,e-o,n,0)||this.outboundsLeft(e-o,n)||this.outboundsRight(e-o,n)||this.outboundsDown(t-o,n)))return this.angle=n,-o}return 0},t.prototype.rotate=function(t){this.nextAngle=(t%4+4)%4},t.prototype.willCollide=function(t,e,n){return void 0===t&&(t=1),void 0===e&&(e=0),this.piece.intersects(this.grid,this.row+t,this.col+e,void 0===n?this.angle:n,0)},t.prototype.canRotateAt=function(t,e,n){return this.piece.leftMost(n),!1},t.prototype.render=function(t){var e=0;if(this.displayShadow){for(e=1;!this.piece.intersects(this.grid,this.row+e,this.col,this.angle)&&!this.outboundsDown(this.row+e,this.angle);)++e;--e}for(var n=0;n<this.piece.rowCount;++n)for(var o=0;o<this.piece.colCount;++o){var i=this.piece.get(n,o,this.angle);if(0!==i){if(0!==e){var r=t[(n+this.row+e)*this.grid.colCount+o+this.col];r?(r.style.border=".5vmin "+A[i].color+" dashed",r.style.opacity=".6",r.style.background="rgba(0, 0, 0, .1)"):console.warn("Actor.render: shadowTile was undefined.")}if(n+this.row>=this.grid.rowCount||n+this.row<0)continue;if(o+this.col>=this.grid.colCount||o+this.col<0)continue;var s=t[(n+this.row)*this.grid.colCount+o+this.col];s?(s.style.background=A[i].color,s.style.boxShadow="-.5vmin 1vmin .5vmin .5vmin rgba(0, 0, 0, 0.1)",s.style.opacity="1",s.style.border=""):console.warn("tile missing!")}}},t}(),D=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},G=function(){function t(){this.callbacks=[]}return t.prototype.addListener=function(t,e){void 0===e&&(e=null),this.callbacks.push({context:e,callback:t})},t.prototype.removeListener=function(t,e){void 0===e&&(e=null);for(var n=0;n<this.callbacks.length;++n)if(Object.is(this.callbacks[n].callback,t)&&(!e||Object.is(this.callbacks[n].context,e)))return this.callbacks.splice(n,1),!0;return!1},t.prototype.invoke=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var i=0;i<this.callbacks.length;++i)this.callbacks[i].context?(t=this.callbacks[i].callback).call.apply(t,D([this.callbacks[i].context],n,!1)):(e=this.callbacks[i]).callback.apply(e,n)},Object.defineProperty(t.prototype,"length",{get:function(){return this.callbacks.length},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.callbacks=[]},t}(),_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),N=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.onAnimEnd=new G,o}return _(e,t),e.prototype.loseAnim=function(){var t=this,e=document.getElementById("grid").children,n=0;if(M(v.Safari))var o=setInterval((function(){for(var e=0;e<t.getWidth();++e)t.grid[n*t.getWidth()+e]=8;++n>=t.getHeight()&&(clearInterval(o),t.onAnimEnd.invoke("lose"))}),50);else var i=setInterval((function(){t.grid[n]=8,e[n].classList.add("small-grow"),++n>=t.grid.length&&(clearInterval(i),t.onAnimEnd.invoke("lose"))}),16.67)},e.prototype.processFullRows=function(){for(var t=this,e=[],n=0;n<this.getHeight();++n){for(var o=!0,i=0;i<this.getWidth();++i)if(0===this.get(n,i)){o=!1;break}o&&e.push(n)}return setTimeout((function(){e.forEach((function(e){var n=t.getWidth();0!==e&&t.grid.copyWithin(n,0,e*n);for(var o=0;o<n;++o)t.grid[o]=0})),t.onAnimEnd.invoke("line-clear")}),300),e},e}(E);function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}var H,K,F,U,V,z,q,Q,J,X,Y,Z,$,tt,et=function t(e,n){function o(t,o,i){if("undefined"!=typeof document){"number"==typeof(i=W({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var s in i)i[s]&&(r+="; "+s,!0!==i[s]&&(r+="="+i[s].split(";")[0]));return document.cookie=t+"="+e.write(o,t)+r}}return Object.create({set:o,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var r=n[i].split("="),s=r.slice(1).join("=");try{var c=decodeURIComponent(r[0]);if(o[c]=e.read(s,c),t===c)break}catch(t){}}return t?o[t]:o}},remove:function(t,e){o(t,"",W({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,W({},this.attributes,e))},withConverter:function(e){return t(W({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),nt=function(){function t(){this.load()}return t.prototype.load=function(){var t;for(this.data=void 0===(t=et.get("tetris-highscore"))?new Array(0):JSON.parse(t);this.data.length<10;)this.data.push({score:0,name:""});this.sort()},t.prototype.save=function(){var t;this.sort(),t=this.data,et.set("tetris-highscore",JSON.stringify(t),{expires:365})},t.prototype.scoreQualifies=function(t){var e;for(e=0;e<this.data.length&&!(t<this.data[e].score);++e);return e-1},t.prototype.insertScore=function(t,e,n){this.data.splice(n,0,{score:t,name:e}),this.data.shift()},Object.defineProperty(t.prototype,"scores",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"highestScore",{get:function(){return 0===this.data.length?0:this.data[this.data.length-1].score},enumerable:!1,configurable:!0}),t.prototype.show=function(){var t=document.getElementById("gameover-overlay"),e=document.getElementById("highscore-text");t.classList.add("show");for(var n="",o=this.data.length-1;o>=0;--o)n+="\n            <p><span>".concat(this.data.length-o," .</span> ").concat(this.data[o].name,' <span class="highscore-score">').concat(this.data[o].score,"</span></p>\n            ");e.innerHTML=n},t.prototype.hide=function(){document.getElementById("gameover-overlay").classList.remove("show")},t.prototype.sort=function(){this.data.sort((function(t,e){return t.score-e.score}))},t}(),ot=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();(new(function(t){function e(){var e=t.call(this,{tickSpeed:16.67})||this;return e.totalLines=0,e}return ot(e,t),e.prototype.getNextPiece=function(){var t=this.nextPiece;return this.nextPiece=L(),t},e.prototype.eraseAll=function(){},e.prototype.initialize=function(){var t=this;this.getNextPiece=this.getNextPiece.bind(this),this.nextPiece=L(),H=document.getElementById("tetris"),K=document.getElementById("grid"),F=document.getElementById("highscore"),U=document.getElementById("highscore-form"),V=document.getElementById("highscore-submit"),z=document.getElementById("points"),q=document.getElementById("level"),Q=document.getElementById("lines"),J=document.getElementById("next-up-grid"),X=document.getElementById("holding-grid"),Y=document.getElementById("pause-btn"),Z=document.getElementById("target-btn"),$=document.getElementById("gameover-overlay"),tt=document.getElementById("try-again-btn");for(var e=0;e<20;++e)for(var n=0;n<10;++n){var o=document.createElement("div");o.id="r"+e+"c"+n,o.style.zIndex=""+e,K.appendChild(o)}for(e=0;e<25;++e)J.appendChild(document.createElement("div")),X.appendChild(document.createElement("div"));H.addEventListener("animationend",(function(t){var e=t.target;"small-grow"!==t.animationName&&"row-clear"!==t.animationName||e.classList.remove(t.animationName)})),X.addEventListener("click",(function(e){t.gameOver||t.isPaused||t.swapPiece()})),Y.addEventListener("click",(function(e){t.isPaused?(Y.children[0].className="fa-solid fa-pause",t.isPaused=!1):(Y.children[0].className="fa-solid fa-play",t.isPaused=!0)})),Z.addEventListener("click",(function(e){t.player.displayShadow=!t.player.displayShadow})),V.addEventListener("click",(function(e){if(t.gameOver&&U.classList.contains("show")){var n=document.querySelector("#highscore-form input");if(n){if(0!==n.value.length){var o=t.scores.scoreQualifies(t.score);t.scores.insertScore(t.score,n.value,o),t.scores.save(),U.classList.remove("show"),t.scores.show()}}else console.warn("Failed to get highscore input element!")}})),tt.addEventListener("click",(function(e){t.gameOver&&$.classList.contains("show")&&(t.scores.hide(),t.reset())}));var i=new N(20,10),r=new I(i,this.getNextPiece),s=new nt;return r.onPieceConnect.addListener((function(e){e.getTileEls().forEach((function(t){t.classList.remove("small-grow"),t.classList.add("small-grow")})),t.lastSwapped&&(t.lastSwapped=null)})),r.onReset.addListener((function(){t.drawNextPiece()})),r.onLineClear.addListener((function(e){4===e.length?t.score+=800*t.level:3===e.length?t.score+=400*t.level:2===e.length?t.score+=200*t.level:1===e.length&&(t.score+=100*t.level),t.totalLines+=e.length,t.level=Math.floor(t.totalLines/5)+1,r.speed=Math.max(r.startSpeed-50*t.level,r.maxSpeed)})),r.onLose.addListener((function(){t.gameOver=!0})),r.onMove.addListener((function(e,n){t.arrowDownCheck&&e>0&&++t.score,t.arrowDownCheck=!1})),i.onAnimEnd.addListener((function(e){if("line-clear"===e&&t.render(),"lose"===e){var n=t.scores.scoreQualifies(t.score);n>-1?(document.getElementById("highscore-description").innerText="You got #"+(t.scores.data.length-n).toString()+" place!",t.keyboard.allowDefault=!0,U.classList.add("show")):(t.scores.show(),t.keyboard.allowDefault=!0)}})),this.player=r,this.grid=i,this.scores=s,this.reset(),!0},e.prototype.drawPiece=function(t,e){if(t){for(var n=e.children,o=0;o<25;++o)n[o].style.background="";for(var i=0;i<t.getHeight();++i)for(var r=0;r<t.getWidth();++r)n[5*(i+1)+r+1].style.background=A[t.get(i,r)].color}},e.prototype.drawNextPiece=function(){this.drawPiece(this.nextPiece,J)},e.prototype.drawHeldPiece=function(){this.drawPiece(this.storedPiece,X)},e.prototype.reset=function(){this.player.restart(),this.grid.reset(),this.keyboard.allowDefault=!1,this.score=0,this.level=1,this.totalLines=0,this.storedPiece=null,this.lastSwapped=null,this.gameOver=!1,this.isPaused=!1,this.arrowDownCheck=!1,this.render()},e.prototype.update=function(t){var e=this.keyboard,n=this.player;e.justDown("KeyP")&&Y.click(),e.justDown("KeyT")&&Z.click(),this.gameOver&&e.justDown("Enter")&&(U.classList.contains("show")&&V.click(),$.classList.contains("show")&&tt.click()),this.gameOver||this.isPaused||(e.isDown("ArrowDown")&&n.resetCounter(),e.justDown("KeyX")&&n.rotate(n.angle+1),e.justDown("KeyZ")&&n.rotate(n.angle-1),e.justDown("ArrowUp")&&(this.score+=n.immediateDrop()),e.justDown("KeyC")&&this.swapPiece(),e.isRepeating("ArrowLeft",100,65)&&n.move(0,-1),e.isRepeating("ArrowRight",100,65)&&n.move(0,1),e.isRepeating("ArrowDown",100,65)&&(n.moveDownOne(),this.arrowDownCheck=!0),n.update(t))},e.prototype.swapPiece=function(){if(this.lastSwapped!==this.player.piece){var t=this.storedPiece;this.lastSwapped=this.storedPiece,this.storedPiece=this.player.piece,this.player.reset(t),this.drawHeldPiece()}},e.prototype.render=function(){F.innerText=Math.max(this.scores.highestScore,this.score).toString(),z.innerText=this.score.toString(),q.innerText=this.level.toString(),Q.innerText=this.totalLines.toString();for(var t=K.children,e=0;e<20;++e)for(var n=0;n<10;++n){var o=10*e+n,i=this.grid.get(e,n);t[o].style.background=8===i?"rgba(0, 0, 0, 0.75)":A[i].color,t[o].style.boxShadow="",t[o].style.zIndex="1",t[o].style.opacity="1",t[o].style.border=""}this.player.render(t)},e}(x))).run()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVppRyxFQUE4QixzQkFBd0J4TSxFQUFVd00sR0FBU3RNLE1BQ3ZHZ0UsRUFBTXpZLEdBQUttYSxNQUFNSyxVQUFZLEdBQzdCL0IsRUFBTXpZLEdBQUttYSxNQUFNaUYsT0FBUyxJQUMxQjNHLEVBQU16WSxHQUFLbWEsTUFBTUUsUUFBVSxJQUMzQjVCLEVBQU16WSxHQUFLbWEsTUFBTUMsT0FBUyxFQUM5QixDQUVKNWMsS0FBS2tpQixPQUFPN08sT0FBTzRILEVBQ3ZCLEVBQ09xRyxDQUNYLENBelIyQixDQXlSekI3TyxLRzFUR08iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvS2V5Ym9hcmQudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9Nb25vU3ludGgudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9BdWRpb0VmZmVjdC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvV2ViQUEvc3JjL0VmZmVjdENoYWluLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvU2VuZC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvV2ViQUEvc3JjL1NlbmRNZ3IudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9CdXMudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9CdXNNZ3IudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9JbnRlcmFjdGlvbi50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvV2ViQUEvc3JjL1NvdW5kLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvRW52ZWxvcGUudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9NdXNpYy50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvV2ViQUEvc3JjL0RlbGVnYXRlLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvTG9hZGluZy50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvV2ViQUEvc3JjL1NvdW5kRWZmZWN0LnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9VdGlsLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvQXVkaW9FbmdpbmUudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL0dhbWUudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL0dyaWQudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1BpZWNlRGF0YS50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvQWN0b3IudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL0RlbGVnYXRlLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9UZXRyaXNHcmlkLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uLy55YXJuL2NhY2hlL2pzLWNvb2tpZS1ucG0tMy4wLjUtOGZjOGZjYzliNC0yZGJkMjgwOWM2LnppcC9ub2RlX21vZHVsZXMvanMtY29va2llL2Rpc3QvanMuY29va2llLm1qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvVGV0cmlzLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9IaWdoU2NvcmVCb2FyZC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvU3RvcmFnZS50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEtleWJvYXJkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEtleWJvYXJkKCkge1xuICAgICAgICB2YXIgY29kZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNvZGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5rZXlzID0gW107XG4gICAgICAgIHRoaXMua2V5TWFwID0gbmV3IE1hcDtcbiAgICAgICAgaWYgKGNvZGVzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuYWRkLmFwcGx5KHRoaXMsIGNvZGVzKTtcbiAgICAgICAgdGhpcy5hdXRvTW9kZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYWxsb3dEZWZhdWx0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvY2Vzc0tleXVwID0gdGhpcy5wcm9jZXNzS2V5dXAuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzS2V5ZG93biA9IHRoaXMucHJvY2Vzc0tleWRvd24uYmluZCh0aGlzKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5wcm9jZXNzS2V5ZG93bik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLnByb2Nlc3NLZXl1cCk7XG4gICAgfVxuICAgIEtleWJvYXJkLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5wcm9jZXNzS2V5ZG93bik7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLnByb2Nlc3NLZXl1cCk7XG4gICAgfTtcbiAgICBLZXlib2FyZC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICB0aGlzLmtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBrZXkubGFzdFN0YXRlID0ga2V5LnN0YXRlO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0ZSA+IDApXG4gICAgICAgICAgICAgICAga2V5LnN0YXRlICs9IGRlbHRhVGltZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBLZXlib2FyZC5wcm90b3R5cGUuaXNEb3duID0gZnVuY3Rpb24gKGNvZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoY29kZSkuc3RhdGUgPiAwO1xuICAgIH07XG4gICAgS2V5Ym9hcmQucHJvdG90eXBlLnJlc2V0UmVwZWF0aW5nID0gZnVuY3Rpb24gKGNvZGUpIHtcbiAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U3RhdGUoY29kZSk7XG4gICAgICAgIGlmIChrZXkuc3RhdGUgPiAwKSB7XG4gICAgICAgICAgICBrZXkuc3RhdGUgPSAwLjAwMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2V5Ym9hcmQucHJvdG90eXBlLmlzUmVwZWF0aW5nID0gZnVuY3Rpb24gKGNvZGUsIGluaXREZWxheSwgaW50ZXJ2YWwpIHtcbiAgICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U3RhdGUoY29kZSk7XG4gICAgICAgIGlmIChrZXkuc3RhdGUgPj0gaW5pdERlbGF5ICsgaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGtleS5zdGF0ZSAtPSBpbnRlcnZhbDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChrZXkuc3RhdGUgJiYgIWtleS5sYXN0U3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBLZXlib2FyZC5wcm90b3R5cGUuaXNVcCA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgIHJldHVybiAhKHRoaXMuZ2V0U3RhdGUoY29kZSkuc3RhdGUgPiAwKTtcbiAgICB9O1xuICAgIEtleWJvYXJkLnByb3RvdHlwZS5qdXN0RG93biA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoY29kZSk7XG4gICAgICAgIHJldHVybiBzdGF0ZS5zdGF0ZSA+IDAgJiYgc3RhdGUubGFzdFN0YXRlID09PSAwO1xuICAgIH07XG4gICAgS2V5Ym9hcmQucHJvdG90eXBlLmp1c3RVcCA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoY29kZSk7XG4gICAgICAgIHJldHVybiBzdGF0ZS5zdGF0ZSA9PT0gMCAmJiBzdGF0ZS5sYXN0U3RhdGUgPiAwO1xuICAgIH07XG4gICAgS2V5Ym9hcmQucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKGNvZGUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5rZXlNYXAuZ2V0KGNvZGUpO1xuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdXRvTW9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGNvZGUpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5rZXlNYXAuZ2V0KGNvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJEaWQgbm90IGhhdmUga2V5IG9mIHZhbHVlIFxcXCJcIiArIGNvZGUgKyBcIlxcXCIgaW4gdGhlIEtleWJvYXJkLiBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiRGlkIHlvdSBmb3JnZXQgdG8gYWRkIGl0IHZpYSBhZGRLZXlzP1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuICAgIEtleWJvYXJkLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb2RlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY29kZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBjb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMua2V5TWFwLmhhcyhjb2RlKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2YXIgbmV3S2V5U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgICAgICBsYXN0U3RhdGU6IDAsXG4gICAgICAgICAgICAgICAgc3RhdGU6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMua2V5cy5wdXNoKG5ld0tleVN0YXRlKTtcbiAgICAgICAgICAgIF90aGlzLmtleU1hcC5zZXQoY29kZSwgbmV3S2V5U3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtleWJvYXJkLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb2RlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY29kZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBjb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgICAgICB2YXIga2V5U3RhdGUgPSBfdGhpcy5rZXlNYXAuZ2V0KGNvZGUpO1xuICAgICAgICAgICAgaWYgKGtleVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IF90aGlzLmtleXMuaW5kZXhPZihrZXlTdGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmtleXMuc3BsaWNlKGlkeCk7XG4gICAgICAgICAgICAgICAgX3RoaXMua2V5TWFwLmRlbGV0ZShjb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBLZXlib2FyZC5wcm90b3R5cGUucHJvY2Vzc0tleWRvd24gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIGlmICghdGhpcy5hbGxvd0RlZmF1bHQpXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGV2dC5yZXBlYXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMua2V5TWFwLmdldChldnQuY29kZSk7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9Nb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoZXZ0LmNvZGUpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5rZXlNYXAuZ2V0KGV2dC5jb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5zdGF0ZSA9IDAuMDAxO1xuICAgIH07XG4gICAgS2V5Ym9hcmQucHJvdG90eXBlLnByb2Nlc3NLZXl1cCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5rZXlNYXAuZ2V0KGV2dC5jb2RlKTtcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b01vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChldnQuY29kZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLmtleU1hcC5nZXQoZXZ0LmNvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnN0YXRlID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBLZXlib2FyZDtcbn0oKSk7XG5leHBvcnQgeyBLZXlib2FyZCB9O1xuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFNvdW5kIH0gZnJvbSBcIi4vU291bmRcIjtcbmltcG9ydCB7IEVudmVsb3BlIH0gZnJvbSBcIi4vRW52ZWxvcGVcIjtcbi8vIFRPRE86IENyZWF0ZSBTeW50aFZvaWNlIGNsYXNzIHdoaWNoIGNhbiBtYWtlIG11bHRpcGxlIHZvaWNlcyBlYXNpZXIuXG52YXIgTW9ub1N5bnRoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNb25vU3ludGgsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTW9ub1N5bnRoKGNvbnRleHQsIHRhcmdldCwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm9kZSA9IG9wdHMgPyBuZXcgT3NjaWxsYXRvck5vZGUoY29udGV4dCwgb3B0cykgOlxuICAgICAgICAgICAgbmV3IE9zY2lsbGF0b3JOb2RlKGNvbnRleHQpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbnRleHQsIG5vZGUsIHRhcmdldCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZW52ZWxvcGUgPSBuZXcgRW52ZWxvcGUoY29udGV4dCk7XG4gICAgICAgIF90aGlzLmVudmVsb3BlLmFkZFRhcmdldChfdGhpcy5nYWluKTtcbiAgICAgICAgX3RoaXMuZ2Fpbi52YWx1ZSA9IDA7XG4gICAgICAgIF90aGlzLnNvdXJjZS5zdGFydChjb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW9ub1N5bnRoLnByb3RvdHlwZSwgXCJ0eXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnNvdXJjZS50eXBlOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS50eXBlID0gdHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNb25vU3ludGgucHJvdG90eXBlLCBcImZyZXF1ZW5jeVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5zb3VyY2UuZnJlcXVlbmN5OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3ludGggZG9lcyBub3QgbmVlZCB0byBiZSBsb2FkZWQhXG4gICAgICogQHBhcmFtIHVybFxuICAgICAqL1xuICAgIE1vbm9TeW50aC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdGhyb3cgXCJTeW50aCNsb2FkIHNob3VsZCBub3QgYmUgY2FsbGVkIVwiO1xuICAgIH07XG4gICAgTW9ub1N5bnRoLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKHdoZW4pIHtcbiAgICAgICAgaWYgKHdoZW4gPT09IHZvaWQgMCkgeyB3aGVuID0gMDsgfVxuICAgICAgICB0aGlzLmVudmVsb3BlLmFjdGl2YXRlKHdoZW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XG4gICAgfTtcbiAgICBNb25vU3ludGgucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgXCJTeW50aCN1bmxvYWQgc2hvdWxkIG5vdCBiZSBjYWxsZWQhXCI7XG4gICAgfTtcbiAgICByZXR1cm4gTW9ub1N5bnRoO1xufShTb3VuZCkpO1xuZXhwb3J0IHsgTW9ub1N5bnRoIH07XG4iLCIvKipcbiAqIEF1ZGlvRWZmZWN0IGNsYXNzIHdyYXBzIGFuIEF1ZGlvTm9kZSBlZmZlY3QgdW5pdCwgYWRkaW5nIGRyeS93ZXQgY29udHJvbHMsIGFuZFxuICogcHJlLXBvc3QgZ2FpbiBmb3IgZ2Fpbi1zdGFnaW5nLlxuICpcbiAqIEF1ZGlvTm9kZSBHcmFwaDpcbiAqICAgICAgICAgICAgIC9kcnkgICAgICAgICAgIFxcXG4gKiBpbnB1dEdhaW4gPCAgICAgICAgICAgICAgICAgPiBvdXRwdXRHYWluIC0+IHRhcmdldFxuICogICAgICAgICAgICAgXFx3ZXQgLT4gZWZmZWN0IC9cbiAqL1xudmFyIEF1ZGlvRWZmZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEF1ZGlvRWZmZWN0KGVmZmVjdCwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gZWZmZWN0LmNvbnRleHQ7XG4gICAgICAgIHRoaXMubUVmZmVjdCA9IGVmZmVjdDtcbiAgICAgICAgdGhpcy5tRHJ5ID0gbmV3IEdhaW5Ob2RlKGNvbnRleHQpO1xuICAgICAgICB0aGlzLm1EcnkuZ2Fpbi52YWx1ZSA9IDA7XG4gICAgICAgIHRoaXMubVdldCA9IG5ldyBHYWluTm9kZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tV2V0LmdhaW4udmFsdWUgPSAxO1xuICAgICAgICB0aGlzLm1JbnB1dCA9IG5ldyBHYWluTm9kZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tT3V0cHV0ID0gbmV3IEdhaW5Ob2RlKGNvbnRleHQpO1xuICAgICAgICB0aGlzLm1JbnB1dC5jb25uZWN0KHRoaXMubURyeSk7XG4gICAgICAgIHRoaXMubUlucHV0LmNvbm5lY3QodGhpcy5tV2V0KTtcbiAgICAgICAgdGhpcy5tRHJ5LmNvbm5lY3QodGhpcy5tT3V0cHV0KTtcbiAgICAgICAgdGhpcy5tV2V0LmNvbm5lY3QodGhpcy5tRWZmZWN0KTtcbiAgICAgICAgdGhpcy5tRWZmZWN0LmNvbm5lY3QodGhpcy5tT3V0cHV0KTtcbiAgICAgICAgdGhpcy5tT3V0cHV0LmNvbm5lY3QodGFyZ2V0IHx8IGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9FZmZlY3QucHJvdG90eXBlLCBcImVmZmVjdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubUVmZmVjdDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdWRpb0VmZmVjdC5wcm90b3R5cGUsIFwiaW5wdXRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1JbnB1dDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdWRpb0VmZmVjdC5wcm90b3R5cGUsIFwib3V0cHV0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tT3V0cHV0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvRWZmZWN0LnByb3RvdHlwZSwgXCJkcnlcIiwge1xuICAgICAgICAvLyBEaXJlY3QgYWNjZXNzIHRvIGRyeSBnYWluXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubURyeS5nYWluO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvRWZmZWN0LnByb3RvdHlwZSwgXCJ3ZXRcIiwge1xuICAgICAgICAvLyBEaXJlY3QgYWNjZXNzIHRvIHdldCBnYWluXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubVdldC5nYWluO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvRWZmZWN0LnByb3RvdHlwZSwgXCJwcmVHYWluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tSW5wdXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9FZmZlY3QucHJvdG90eXBlLCBcInBvc3RHYWluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tT3V0cHV0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQXVkaW9FZmZlY3QucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoYXVkaW9Ob2RlKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1PdXRwdXQuY29ubmVjdChhdWRpb05vZGUpO1xuICAgIH07XG4gICAgQXVkaW9FZmZlY3QucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubU91dHB1dC5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICAvLyBCYWxhbmNlcyB3ZXQgYW5kIGRyeS4gVmFsdWUgb2Ygd2V0IGlzIHNldCB0byBwZXJjZW50LCBhbmQgZHJ5IGlzIHNldCB0byAxLXBlcmNlbnRcbiAgICBBdWRpb0VmZmVjdC5wcm90b3R5cGUuc2V0V2V0RHJ5ID0gZnVuY3Rpb24gKHBlcmNlbnQsIHJhbXBUaW1lKSB7XG4gICAgICAgIGlmIChyYW1wVGltZSA9PT0gdm9pZCAwKSB7IHJhbXBUaW1lID0gMDsgfVxuICAgICAgICBwZXJjZW50ID0gTWF0aC5taW4oTWF0aC5tYXgocGVyY2VudCwgMCksIDEpO1xuICAgICAgICBpZiAocmFtcFRpbWUgPiAwKSB7XG4gICAgICAgICAgICB2YXIgdGltZSA9IHRoaXMubUVmZmVjdC5jb250ZXh0LmN1cnJlbnRUaW1lICsgcmFtcFRpbWU7XG4gICAgICAgICAgICB0aGlzLm1EcnkuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgxIC0gcGVyY2VudCwgdGltZSk7XG4gICAgICAgICAgICB0aGlzLm1XZXQuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShwZXJjZW50LCB0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubURyeS5nYWluLnZhbHVlID0gMSAtIHBlcmNlbnQ7XG4gICAgICAgICAgICB0aGlzLm1XZXQuZ2Fpbi52YWx1ZSA9IHBlcmNlbnQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1ZGlvRWZmZWN0LnByb3RvdHlwZS5zZXRXZXQgPSBmdW5jdGlvbiAocGVyY2VudCwgcmFtcFRpbWUpIHtcbiAgICAgICAgaWYgKHJhbXBUaW1lID09PSB2b2lkIDApIHsgcmFtcFRpbWUgPSAwOyB9XG4gICAgICAgIHBlcmNlbnQgPSBNYXRoLm1heChwZXJjZW50LCAwKTtcbiAgICAgICAgaWYgKHJhbXBUaW1lID4gMClcbiAgICAgICAgICAgIHRoaXMubVdldC5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHBlcmNlbnQsIHRoaXMubUVmZmVjdC5jb250ZXh0LmN1cnJlbnRUaW1lICsgcmFtcFRpbWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1XZXQuZ2Fpbi52YWx1ZSA9IHBlcmNlbnQ7XG4gICAgfTtcbiAgICBBdWRpb0VmZmVjdC5wcm90b3R5cGUuc2V0RHJ5ID0gZnVuY3Rpb24gKHBlcmNlbnQsIHJhbXBUaW1lKSB7XG4gICAgICAgIGlmIChyYW1wVGltZSA9PT0gdm9pZCAwKSB7IHJhbXBUaW1lID0gMDsgfVxuICAgICAgICBwZXJjZW50ID0gTWF0aC5tYXgocGVyY2VudCwgMCk7XG4gICAgICAgIGlmIChyYW1wVGltZSA+IDApXG4gICAgICAgICAgICB0aGlzLm1EcnkuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShwZXJjZW50LCB0aGlzLm1FZmZlY3QuY29udGV4dC5jdXJyZW50VGltZSArIHJhbXBUaW1lKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5tRHJ5LmdhaW4udmFsdWUgPSBwZXJjZW50O1xuICAgIH07XG4gICAgQXVkaW9FZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubURyeS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubVdldC5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubUVmZmVjdC5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubUlucHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tT3V0cHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tRHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tV2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tRWZmZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tSW5wdXQgPSBudWxsO1xuICAgICAgICB0aGlzLm1PdXRwdXQgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEF1ZGlvRWZmZWN0O1xufSgpKTtcbmV4cG9ydCB7IEF1ZGlvRWZmZWN0IH07XG4iLCJpbXBvcnQgeyBBdWRpb0VmZmVjdCB9IGZyb20gXCIuL0F1ZGlvRWZmZWN0XCI7XG4vLyBNYW5hZ2VzIGFuIGFycmF5IG9mIGF1ZGlvIEZYIGNoYWluZWQgdG9nZXRoZXJcbnZhciBFZmZlY3RDaGFpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250ZXh0XG4gICAgICogQHBhcmFtIHRhcmdldCBUYXJnZXQgZW5kLXBvaW50IHRvIGNvbm5lY3QgdG8uIElmIG5vIHRhcmdldCBpcyBleHBsaWNpdGx5IGdpdmVuLFxuICAgICAqIGl0IHdpbGwgYmUgc2V0IHRvIHRoZSBjb250ZXh0J3MgZGVzdGluYXRpb24gb3V0cHV0XG4gICAgICovXG4gICAgZnVuY3Rpb24gRWZmZWN0Q2hhaW4oY29udGV4dCwgdGFyZ2V0KSB7XG4gICAgICAgIHRoaXMubUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm1QcmVHYWluID0gbmV3IEdhaW5Ob2RlKGNvbnRleHQpO1xuICAgICAgICB0aGlzLm1Qb3N0R2FpbiA9IG5ldyBHYWluTm9kZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tUHJlR2Fpbi5jb25uZWN0KHRoaXMubVBvc3RHYWluKTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4uY29ubmVjdCh0YXJnZXQgfHwgY29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgIHRoaXMubUVmZmVjdHMgPSBbXTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmZmVjdENoYWluLnByb3RvdHlwZSwgXCJpbnB1dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubVByZUdhaW47XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWZmZWN0Q2hhaW4ucHJvdG90eXBlLCBcIm91dHB1dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubVBvc3RHYWluO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgRWZmZWN0Q2hhaW4ucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAobmV3VGFyZ2V0KSB7XG4gICAgICAgIHRoaXMub3V0cHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5vdXRwdXQuY29ubmVjdChuZXdUYXJnZXQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmZmVjdENoYWluLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tUHJlR2Fpbi5jb250ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmZmVjdENoYWluLnByb3RvdHlwZSwgXCJwcmVHYWluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tUHJlR2FpbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFZmZlY3RDaGFpbi5wcm90b3R5cGUsIFwiZ2FpblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubVBvc3RHYWluO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmZmVjdENoYWluLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICAvLyB0aGUgc2l6ZSBvZiB0aGUgZWZmZWN0IGNoYWluIG5vdCBpbmNsdWRpbmcgcHJlR2FpbiBhbmQgdGFyZ2V0IG5vZGVzLlxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1FZmZlY3RzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8vIC8qKlxuICAgIC8vICAqIFB1c2ggYW4gZWZmZWN0IG9udG8gdGhlXG4gICAgLy8gICogQHBhcmFtIGVmZmVjdFR5cGVcbiAgICAvLyAgKiBAcGFyYW0gb3B0aW9uc1xuICAgIC8vICAqL1xuICAgIC8vIHB1c2g8VCBleHRlbmRzIEF1ZGlvRWZmZWN0PGFueT4+KGVmZmVjdFR5cGU6IG5ldyhwPzogYW55KSA9PiBULCBvcHRpb25zPzogYW55KTogVCB7XG4gICAgLy8gICAgIGxldCBuZXdGWDogVCA9IChvcHRpb25zKSA/IG5ldyBlZmZlY3RUeXBlKG9wdGlvbnMpIDogbmV3IGVmZmVjdFR5cGU7XG4gICAgLy8gICAgIHJldHVybiB0aGlzLnB1c2hFeGlzdGluZyhuZXdGWCk7XG4gICAgLy8gfVxuICAgIEVmZmVjdENoYWluLnByb3RvdHlwZS5wdXNoRWZmZWN0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgLy8gQXVkaW9Ob2RlIHdyYXBwZWQgYW5kIHRhcmdldCBzZXRcbiAgICAgICAgdmFyIG5ld0Z4ID0gbmV3IEF1ZGlvRWZmZWN0KG5vZGUsIHRoaXMub3V0cHV0KTtcbiAgICAgICAgLy8gY29ubmVjdCBsYXN0IGVmZmVjdCB0byB0aGUgbmV3RlhcbiAgICAgICAgdmFyIGJlZm9yZSA9ICh0aGlzLm1FZmZlY3RzLmxlbmd0aCA9PT0gMCkgPyB0aGlzLmlucHV0IDpcbiAgICAgICAgICAgIHRoaXMubUVmZmVjdHNbdGhpcy5tRWZmZWN0cy5sZW5ndGggLSAxXS5vdXRwdXQ7XG4gICAgICAgIGJlZm9yZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIGJlZm9yZS5jb25uZWN0KG5ld0Z4LmlucHV0KTtcbiAgICAgICAgLy8gZG9uZSwgY29tbWl0IGNoYW5nZXNcbiAgICAgICAgdGhpcy5tRWZmZWN0cy5wdXNoKG5ld0Z4KTtcbiAgICAgICAgcmV0dXJuIG5ld0Z4O1xuICAgIH07XG4gICAgRWZmZWN0Q2hhaW4ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAodHlwZSwgb3B0cykge1xuICAgICAgICB2YXIgbm9kZSA9IG9wdHMgPyBuZXcgdHlwZSh0aGlzLmNvbnRleHQsIG9wdHMpIDogbmV3IHR5cGUodGhpcy5jb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHVzaEVmZmVjdChub2RlKTtcbiAgICB9O1xuICAgIEVmZmVjdENoYWluLnByb3RvdHlwZS5pbnNlcnRFZmZlY3QgPSBmdW5jdGlvbiAobm9kZSwgaWR4KSB7XG4gICAgICAgIGlmIChpZHggPT09IHZvaWQgMCkgeyBpZHggPSAwOyB9XG4gICAgICAgIC8vIHdyYXAgQXVkaW9Ob2RlXG4gICAgICAgIHZhciBuZXdGeCA9IG5ldyBBdWRpb0VmZmVjdChub2RlKTtcbiAgICAgICAgLy8gY2xhbXAgaW5kZXhcbiAgICAgICAgaWR4ID0gKHRoaXMubUVmZmVjdHMubGVuZ3RoID09PSAwKSA/IDAgOlxuICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5tYXgoMCwgaWR4KSwgdGhpcy5tRWZmZWN0cy5sZW5ndGggLSAxKTtcbiAgICAgICAgLy8gc3BsaWNlIGNvbm5lY3Rpb25zXG4gICAgICAgIHZhciBiZWZvcmUgPSBpZHggPT09IDAgPyB0aGlzLmlucHV0IDogdGhpcy5tRWZmZWN0c1tpZHggLSAxXS5vdXRwdXQ7XG4gICAgICAgIHZhciBhZnRlciA9IGlkeCA+PSB0aGlzLm1FZmZlY3RzLmxlbmd0aCAtIDEgPyB0aGlzLm91dHB1dCA6IHRoaXMubUVmZmVjdHNbaWR4XS5pbnB1dDtcbiAgICAgICAgYmVmb3JlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgYmVmb3JlLmNvbm5lY3QobmV3RnguaW5wdXQpO1xuICAgICAgICBuZXdGeC5jb25uZWN0KGFmdGVyKTtcbiAgICAgICAgLy8gZG9uZSwgY29tbWl0IGNoYW5nZXNcbiAgICAgICAgdGhpcy5tRWZmZWN0cy5zcGxpY2UoaWR4LCAwLCBuZXdGeCk7XG4gICAgICAgIHJldHVybiBuZXdGeDtcbiAgICB9O1xuICAgIEVmZmVjdENoYWluLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAodHlwZSwgaWR4LCBvcHRzKSB7XG4gICAgICAgIGlmIChpZHggPT09IHZvaWQgMCkgeyBpZHggPSAwOyB9XG4gICAgICAgIHZhciBub2RlID0gKG9wdHMpID8gbmV3IHR5cGUodGhpcy5jb250ZXh0LCBvcHRzKSA6IG5ldyB0eXBlKHRoaXMuY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydEVmZmVjdChub2RlLCBpZHgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWZmZWN0IHR5cGUgZnJvbSB0aGUgRlggY2hhaW4uXG4gICAgICogQHBhcmFtIGVmZmVjdFR5cGUgdHlwZSBvZiBlZmZlY3QgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIGRpc2Nvbm5lY3RlZCBlZmZlY3QgaWYgb25lIHdhcyBmb3VuZCwgb3IgbnVsbCBpZiBub25lIGZvdW5kLlxuICAgICAqL1xuICAgIEVmZmVjdENoYWluLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZWZmZWN0VHlwZSkge1xuICAgICAgICAvLyB2aXNpdCBlZmZlY3RzIHRvIGZpbmQgb25lIHRvIHJlbW92ZVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubUVmZmVjdHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1FZmZlY3RzW2ldLmVmZmVjdCBpbnN0YW5jZW9mIGVmZmVjdFR5cGUpIHsgLy8gZm91bmQgbWF0Y2hpbmcgdHlwZSFcbiAgICAgICAgICAgICAgICAvLyByZWNvbm5lY3Qgbm9kZXNcbiAgICAgICAgICAgICAgICB2YXIgZWZmZWN0ID0gdGhpcy5tRWZmZWN0c1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgYmVmb3JlID0gKGkgPT09IDApID8gdGhpcy5pbnB1dCA6IHRoaXMubUVmZmVjdHNbaSAtIDFdLm91dHB1dDtcbiAgICAgICAgICAgICAgICB2YXIgYWZ0ZXIgPSAoaSA9PT0gdGhpcy5tRWZmZWN0cy5sZW5ndGggLSAxKSA/IHRoaXMub3V0cHV0IDogdGhpcy5tRWZmZWN0c1tpICsgMV0uaW5wdXQ7XG4gICAgICAgICAgICAgICAgZWZmZWN0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBiZWZvcmUuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGJlZm9yZS5jb25uZWN0KGFmdGVyKTtcbiAgICAgICAgICAgICAgICAvLyBkb25lLCBjb21taXQgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHRoaXMubUVmZmVjdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlZmZlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gZWZmZWN0IHJlbW92ZWRcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvLyBHZXQgZmlyc3QgZWZmZWN0IG9mIGVmZmVjdFR5cGUuIFJldHVybnMgbnVsbCBpZiBub25lIGV4aXN0cy5cbiAgICAvLyAoRG9lcyBub3QgaW5jbHVkZSBwcmVHYWluIG5vZGUgb3IgdGFyZ2V0IGVuZCBwb2ludClcbiAgICBFZmZlY3RDaGFpbi5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGVmZmVjdFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TnRoKGVmZmVjdFR5cGUsIDEpO1xuICAgIH07XG4gICAgLy8gR2V0IGFsbCBlZmZlY3RzIG9mIGVmZmVjdFR5cGUuXG4gICAgRWZmZWN0Q2hhaW4ucHJvdG90eXBlLmdldEFsbE9mID0gZnVuY3Rpb24gKGVmZmVjdFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubUVmZmVjdHMuZmlsdGVyKGZ1bmN0aW9uIChmeCkgeyByZXR1cm4gZnguZWZmZWN0IGluc3RhbmNlb2YgZWZmZWN0VHlwZTsgfSk7XG4gICAgfTtcbiAgICAvLyBHZXQgdGhlIG50aCBlZmZlY3Qgb2YgZWZmZWN0VHlwZS5cbiAgICBFZmZlY3RDaGFpbi5wcm90b3R5cGUuZ2V0TnRoID0gZnVuY3Rpb24gKGVmZmVjdFR5cGUsIG4pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1FZmZlY3RzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tRWZmZWN0c1tpXS5lZmZlY3QgaW5zdGFuY2VvZiBlZmZlY3RUeXBlICYmIC0tbiA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1FZmZlY3RzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRWZmZWN0Q2hhaW4ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubVByZUdhaW4uZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubUVmZmVjdHMuZm9yRWFjaChmdW5jdGlvbiAoZWZmZWN0KSB7IHJldHVybiBlZmZlY3QuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4gPSBudWxsO1xuICAgICAgICB0aGlzLm1QcmVHYWluID0gbnVsbDtcbiAgICAgICAgdGhpcy5tRWZmZWN0cyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gRWZmZWN0Q2hhaW47XG59KCkpO1xuZXhwb3J0IHsgRWZmZWN0Q2hhaW4gfTtcbiIsIi8vIFRoZSBTZW5kIGNsYXNzIHJlcHJlc2VudHMgYXVkaW8gcm91dGluZyB0aGF0IGNsb25lcyBpdHMgc2lnbmFsIGFuZCBzZW5kcyBpdCBhdCB2YXJ5aW5nIGxldmVscyB0b1xuLy8gb3RoZXIgYXVkaW8gaW5wdXRzLiBUaGVzZSBhcmUgdXN1YWxseSBzZW50IHRvIG90aGVyIGJ1c2VzIG9yIGVmZmVjdHMuXG52YXIgU2VuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZW5kKGNvbnRleHQsIHRhcmdldCkge1xuICAgICAgICB0aGlzLm1Ob2RlID0gY29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICAgIHRoaXMubVRhcmdldCA9IHRhcmdldCB8fCBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VuZC5wcm90b3R5cGUsIFwiZ2FpblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubU5vZGUuZ2FpbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZW5kLnByb3RvdHlwZSwgXCJpbnB1dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubU5vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VuZC5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tVGFyZ2V0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tVGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLm1Ob2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMubU5vZGUuY29ubmVjdCh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VuZC5wcm90b3R5cGUsIFwiaGFzVGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tVGFyZ2V0ICE9PSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCBzZW5kIHRvIGEgdGFyZ2V0IG5vZGVcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAgICovXG4gICAgU2VuZC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0IHNlbmQgZnJvbSBjdXJyZW50IHRhcmdldFxuICAgICAqL1xuICAgIFNlbmQucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubU5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1UYXJnZXQgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFNlbmQ7XG59KCkpO1xuZXhwb3J0IHsgU2VuZCB9O1xuIiwiLy8gVGhlIFNlbmRNZ3IgbWFuYWdlcyBhIGxpc3Qgb2YgU2VuZHMsIHVzZWZ1bCB0byBicm9hZGNhc3QgaW5wdXQgc2lnbmFscyB0byBvdGhlciBzb3VyY2VzLlxuaW1wb3J0IHsgU2VuZCB9IGZyb20gXCIuL1NlbmRcIjtcbnZhciBTZW5kTWdyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlbmRNZ3IoY29udGV4dCkge1xuICAgICAgICB0aGlzLm1Db250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5tU2VuZHMgPSBbXTtcbiAgICAgICAgdGhpcy5tSW5wdXQgPSBuZXcgR2Fpbk5vZGUoY29udGV4dCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZW5kTWdyLnByb3RvdHlwZSwgXCJpbnB1dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tSW5wdXQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTZW5kTWdyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciBuZXdTZW5kID0gbmV3IFNlbmQodGhpcy5tQ29udGV4dCwgdGFyZ2V0KTtcbiAgICAgICAgdGhpcy5tSW5wdXQuY29ubmVjdChuZXdTZW5kLmlucHV0KTtcbiAgICAgICAgdGhpcy5tU2VuZHMucHVzaChuZXdTZW5kKTtcbiAgICAgICAgcmV0dXJuIG5ld1NlbmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBTZW5kIHByZXZpb3VzbHkgY3JlYXRlZCBvbiB0aGlzIHNlbmQgbWFuYWdlclxuICAgICAqIEBwYXJhbSBpZHhPclRhcmdldCBpZiBpbmRleCwgaXQgbXVzdCBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgU2VuZE1nciNsZW5ndGguIElmIGFuIEF1ZGlvTm9kZSB0YXJnZXQsXG4gICAgICogaXQgd2lsbCByZXR1cm4gdGhlIGZpcnN0IFNlbmQgdGhhdCBpcyB0YXJnZXRpbmcgdGhlIEF1ZGlvTm9kZS4gSWYgbm9uZSBleGlzdHMsIG51bGwgaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgU2VuZE1nci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGlkeE9yVGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIGlkeE9yVGFyZ2V0ID09PSBcIm51bWJlclwiKSA/XG4gICAgICAgICAgICB0aGlzLm1TZW5kc1tpZHhPclRhcmdldF0gfHwgbnVsbCA6XG4gICAgICAgICAgICB0aGlzLm1TZW5kcy5maW5kKGZ1bmN0aW9uIChzZW5kKSB7IHJldHVybiBPYmplY3QuaXMoc2VuZC50YXJnZXQsIGlkeE9yVGFyZ2V0KTsgfSkgfHwgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNlbmQgYmVsb25naW5nIHRvIHRoaXMgU2VuZE1nciwgY2FjaGVkIGJ5IHRoZSB1c2VyLlxuICAgICAqIEBwYXJhbSBzZW5kXG4gICAgICogQHJldHVybnMgdHJ1ZTogaWYgc2VuZCB3YXMgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQ7XG4gICAgICogZmFsc2U6IGlmIGl0IGRpZCBub3QgZXhpc3QgaW4gdGhlIGNvbnRhaW5lci5cbiAgICAgKi9cbiAgICBTZW5kTWdyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc2VuZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubVNlbmRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRoaXMubVNlbmRzW2ldLCBzZW5kKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5TZW5kKHNlbmQpO1xuICAgICAgICAgICAgICAgIHRoaXMubVNlbmRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHNlbmRzXG4gICAgICovXG4gICAgU2VuZE1nci5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm1TZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChzZW5kKSB7IHJldHVybiBfdGhpcy5jbGVhblNlbmQoc2VuZCk7IH0pO1xuICAgICAgICB0aGlzLm1TZW5kcyA9IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIFwiZGVzdHJ1Y3RpbmdcIiB0aGUgU2VuZE1nclxuICAgICAqL1xuICAgIFNlbmRNZ3IucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VuZE1nci5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBudW1iZXIgb2Ygc2VuZHMgc3RvcmVkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1TZW5kcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBzZW5kcyB0aGF0IGhhdmUgYSBzcGVjaWZpZWQgdGFyZ2V0XG4gICAgICogQHBhcmFtIHRhcmdldFxuICAgICAqL1xuICAgIFNlbmRNZ3IucHJvdG90eXBlLnJlbW92ZUlmVGFyZ2V0aW5nID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5tU2VuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRoaXMubVNlbmRzW2ldLnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5TZW5kKHRoaXMubVNlbmRzW2ldKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1TZW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEhlbHBlcjogY2xlYW5zL3JlbW92ZXMgYWxsIGNvbm5lY3Rpb25zIGluIGFuIGludGVybmFsIFNlbmRcbiAgICBTZW5kTWdyLnByb3RvdHlwZS5jbGVhblNlbmQgPSBmdW5jdGlvbiAoc2VuZCkge1xuICAgICAgICBzZW5kLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tSW5wdXQuZGlzY29ubmVjdChzZW5kLmlucHV0KTtcbiAgICB9O1xuICAgIHJldHVybiBTZW5kTWdyO1xufSgpKTtcbmV4cG9ydCB7IFNlbmRNZ3IgfTtcbiIsImltcG9ydCB7IEVmZmVjdENoYWluIH0gZnJvbSBcIi4vRWZmZWN0Q2hhaW5cIjtcbmltcG9ydCB7IFNlbmRNZ3IgfSBmcm9tIFwiLi9TZW5kTWdyXCI7XG4vLyBCdXMgY29ubmVjdGlvbiBncmFwaDogLT4gW2Z4XSAtPiBwYW5uZXItbm9kZSAtPiBwb3N0LWdhaW5cbnZhciBCdXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVzKGNvbnRleHQsIHRhcmdldCkge1xuICAgICAgICB0aGlzLm1QYW5uZXIgPSBjb250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO1xuICAgICAgICB0aGlzLm1Qb3N0R2FpbiA9IGNvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgICAgICB0aGlzLm1QYW5uZXIuY29ubmVjdCh0aGlzLm1Qb3N0R2Fpbik7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3QodGFyZ2V0IHx8IGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLm1FZmZlY3RzID0gbmV3IEVmZmVjdENoYWluKGNvbnRleHQsIHRoaXMubVBhbm5lcik7XG4gICAgICAgIHRoaXMubVNlbmRzID0gbmV3IFNlbmRNZ3IoY29udGV4dCk7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3QodGhpcy5tU2VuZHMuaW5wdXQpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVzLnByb3RvdHlwZSwgXCJpbnB1dFwiLCB7XG4gICAgICAgIC8vIFRvIGNvbm5lY3QgYSBub2RlIHRvIHRoaXMgYnVzLCBwYXNzIHRoaXMgdG8gQXVkaW9Ob2RlI2Nvbm5lY3RcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1FZmZlY3RzLmlucHV0OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1cy5wcm90b3R5cGUsIFwiZWZmZWN0c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tRWZmZWN0czsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXMucHJvdG90eXBlLCBcInByZUdhaW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubUVmZmVjdHMucHJlR2FpbjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXMucHJvdG90eXBlLCBcInBvc3RHYWluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1Qb3N0R2FpbjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXMucHJvdG90eXBlLCBcInBhbm5lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tUGFubmVyOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1cy5wcm90b3R5cGUsIFwic2VuZHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubVNlbmRzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ29ubmVjdHMgdGhlIEJ1cyB0byBhbm90aGVyIHRhcmdldCBBdWRpb05vZGVcbiAgICAgKiBAcGFyYW0gbm9kZSBub2RlIHRvIGNvbm5lY3RcbiAgICAgKi9cbiAgICBCdXMucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3QodGhpcy5tU2VuZHMuaW5wdXQpO1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5jb25uZWN0KG5vZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIEJ1cyBmcm9tIGl0cyB0YXJnZXQgQXVkaW9Ob2RlXG4gICAgICovXG4gICAgQnVzLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3QodGhpcy5tU2VuZHMuaW5wdXQpO1xuICAgIH07XG4gICAgLy8gQ2FsbCB0byBkaXNjb25uZWN0IGFuZCByZW1vdmUgYWxsIHJlZmVyZW5jZXMgb2YgaW5uZXIgZWZmZWN0c1xuICAgIEJ1cy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tUGFubmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4uZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1FZmZlY3RzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tU2VuZHMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLm1QYW5uZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm1Qb3N0R2FpbiA9IG51bGw7XG4gICAgICAgIHRoaXMubUVmZmVjdHMgPSBudWxsO1xuICAgICAgICB0aGlzLm1TZW5kcyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQnVzO1xufSgpKTtcbmV4cG9ydCB7IEJ1cyB9O1xuIiwiLy8gVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBjbGFzcyBCdXNNZ3IsIHdoaWNoIG1hbmFnZXMgYSBzZXQgb2YgYnVzc2VzLiBCeSBkZWZhdWx0IGEgbWFzdGVyIGJ1c1xuLy8gaXMgY3JlYXRlZCwgd2hpY2ggYnkgZGVmYXVsdCBpcyBhdHRhY2hlZCB0byB0aGUgQXVkaW9Db250ZXh0I2Rlc3RpbmF0aW9uLCB1bmxlc3Mgb3RoZXJ3aXNlXG4vLyBzcGVjaWZpZWQuIEFsbCBidXNzZXMgY3JlYXRlZCBieSB0aGlzIG1hbmFnZXIgYXJlIGF0dGFjaGVkIHRvIHRoZSBtYXN0ZXIgYnVzIGJ5IGRlZmF1bHQuXG4vLyBDcmVhdGVkIGJ1c3NlcyBhcmUgc3RvcmVkIGluIHRoZSBtYW5hZ2VyIGJ5IGtleSwgYW5kIGNhbiBiZSByZXRyaWV2ZWQgdmlhIEJ1c01nciNnZXRcbmltcG9ydCB7IEJ1cyB9IGZyb20gXCIuL0J1c1wiO1xudmFyIEJ1c01nciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIGF1ZGlvIGNvbnRleHRcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gbWFzdGVyIGJ1cyB3aWxsIGNvbm5lY3QgdG8gdGhpcyB0YXJnZXRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCdXNNZ3IoY29udGV4dCwgdGFyZ2V0KSB7XG4gICAgICAgIHRoaXMubUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm1NYXN0ZXJCdXMgPSBuZXcgQnVzKGNvbnRleHQsIHRhcmdldCk7XG4gICAgICAgIHRoaXMubUJ1c3NlcyA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMubUJ1c3Nlcy5zZXQoXCJtYXN0ZXJcIiwgdGhpcy5tTWFzdGVyQnVzKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1c01nci5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tQ29udGV4dDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXNNZ3IucHJvdG90eXBlLCBcIm1hc3RlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tTWFzdGVyQnVzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJ1cywgYW5kIHN0b3JlcyBpdCBpbiB0aGUgQXVkaW9FbmdpbmUuIEl0IGNhbiBiZSByZXRyaWV2ZWQgdmlhIEF1ZGlvRW5naW5lI2dldEJ1c1xuICAgICAqIEBwYXJhbSBrZXkga2V5IHRvIHNldCBhbmQgcmV0cmlldmUgdGhpcyBuZXcgYnVzLiBJdCBtdXN0IGJlIHVuaXF1ZSwgb3RoZXJ3aXNlIG5vIGJ1cyB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHRhcmdldCBUYXJnZXQgbm9kZSB0byBjb25uZWN0IHRoZSBidXMgdG8uIExlZnQgdW5zcGVjaWZpZWQsIHdpbGwgc2V0IGl0IHRvIHRoZVxuICAgICAqIG1hc3RlciBidXMuXG4gICAgICogQHJldHVybnMgY3JlYXRlZCBhdWRpbyBidXMsIG9yIG51bGwgaWYgdGhlIGtleSB3YXMgbm90IHVuaXF1ZS5cbiAgICAgKi9cbiAgICBCdXNNZ3IucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChrZXksIHRhcmdldCkge1xuICAgICAgICBpZiAodGhpcy5tQnVzc2VzLmhhcyhrZXkpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBuZXdCdXMgPSBuZXcgQnVzKHRoaXMuY29udGV4dCwgdGFyZ2V0IHx8IHRoaXMubU1hc3RlckJ1cy5pbnB1dCk7XG4gICAgICAgIHRoaXMubUJ1c3Nlcy5zZXQoa2V5LCBuZXdCdXMpO1xuICAgICAgICByZXR1cm4gbmV3QnVzO1xuICAgIH07XG4gICAgQnVzTWdyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBidXMgPSB0aGlzLm1CdXNzZXMuZ2V0KGtleSk7XG4gICAgICAgIHJldHVybiBidXMgPyBidXMgOiBudWxsO1xuICAgIH07XG4gICAgQnVzTWdyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBidXMgPSB0aGlzLm1CdXNzZXMuZ2V0KGtleSk7XG4gICAgICAgIGlmIChidXMpXG4gICAgICAgICAgICBidXM7XG4gICAgICAgIHJldHVybiB0aGlzLm1CdXNzZXMuZGVsZXRlKGtleSk7XG4gICAgfTtcbiAgICBCdXNNZ3IucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubUJ1c3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChidXMpIHsgcmV0dXJuIGJ1cy5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLm1CdXNzZXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5tQnVzc2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5tTWFzdGVyQnVzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCdXNNZ3I7XG59KCkpO1xuZXhwb3J0IHsgQnVzTWdyIH07XG4iLCIvLyBUaGlzIGZpbGUgY29udGFpbnMgYSBmdW5jdGlvbiBgaW50ZXJhY3Rpb25Xb3JrYXJvdW5kYCwgd2hpY2ggYXV0b21hdGljYWxseSByZXN1bWVzIGFuIEF1ZGlvQ29udGV4dFxuLy8gd2hlbiB0aGUgdXNlciBmaXJzdCBpbnRlcmFjdHMgd2l0aCB0aGUgcGFnZSAoXCJwb2ludGVyZG93blwiIGV2ZW50KS4gVGhpcyBpcyBuZWNlc3Nhcnkgb24gbWFueSBtb2Rlcm5cbi8vIGJyb3dzZXJzLCB3aGljaCByZXF1aXJlcyB0aGlzIGdlc3R1cmUgZnJvbSB0aGUgdXNlciB0byBwcm90ZWN0IHRoZW0gZnJvbSB1bndhbnRlZCBhbm5veWluZyBhdWRpby5cbi8vIEl0IGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGJ5IHRoZSBBdWRpb0VuZ2luZSwgYnV0IGlzIGF2YWlsYWJsZSBmb3IgdXNlIHdpdGhvdXQgYW55IGRlcGVuZGVuY3kgb24gaXQuXG4vLyBBdXRob3I6IEFhcm9uIElzaGliYXNoaSwgYS5pc2hpYmFzaGkubXVzaWNAZ21haWwuY29tXG52YXIgSW50ZXJhY3Rpb25Xb3JrYXJvdW5kRXZlbnRUeXBlID0gXCJwb2ludGVyZG93blwiO1xuLy8gT24gbW9zdCBtYWpvciBicm93c2VycywgYXVkaW8gY29udGV4dHMgbXVzdCBiZSByZXN1bWVkIG9yIGNyZWF0ZWQgb25jZSB0aGUgdXNlciBpbnRlcmFjdHMgd2l0aCB0aGUgcGFnZS5cbi8vIFNldHMgcHJvcGVyIGxpc3RlbmVycyB0byByZXN1bWUgdGhlIGNvbnRleHQgaWYgdGhlIGNvbnRleHQgaGFzIGJlZW4gc3VzcGVuZGVkIGR1ZSB0byB0aGlzIGNhdmVhdC5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcmFjdGlvbldvcmthcm91bmQoY29udGV4dCkge1xuICAgIGlmIChjb250ZXh0LnN0YXRlID09PSBcInJ1bm5pbmdcIilcbiAgICAgICAgcmV0dXJuOyAvLyBubyBuZWVkIHRvIGV4ZWN1dGUgaWYgcnVubmluZyBwcm9wZXJseVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEludGVyYWN0aW9uV29ya2Fyb3VuZEV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICBjb250ZXh0LnJlc3VtZSgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VtZWQgQXVkaW9Db250ZXh0LlwiKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEludGVyYWN0aW9uV29ya2Fyb3VuZEV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIHJlc3VtZSBBdWRpb0NvbnRleHQ6XCIsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEVmZmVjdENoYWluIH0gZnJvbSBcIi4vRWZmZWN0Q2hhaW5cIjtcbnZhciBTb3VuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTb3VuZChjb250ZXh0LCBzb3VuZE5vZGUsIHRhcmdldCkge1xuICAgICAgICB0aGlzLm1FZmZlY3RzID0gbmV3IEVmZmVjdENoYWluKGNvbnRleHQsIHRhcmdldCk7XG4gICAgICAgIHRoaXMubVNvdW5kID0gc291bmROb2RlO1xuICAgICAgICBpZiAodGhpcy5tU291bmQpIC8vIHNvbWUgU291bmRzIGRvIG5vdCBoYXZlIGFuIGlubmVyIHNvdXJjZSBvYmplY3RcbiAgICAgICAgICAgIHRoaXMubVNvdW5kLmNvbm5lY3QodGhpcy5tRWZmZWN0cy5pbnB1dCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VuZC5wcm90b3R5cGUsIFwiZWZmZWN0c1wiLCB7XG4gICAgICAgIC8vIEVmZmVjdCBDaGFpblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubUVmZmVjdHM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291bmQucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgICAgICAvLyBBdWRpb0NvbnRleHRcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1FZmZlY3RzLmNvbnRleHQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291bmQucHJvdG90eXBlLCBcInNvdXJjZVwiLCB7XG4gICAgICAgIC8vIFRoZSBpbm5lciBzb3VuZCBub2RlXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tU291bmQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291bmQucHJvdG90eXBlLCBcImdhaW5cIiwge1xuICAgICAgICAvLyBTaG9ydGN1dCB0byBwb3N0LWdhaW4gcGFyYW1ldGVyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tRWZmZWN0cy5nYWluLmdhaW47IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTb3VuZC5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLm1Tb3VuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tU291bmQgPSBudWxsO1xuICAgICAgICB0aGlzLm1FZmZlY3RzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tRWZmZWN0cyA9IG51bGw7XG4gICAgfTtcbiAgICBTb3VuZC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5tRWZmZWN0cy5jb25uZWN0KHRhcmdldCk7XG4gICAgfTtcbiAgICByZXR1cm4gU291bmQ7XG59KCkpO1xuZXhwb3J0IHsgU291bmQgfTtcbiIsIi8vIEFEU0hSIEVudmVsb3BlXG52YXIgRW52ZWxvcGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW52ZWxvcGUoY29udGV4dCwgb3B0cykge1xuICAgICAgICB0aGlzLm1Db250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5tVGFyZ2V0cyA9IFtdO1xuICAgICAgICBpZiAob3B0cylcbiAgICAgICAgICAgIHRoaXMuc2V0KG9wdHMpO1xuICAgICAgICBlbHNlIHsgLy8gZGVmYXVsdHNcbiAgICAgICAgICAgIHRoaXMubUF0dGFja1RpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5tQXR0YWNrTGV2ZWwgPSAxO1xuICAgICAgICAgICAgdGhpcy5tRGVjYXlUaW1lID0gLjU7XG4gICAgICAgICAgICB0aGlzLm1TdXN0YWluTGV2ZWwgPSAuMjU7XG4gICAgICAgICAgICB0aGlzLm1Ib2xkVGltZSA9IC4yNTtcbiAgICAgICAgICAgIHRoaXMubVJlbGVhc2VUaW1lID0gLjU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJhdHRhY2tUaW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1BdHRhY2tUaW1lOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGlzLm1BdHRhY2tUaW1lID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJhdHRhY2tMZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tQXR0YWNrTGV2ZWw7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMubUF0dGFja0xldmVsID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJkZWNheVRpbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubURlY2F5VGltZTsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgdGhpcy5tRGVjYXlUaW1lID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJzdXN0YWluTGV2ZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubVN1c3RhaW5MZXZlbDsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgdGhpcy5tU3VzdGFpbkxldmVsID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJob2xkVGltZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tSG9sZFRpbWU7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMubUhvbGRUaW1lID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJyZWxlYXNlVGltZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tUmVsZWFzZVRpbWU7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMubVJlbGVhc2VUaW1lID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWRkIGEgcGFyYW1ldGVyIHRvIHRoZSBlbnZlbG9wZSdzIHRhcmdldHMuXG4gICAgICogQHBhcmFtIHBhcmFtXG4gICAgICovXG4gICAgRW52ZWxvcGUucHJvdG90eXBlLmFkZFRhcmdldCA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICB0aGlzLm1UYXJnZXRzLnB1c2gocGFyYW0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgcGFyYW1ldGVyIGZyb20gdGhlIGVudmVsb3BlJ3MgdGFyZ2V0c1xuICAgICAqIEBwYXJhbSBwYXJhbVxuICAgICAqL1xuICAgIEVudmVsb3BlLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1UYXJnZXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRoaXMubVRhcmdldHNbaV0sIHBhcmFtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubVRhcmdldHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGVudmVsb3BlIHZpYSBhbiBFbnZlbG9wZU9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSBvcHRzXG4gICAgICovXG4gICAgRW52ZWxvcGUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICB0aGlzLm1BdHRhY2tUaW1lID0gKF9hID0gb3B0cy5hdHRhY2tUaW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLm1BdHRhY2tUaW1lO1xuICAgICAgICB0aGlzLm1BdHRhY2tMZXZlbCA9IChfYiA9IG9wdHMuYXR0YWNrTGV2ZWwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMubUF0dGFja0xldmVsO1xuICAgICAgICB0aGlzLm1EZWNheVRpbWUgPSAoX2MgPSBvcHRzLmRlY2F5VGltZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGhpcy5tRGVjYXlUaW1lO1xuICAgICAgICB0aGlzLm1TdXN0YWluTGV2ZWwgPSAoX2QgPSBvcHRzLnN1c3RhaW5MZXZlbCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogdGhpcy5tU3VzdGFpbkxldmVsO1xuICAgICAgICB0aGlzLm1Ib2xkVGltZSA9IChfZSA9IG9wdHMuaG9sZFRpbWUpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IHRoaXMubUhvbGRUaW1lO1xuICAgICAgICB0aGlzLm1SZWxlYXNlVGltZSA9IChfZiA9IG9wdHMucmVsZWFzZVRpbWUpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IHRoaXMubVJlbGVhc2VUaW1lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIGVudmVsb3BlIG9uIGFsbCB0YXJnZXQgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gd2hlbiAtIFdoZW4gdG8gdHJpZ2dlci9hY3RpdmF0ZSB0aGUgZW52ZWxvcGUsIHJlbGF0aXZlIHRvIG5vdywgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBFbnZlbG9wZS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAod2hlbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAod2hlbiA9PT0gdm9pZCAwKSB7IHdoZW4gPSAwOyB9XG4gICAgICAgIC8vIEdyYWIgdGltaW5nc1xuICAgICAgICAvLyAuMDIgZXh0cmEgc2Vjb25kcyB0byBnaXZlIHRpbWUgZm9yIGdhaW4gdG8gc25hcCBiYWNrIHRvIHplcm8gd2l0aG91dCBwb3BwaW5nXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMubUNvbnRleHQuY3VycmVudFRpbWUgKyB3aGVuICsgLjAyO1xuICAgICAgICB2YXIgc3RhcnREZWNheSA9IGN1cnJlbnRUaW1lICsgdGhpcy5tQXR0YWNrVGltZTtcbiAgICAgICAgdmFyIHN0YXJ0UmVsZWFzZSA9IGN1cnJlbnRUaW1lICsgdGhpcy5tQXR0YWNrVGltZSArIHRoaXMubURlY2F5VGltZSArIHRoaXMubUhvbGRUaW1lO1xuICAgICAgICAvLyBTZXQgZW52ZWxvcGUgZm9yIGVhY2ggdGFyZ2V0IHBhcmFtXG4gICAgICAgIHRoaXMubVRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgIC8vIGluaXQgdmFsdWVcbiAgICAgICAgICAgIHBhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhjdXJyZW50VGltZSk7XG4gICAgICAgICAgICBwYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAvLyBhdHRhY2tcbiAgICAgICAgICAgIHBhcmFtLnNldFRhcmdldEF0VGltZShfdGhpcy5tQXR0YWNrTGV2ZWwsIGN1cnJlbnRUaW1lLCBfdGhpcy5tQXR0YWNrVGltZSAqIC4xKTtcbiAgICAgICAgICAgIC8vIGRlY2F5XG4gICAgICAgICAgICBwYXJhbS5zZXRUYXJnZXRBdFRpbWUoX3RoaXMubVN1c3RhaW5MZXZlbCwgc3RhcnREZWNheSwgX3RoaXMubURlY2F5VGltZSAqIC4xKTtcbiAgICAgICAgICAgIC8vIHJlbGVhc2VcbiAgICAgICAgICAgIHBhcmFtLnNldFRhcmdldEF0VGltZSgwLCBzdGFydFJlbGVhc2UsIF90aGlzLm1SZWxlYXNlVGltZSAqIC4xKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW5jZWwgZWZmZWN0cyBvZiBhIHRyaWdnZXJlZCBlbnZlbG9wZSAoc2lkZSBlZmZlY3Q6IHdpbGwgYWxzbyBjYW5jZWwgYW55IG90aGVyIHNjaGVkdWxlZFxuICAgICAqIGNoYW5nZXMgdG8gdGhlIHRhcmdldCBwYXJhbWV0ZXJzKS5cbiAgICAgKiBAcGFyYW0gd2hlbiAtIFRpbWUgYWZ0ZXIgd2hpY2ggYWxsIGV2ZW50cyB3aWxsIGJlIGNhbmNlbGxlZCwgcmVsYXRpdmUgdG8gbm93IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgRW52ZWxvcGUucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICh3aGVuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh3aGVuID09PSB2b2lkIDApIHsgd2hlbiA9IDA7IH1cbiAgICAgICAgdGhpcy5tVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICAgICAgcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKF90aGlzLm1Db250ZXh0LmN1cnJlbnRUaW1lICsgd2hlbik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEVudmVsb3BlO1xufSgpKTtcbmV4cG9ydCB7IEVudmVsb3BlIH07XG4iLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IHsgU291bmQgfSBmcm9tIFwiLi9Tb3VuZFwiO1xuLy8gQ2xhc3MgbWVhbnQgZm9yIGxvbmdlciBzb3VuZHMgbGlrZSBtdXNpYywgYW1iaWVuY2UsIGV0Yy5cbi8vIEF1ZGlvTm9kZSBncmFwaDogc291cmNlIC0+IGdhaW5Ob2RlXG52YXIgTXVzaWMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE11c2ljLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE11c2ljKGNvbnRleHQsIHRhcmdldCwgdXJsKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBuZXcgTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlKGNvbnRleHQsIHtcbiAgICAgICAgICAgIG1lZGlhRWxlbWVudDogdXJsID8gbmV3IEF1ZGlvKHVybCkgOiBuZXcgQXVkaW8oKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbnRleHQsIHNvdXJjZSwgdGFyZ2V0KSB8fCB0aGlzO1xuICAgIH1cbiAgICBNdXNpYy5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LnNyYyA9IHVybDtcbiAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LmxvYWQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBNdXNpYy5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQuc3JjID0gXCJcIjtcbiAgICB9O1xuICAgIE11c2ljLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQucGxheSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zb3VyY2U7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gUGF1c2VzIGF1ZGlvIGFuZCBzZXRzIGN1cnJlbnRUaW1lIHRvIDBcbiAgICBNdXNpYy5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LnBhdXNlKCk7XG4gICAgICAgIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IDA7XG4gICAgfTtcbiAgICBNdXNpYy5wcm90b3R5cGUuc2V0UGF1c2UgPSBmdW5jdGlvbiAocGF1c2UpIHtcbiAgICAgICAgaWYgKHBhdXNlKVxuICAgICAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LnBhdXNlKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5wbGF5KCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTXVzaWMucHJvdG90eXBlLCBcInBhdXNlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5wYXVzZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNdXNpYy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LnNyYyA9IFwiXCI7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIE11c2ljO1xufShTb3VuZCkpO1xuZXhwb3J0IHsgTXVzaWMgfTtcbiIsInZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbi8qKlxuICogQ2xhc3MgdGhhdCBzdG9yZXMgYW5kIGludm9rZXMgY2FsbGJhY2suIFNpbWlsYXIgdG8gdGhlIHN1YmplY3QgaW4gdGhlIE9ic2VydmVyIHBhdHRlcm4uXG4gKiBDYW4gc3RvcmUgJ3RoaXMnIGNvbnRleHQsIGlmIG5lZWRlZCwgZS5nLiBjbGFzcyBmdW5jdGlvbiBwZXJmb3JtZWQgb24gYW4gaW5zdGFuY2UuXG4gKi9cbnZhciBEZWxlZ2F0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWxlZ2F0ZSgpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICB9XG4gICAgRGVsZWdhdGUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaCh7IGNvbnRleHQ6IGNvbnRleHQsIGNhbGxiYWNrOiBjYWxsYmFjayB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGlzdGVuZXIuIE11c3QgYmUgY2FsbGVkIHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIGNhbGxlZCBmcm9tIERlbGVnYXRlLmFkZExpc3RlbmVyLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBGdW5jdGlvbiB0byBzZXRcbiAgICAgKiBAcGFyYW0gY29udGV4dCAndGhpcycgY29udGV4dC4gKEFycm93IGZ1bmN0aW9ucyBhdXRvbWF0aWNhbGx5IGNhcHR1cmUgJ3RoaXMnLCBhbmQgZG8gbm90XG4gICAgICogbmVlZCB0aGlzIHBhcmFtZXRlciBzZXQuKVxuICAgICAqL1xuICAgIERlbGVnYXRlLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaXModGhpcy5jYWxsYmFja3NbaV0uY2FsbGJhY2ssIGNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAgIChjb250ZXh0ID8gT2JqZWN0LmlzKHRoaXMuY2FsbGJhY2tzW2ldLmNvbnRleHQsIGNvbnRleHQpIDogdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRGVsZWdhdGUucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2FsbGJhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFja3NbaV0uY29udGV4dClcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLmNhbGxiYWNrc1tpXS5jYWxsYmFjaykuY2FsbC5hcHBseShfYSwgX19zcHJlYWRBcnJheShbdGhpcy5jYWxsYmFja3NbaV0uY29udGV4dF0sIGFyZ3MsIGZhbHNlKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgKF9iID0gdGhpcy5jYWxsYmFja3NbaV0pLmNhbGxiYWNrLmFwcGx5KF9iLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlbGVnYXRlLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEZWxlZ2F0ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gICAgfTtcbiAgICByZXR1cm4gRGVsZWdhdGU7XG59KCkpO1xuZXhwb3J0IHsgRGVsZWdhdGUgfTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBsb2FkQXVkaW9CdWZmZXIoY29udGV4dCwgdXJsKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzLCBidWY7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKHVybCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXMuYXJyYXlCdWZmZXIoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBidWYgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjb250ZXh0LmRlY29kZUF1ZGlvRGF0YShidWYpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLy8gQ2xhc3MgaW50ZW5kZWQgZm9yIHNob3J0IG9uZS1zaG90IHNvdW5kIGVmZmVjdHMuXG4vLyBJZiB5b3UgbmVlZCBsb25nZXIgYXVkaW8gd2l0aCBtb3JlIGNvbnRyb2xzIGZvciBtdXNpYyBvciBhbWJpZW5jZSwgcGxlYXNlIHVzZSB0aGUgYE11c2ljYCBjbGFzcy5cbmltcG9ydCB7IERlbGVnYXRlIH0gZnJvbSBcIi4vRGVsZWdhdGVcIjtcbmltcG9ydCB7IGxvYWRBdWRpb0J1ZmZlciB9IGZyb20gXCIuL0xvYWRpbmdcIjtcbmltcG9ydCB7IFNvdW5kIH0gZnJvbSBcIi4vU291bmRcIjtcbnZhciBTb3VuZEVmZmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU291bmRFZmZlY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU291bmRFZmZlY3QoY29udGV4dCwgdGFyZ2V0LCB1cmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29udGV4dCwgbnVsbCwgdGFyZ2V0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGJ1ZmZlcjogbnVsbCxcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgcGxheWJhY2tSYXRlOiAxLFxuICAgICAgICAgICAgZGV0dW5lOiAwLFxuICAgICAgICAgICAgbG9vcFN0YXJ0OiAwLFxuICAgICAgICAgICAgbG9vcEVuZDogMFxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbmVuZGVkID0gbmV3IERlbGVnYXRlO1xuICAgICAgICBfdGhpcy5vbmVuZGVkSGFuZGxlciA9IF90aGlzLm9uZW5kZWRIYW5kbGVyLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAodXJsKVxuICAgICAgICAgICAgX3RoaXMubG9hZCh1cmwpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VuZEVmZmVjdC5wcm90b3R5cGUsIFwiaXNMb2FkZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMuYnVmZmVyICE9PSBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJsb29waW5nXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmRlZmF1bHRzLmxvb3A7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMuZGVmYXVsdHMubG9vcCA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJsb29wU3RhcnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMubG9vcFN0YXJ0OyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGlzLmRlZmF1bHRzLmxvb3BTdGFydCA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJsb29wRW5kXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmRlZmF1bHRzLmxvb3BFbmQ7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMuZGVmYXVsdHMubG9vcEVuZCA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJwbGF5YmFja1JhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMucGxheWJhY2tSYXRlOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGlzLmRlZmF1bHRzLnBsYXliYWNrUmF0ZSA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJkZXR1bmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMuZGV0dW5lOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGlzLmRlZmF1bHRzLmRldHVuZSA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU291bmRFZmZlY3QucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGxvYWRBdWRpb0J1ZmZlcih0aGlzLmNvbnRleHQsIHVybClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhQnVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWZhdWx0cy5idWZmZXIgPSBhQnVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTb3VuZEVmZmVjdC5wcm90b3R5cGUub25lbmRlZEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHRoaXMub25lbmRlZC5pbnZva2UoZXZ0LnRhcmdldCwgdGhpcyk7XG4gICAgfTtcbiAgICBTb3VuZEVmZmVjdC5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRzLmJ1ZmZlciA9IG51bGw7IH07XG4gICAgLyoqXG4gICAgICogRmlyZSBhbmQgZm9yZ2V0LiBQbGVhc2UgZG8gbm90IGNhbGwgc3RhcnQgb24gdGhlIHJldHVybmVkIEF1ZGlvQnVmZmVyU291cmNlTm9kZS5cbiAgICAgKiBAcGFyYW0gd2hlbiB3aGVuIHRvIHN0YXJ0IHBsYXlpbmcsIGluIHNlY29uZHMsIHJlbGF0aXZlIHRvIG5vd1xuICAgICAqIEBwYXJhbSBvZmZzZXQgd2hlcmUgaW4gdGhlIGF1ZGlvIGZpbGUgdG8gc3RhcnQgcGxheWluZywgaW4gc2Vjb25kc1xuICAgICAqIEBwYXJhbSBkdXJhdGlvbiBob3cgbG9uZyB0byBwbGF5IHRoZSBmaWxlLCBpbiBzZWNvbmRzLiBJZiBub3Qgc3BlY2lmaWVkLCBwbGF5cyB0aGUgd2hvbGUgZmlsZS5cbiAgICAgKi9cbiAgICBTb3VuZEVmZmVjdC5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uICh3aGVuLCBvZmZzZXQsIGR1cmF0aW9uKSB7XG4gICAgICAgIGlmICh3aGVuID09PSB2b2lkIDApIHsgd2hlbiA9IDA7IH1cbiAgICAgICAgaWYgKG9mZnNldCA9PT0gdm9pZCAwKSB7IG9mZnNldCA9IDA7IH1cbiAgICAgICAgdmFyIHNyY05vZGUgPSAodGhpcy5kZWZhdWx0cykgP1xuICAgICAgICAgICAgbmV3IEF1ZGlvQnVmZmVyU291cmNlTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMuZGVmYXVsdHMpIDpcbiAgICAgICAgICAgIG5ldyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUodGhpcy5jb250ZXh0KTtcbiAgICAgICAgc3JjTm9kZS5jb25uZWN0KHRoaXMuZWZmZWN0cy5pbnB1dCk7XG4gICAgICAgIHNyY05vZGUub25lbmRlZCA9IHRoaXMub25lbmRlZEhhbmRsZXI7XG4gICAgICAgIGlmIChkdXJhdGlvbiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgc3JjTm9kZS5zdGFydCh0aGlzLmNvbnRleHQuY3VycmVudFRpbWUgKyB3aGVuLCBvZmZzZXQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzcmNOb2RlLnN0YXJ0KHRoaXMuY29udGV4dC5jdXJyZW50VGltZSArIHdoZW4sIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICByZXR1cm4gc3JjTm9kZTtcbiAgICB9O1xuICAgIHJldHVybiBTb3VuZEVmZmVjdDtcbn0oU291bmQpKTtcbmV4cG9ydCB7IFNvdW5kRWZmZWN0IH07XG4iLCJleHBvcnQgZnVuY3Rpb24gcmFuZEludChuKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG4pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmQobikge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogbjtcbn1cbi8qKlxuICogQmVoYXZlcyBhcyBhIHRydWUgbW9kIGZ1bmN0aW9uLCBldmVuIHdpdGggbmVnYXRpdmUgbnVtYmVycy5cbiAqIEBwYXJhbSB4XG4gKiBAcGFyYW0gblxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9kKHgsIG4pIHtcbiAgICByZXR1cm4gKHggJSBuICsgbikgJSBuO1xufVxuZXhwb3J0IHZhciBCcm93c2VyO1xuKGZ1bmN0aW9uIChCcm93c2VyKSB7XG4gICAgQnJvd3NlcltCcm93c2VyW1wiQ2hyb21lXCJdID0gMF0gPSBcIkNocm9tZVwiO1xuICAgIEJyb3dzZXJbQnJvd3NlcltcIklFeHBsb3JlclwiXSA9IDFdID0gXCJJRXhwbG9yZXJcIjtcbiAgICBCcm93c2VyW0Jyb3dzZXJbXCJGaXJlRm94XCJdID0gMl0gPSBcIkZpcmVGb3hcIjtcbiAgICBCcm93c2VyW0Jyb3dzZXJbXCJTYWZhcmlcIl0gPSAzXSA9IFwiU2FmYXJpXCI7XG4gICAgQnJvd3NlcltCcm93c2VyW1wiQnJhdmVcIl0gPSA0XSA9IFwiQnJhdmVcIjtcbiAgICBCcm93c2VyW0Jyb3dzZXJbXCJVbmtub3duXCJdID0gNV0gPSBcIlVua25vd25cIjtcbn0pKEJyb3dzZXIgfHwgKEJyb3dzZXIgPSB7fSkpO1xuZXhwb3J0IHZhciBkZXRlY3RCcm93c2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBjb2RlIGFkYXB0ZWQgZnJvbTogaHR0cHM6Ly93d3cuZ2Vla3Nmb3JnZWVrcy5vcmcvaG93LXRvLWRldGVjdC10aGUtdXNlci1icm93c2VyLXNhZmFyaS1jaHJvbWUtaWUtZmlyZWZveC1hbmQtb3BlcmEtdXNpbmctamF2YXNjcmlwdC8jXG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgdmFyIGNocm9tZSA9IHVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lXCIpID4gLTE7XG4gICAgdmFyIGV4cGxvcmVyID0gdXNlckFnZW50LmluZGV4T2YoXCJNU0lFXCIpID4gLTEgfHwgdXNlckFnZW50LmluZGV4T2YoXCJydjpcIikgPiAtMTtcbiAgICB2YXIgZmlyZWZveCA9IHVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveFwiKSA+IC0xO1xuICAgIHZhciBzYWZhcmkgPSB1c2VyQWdlbnQuaW5kZXhPZihcIlNhZmFyaVwiKSA+IC0xICYmICFjaHJvbWU7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHZhciBicmF2ZSA9IG5hdmlnYXRvci5icmF2ZSAhPT0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBmdW5jdGlvbiAoYnJvd3NlclR5cGUpIHtcbiAgICAgICAgc3dpdGNoIChicm93c2VyVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCcm93c2VyLkJyYXZlOlxuICAgICAgICAgICAgICAgIHJldHVybiBicmF2ZTtcbiAgICAgICAgICAgIGNhc2UgQnJvd3Nlci5DaHJvbWU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNocm9tZTtcbiAgICAgICAgICAgIGNhc2UgQnJvd3Nlci5GaXJlRm94OlxuICAgICAgICAgICAgICAgIHJldHVybiBmaXJlZm94O1xuICAgICAgICAgICAgY2FzZSBCcm93c2VyLlNhZmFyaTpcbiAgICAgICAgICAgICAgICByZXR1cm4gc2FmYXJpO1xuICAgICAgICAgICAgY2FzZSBCcm93c2VyLklFeHBsb3JlcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwbG9yZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBJbnRlcnBvbGF0ZSBiZXR3ZWVuIG4gYW5kIGRlc3QgYnkgYSBnaXZlbiBwZXJjZW50YWdlLlxuICogQHBhcmFtIG4gICAgICAtIGN1cnJlbnQgbnVtYmVyXG4gKiBAcGFyYW0gZGVzdCAgIC0gZGVzdGluYXRpb24gbnVtYmVyXG4gKiBAcGFyYW0gYW1vdW50IC0gcGVyY2VudGFnZSB0byBpbnRlcnBvbGF0ZSAoMC4wLTEuMClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlcnAobiwgZGVzdCwgYW1vdW50KSB7XG4gICAgcmV0dXJuIG4gKyAoZGVzdCAtIG4pICogYW1vdW50O1xufVxuIiwiaW1wb3J0IHsgQnVzTWdyIH0gZnJvbSBcIi4vQnVzTWdyXCI7XG5pbXBvcnQgeyBpbnRlcmFjdGlvbldvcmthcm91bmQgfSBmcm9tIFwiLi9JbnRlcmFjdGlvblwiO1xuaW1wb3J0IHsgTW9ub1N5bnRoIH0gZnJvbSBcIi4vTW9ub1N5bnRoXCI7XG5pbXBvcnQgeyBNdXNpYyB9IGZyb20gXCIuL011c2ljXCI7XG5pbXBvcnQgeyBTb3VuZEVmZmVjdCB9IGZyb20gXCIuL1NvdW5kRWZmZWN0XCI7XG52YXIgQXVkaW9FbmdpbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXVkaW9FbmdpbmUoKSB7XG4gICAgICAgIHRoaXMubUNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLm1CdXNzZXMgPSBudWxsO1xuICAgICAgICB0aGlzLm1Tb3VuZHMgPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLm1NdXNpYyA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMubVN5bnRocyA9IG5ldyBNYXA7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdWRpb0VuZ2luZS5wcm90b3R5cGUsIFwibGlzdGVuZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubUNvbnRleHQubGlzdGVuZXI7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9FbmdpbmUucHJvdG90eXBlLCBcImJ1c3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tQnVzc2VzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvRW5naW5lLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1Db250ZXh0OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQXVkaW9FbmdpbmUucHJvdG90eXBlLmdldFNvdW5kID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tU291bmRzLmdldCh1cmwpIHx8IG51bGw7XG4gICAgfTtcbiAgICBBdWRpb0VuZ2luZS5wcm90b3R5cGUuZ2V0TXVzaWMgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1NdXNpYy5nZXQodXJsKSB8fCBudWxsO1xuICAgIH07XG4gICAgQXVkaW9FbmdpbmUucHJvdG90eXBlLmdldFN5bnRoID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubVN5bnRocy5nZXQobmFtZSkgfHwgbnVsbDtcbiAgICB9O1xuICAgIEF1ZGlvRW5naW5lLnByb3RvdHlwZS5sb2FkU291bmQgPSBmdW5jdGlvbiAodXJsLCBidXNOYW1lKSB7XG4gICAgICAgIHZhciBzb3VuZCA9IHRoaXMubVNvdW5kcy5nZXQodXJsKTtcbiAgICAgICAgaWYgKCFzb3VuZCkge1xuICAgICAgICAgICAgdmFyIGJ1cyA9IGJ1c05hbWUgPyB0aGlzLm1CdXNzZXMuZ2V0KGJ1c05hbWUpIDogdGhpcy5tQnVzc2VzLm1hc3RlcjtcbiAgICAgICAgICAgIGlmICghYnVzKVxuICAgICAgICAgICAgICAgIGJ1cyA9IHRoaXMubUJ1c3Nlcy5tYXN0ZXI7XG4gICAgICAgICAgICBzb3VuZCA9IG5ldyBTb3VuZEVmZmVjdCh0aGlzLmNvbnRleHQsIGJ1cy5pbnB1dCk7XG4gICAgICAgICAgICB0aGlzLm1Tb3VuZHMuc2V0KHVybCwgc291bmQpO1xuICAgICAgICAgICAgc291bmQubG9hZCh1cmwpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzb3VuZDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VuZDtcbiAgICB9O1xuICAgIEF1ZGlvRW5naW5lLnByb3RvdHlwZS5sb2FkTXVzaWMgPSBmdW5jdGlvbiAodXJsLCBidXNOYW1lKSB7XG4gICAgICAgIHZhciBtdXNpYyA9IHRoaXMubU11c2ljLmdldCh1cmwpO1xuICAgICAgICBpZiAoIW11c2ljKSB7XG4gICAgICAgICAgICB2YXIgYnVzID0gYnVzTmFtZSA/IHRoaXMubUJ1c3Nlcy5nZXQoYnVzTmFtZSkgOiB0aGlzLm1CdXNzZXMubWFzdGVyO1xuICAgICAgICAgICAgaWYgKCFidXMpXG4gICAgICAgICAgICAgICAgYnVzID0gdGhpcy5tQnVzc2VzLm1hc3RlcjtcbiAgICAgICAgICAgIG11c2ljID0gbmV3IE11c2ljKHRoaXMuY29udGV4dCwgYnVzLmlucHV0KTtcbiAgICAgICAgICAgIHRoaXMubU11c2ljLnNldCh1cmwsIG11c2ljKTtcbiAgICAgICAgICAgIG11c2ljLmxvYWQodXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbXVzaWM7XG4gICAgfTtcbiAgICBBdWRpb0VuZ2luZS5wcm90b3R5cGUubG9hZFN5bnRoID0gZnVuY3Rpb24gKG5hbWUsIGJ1c05hbWUsIG9wdHMpIHtcbiAgICAgICAgaWYgKGJ1c05hbWUgPT09IHZvaWQgMCkgeyBidXNOYW1lID0gXCJtYXN0ZXJcIjsgfVxuICAgICAgICB2YXIgc3ludGggPSB0aGlzLm1TeW50aHMuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAoIXN5bnRoKSB7XG4gICAgICAgICAgICB2YXIgYnVzID0gdGhpcy5tQnVzc2VzLmdldChidXNOYW1lKTtcbiAgICAgICAgICAgIHN5bnRoID0gbmV3IE1vbm9TeW50aCh0aGlzLmNvbnRleHQsIGJ1cy5pbnB1dCwgb3B0cyk7XG4gICAgICAgICAgICB0aGlzLm1TeW50aHMuc2V0KG5hbWUsIHN5bnRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3ludGg7XG4gICAgfTtcbiAgICBBdWRpb0VuZ2luZS5wcm90b3R5cGUud2FzSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubUNvbnRleHQgIT09IG51bGw7XG4gICAgfTtcbiAgICBBdWRpb0VuZ2luZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29udGV4dCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXVkaW9Db250ZXh0IGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcmFjdGlvbldvcmthcm91bmQoY29udGV4dCk7XG4gICAgICAgIHRoaXMubUJ1c3NlcyA9IG5ldyBCdXNNZ3IoY29udGV4dCk7XG4gICAgICAgIHRoaXMubUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEF1ZGlvRW5naW5lLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1CdXNzZXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLm1NdXNpYy5mb3JFYWNoKGZ1bmN0aW9uIChtdXNpYykgeyByZXR1cm4gbXVzaWMuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgdGhpcy5tTXVzaWMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5tTXVzaWMgPSBudWxsO1xuICAgICAgICB0aGlzLm1Tb3VuZHMuZm9yRWFjaChmdW5jdGlvbiAoc2Z4KSB7IHJldHVybiBzZnguZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgdGhpcy5tU291bmRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMubVNvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMubVN5bnRocy5mb3JFYWNoKGZ1bmN0aW9uIChzeW50aCkgeyByZXR1cm4gc3ludGguZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgdGhpcy5tU3ludGhzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMubVN5bnRocyA9IG51bGw7XG4gICAgICAgIHRoaXMubUNvbnRleHQgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEF1ZGlvRW5naW5lO1xufSgpKTtcbmV4cG9ydCB7IEF1ZGlvRW5naW5lIH07XG4iLCJpbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gXCIuL0tleWJvYXJkXCI7XG5pbXBvcnQgeyBBdWRpb0VuZ2luZSB9IGZyb20gXCIuL1dlYkFBXCI7XG52YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICB0aWNrU3BlZWQ6IDMzLjM0LFxufTtcbnZhciBHYW1lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdhbWUoY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSBkZWZhdWx0Q29uZmlnOyB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5tVGlja1NwZWVkID0gKF9hID0gY29uZmlnLnRpY2tTcGVlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdENvbmZpZy50aWNrU3BlZWQ7XG4gICAgICAgIHRoaXMubUtleWJvYXJkID0gbmV3IEtleWJvYXJkO1xuICAgICAgICB0aGlzLm1BdWRpbyA9IG5ldyBBdWRpb0VuZ2luZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdhbWUucHJvdG90eXBlLCBcImtleWJvYXJkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1LZXlib2FyZDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHYW1lLnByb3RvdHlwZSwgXCJhdWRpb1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tQXVkaW87IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBHYW1lLnByb3RvdHlwZS5xdWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1Jc1J1bm5pbmcgPSBmYWxzZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHYW1lLnByb3RvdHlwZSwgXCJpc1J1bm5pbmdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubUlzUnVubmluZzsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEdhbWUucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5tSXNSdW5uaW5nID0gdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIHRoaXMubUxhc3RUaWNrcyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB0aGlzLnJlbmRlcigpOyAvLyBmaXJzdCByZW5kZXIgcGFzcyB0byBzaG93IHdoYXQgd2FzIGluaXRpYWxpemVkXG4gICAgICAgIHRoaXMubUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucnVuT25lRnJhbWUoKTsgfSwgdGhpcy5tVGlja1NwZWVkKTtcbiAgICB9O1xuICAgIEdhbWUucHJvdG90eXBlLnJ1bk9uZUZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMubUludGVydmFsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFRpY2tzID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHZhciBkZWx0YVRpbWUgPSBjdXJyZW50VGlja3MgLSB0aGlzLm1MYXN0VGlja3M7XG4gICAgICAgIHRoaXMucHJvY2Vzc0lucHV0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlKGRlbHRhVGltZSk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMua2V5Ym9hcmQudXBkYXRlKGRlbHRhVGltZSk7XG4gICAgICAgIHRoaXMubUxhc3RUaWNrcyA9IGN1cnJlbnRUaWNrcztcbiAgICB9O1xuICAgIEdhbWUucHJvdG90eXBlLnByb2Nlc3NJbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIDtcbiAgICByZXR1cm4gR2FtZTtcbn0oKSk7XG5leHBvcnQgeyBHYW1lIH07XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgMkQgcmVjdGFuZ3VsYXIgZ3JpZCB0aGF0IGlzIGZpbGwtYWJsZSB3aXRoIG51bWVyaWMgZGF0YSAodWludDgpXG4gKlxuICogVXNlcyB0eXBlZCBhcnJheSBmb3IgcmFwaWQgYWNjZXNzIG9mIGNvbnRpZ3VvdXMgZGF0YVxuICovXG52YXIgR3JpZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcm93cyAgLSBudW1iZXIgb2Ygcm93c1xuICAgICAqIEBwYXJhbSBjb2xzICAtIG51bWJlciBvZiBjb2xzXG4gICAgICogQHBhcmFtIGFyciAgIC0gaWYgcHJvdmlkZWQsIGl0IHdpbGwgYmUgY29waWVkIGludG8gdGhlIGludGVybmFsIGdyaWQuXG4gICAgICogKE93bmVyc2hpcCBvZiBBcnJheUxpa2UgbWFpbnRhaW5lZCBieSB1c2VyKS4gUGxlYXNlIGVuc3VyZSB0aGF0XG4gICAgICogYHdpZHRoICogaGVpZ2h0ID09PSBhcnIubGVuZ3RoYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyaWQocm93cywgY29scywgYXJyKSB7XG4gICAgICAgIHRoaXMuZ3JpZCA9IGFyciA/IG5ldyBVaW50MzJBcnJheShhcnIpIDogbmV3IFVpbnQzMkFycmF5KHJvd3MgKiBjb2xzKTtcbiAgICAgICAgdGhpcy5yb3dDb3VudCA9IHJvd3M7XG4gICAgICAgIHRoaXMuY29sQ291bnQgPSBjb2xzO1xuICAgICAgICBpZiAoYXJyKVxuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoYXJyLmxlbmd0aCA9PT0gcm93cyAqIGNvbHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYWxsIHNwYWNlcyB0byAwXG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmlkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgdGhpcy5ncmlkW2ldID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqICpHZXRzIHRoZSBncmlkJ3Mgd2lkdGggYXQgdGhlIHByb2plY3RlZCBhbmdsZSpcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSB0aGUgYW5nbGUgYXQgd2hpY2ggdG8gcHJvamVjdCB0aGUgZ3JpZCB3aGVuIGNhbGN1bGF0aW5nIHdpZHRoLlxuICAgICAqIEFuZ2xlIGlzIGNhbGN1bGF0ZWQgYXMgc286IGBhbmdsZSAqIDkwZGVnIGNsb2Nrd2lzZWAuIERlZmF1bHQ9YDBgLlxuICAgICAqL1xuICAgIEdyaWQucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICByZXR1cm4gKGFuZ2xlICUgMiA9PT0gMCkgPyB0aGlzLmNvbENvdW50IDogdGhpcy5yb3dDb3VudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqICpHZXRzIHRoZSBncmlkJ3MgaGVpZ2h0IGF0IHRoZSBwcm9qZWN0ZWQgYW5nbGUqXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gdGhlIGFuZ2xlIGF0IHdoaWNoIHRvIHByb2plY3QgdGhlIGdyaWQgd2hlbiBjYWxjdWxhdGluZyB3aWR0aC5cbiAgICAgKiBBbmdsZSBpcyBjYWxjdWxhdGVkIGFzIHNvOiBgYW5nbGUgKiA5MGRlZyBjbG9ja3dpc2VgLiBEZWZhdWx0PWAwYC5cbiAgICAgKi9cbiAgICBHcmlkLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XG4gICAgICAgIHJldHVybiAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMucm93Q291bnQgOiB0aGlzLmNvbENvdW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWVyZ2UgYW5vdGhlciBHcmlkIGludG8gdGhpcyBvbmUgaWYgaXQgY29udGFpbnMgbm9uIDAgdmFsdWVzLlxuICAgICAqIEl0IHdpbGwgb3ZlcndyaXRlIGFueXRoaW5nIGF0IHRoZSBsb2NhdGlvbi5cbiAgICAgKiBAcGFyYW0gc3RhcnRSb3cgICAtIHJvdyBpbiB0aGlzIEdyaWQgYXQgd2hpY2ggdG8gcGVyZm9ybSB0aGUgbWVyZ2VcbiAgICAgKiBAcGFyYW0gc3RhcnRDb2wgICAtIGNvbHVtbiBpbiB0aGlzIEdyaWQgYXQgd2hpY2ggdG8gcGVyZm9ybSB0aGUgbWVyZ2VcbiAgICAgKiBAcGFyYW0gb3RoZXIgICAgICAtIHRoZSBvdGhlciBHcmlkIHRoYXQgd2lsbCBtZXJnZSBpbnRvIHRoaXMgb25lLlxuICAgICAqIEBwYXJhbSBvdGhlckFuZ2xlIC0gdGhlIGFuZ2xlIGF0IHdoaWNoIHRvIHRyYW5zZm9ybSB0aGUgb3RoZXIgR3JpZCB3aGlsZSBwZXJmb3JtaW5nIHRoZSBtZXJnZS5cbiAgICAgKiBEZWZhdWx0OiAwIChubyB0cmFuc2Zvcm1hdGlvbikuXG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUubWVyZ2VJbnRvID0gZnVuY3Rpb24gKHN0YXJ0Um93LCBzdGFydENvbCwgb3RoZXIsIG90aGVyQW5nbGUpIHtcbiAgICAgICAgaWYgKG90aGVyQW5nbGUgPT09IHZvaWQgMCkgeyBvdGhlckFuZ2xlID0gMDsgfVxuICAgICAgICB2YXIgcm93Q291bnQgPSBvdGhlci5nZXRIZWlnaHQob3RoZXJBbmdsZSk7XG4gICAgICAgIHZhciBjb2xDb3VudCA9IG90aGVyLmdldFdpZHRoKG90aGVyQW5nbGUpO1xuICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCByb3dDb3VudDsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IGNvbENvdW50OyArK2NvbCkge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlclZhbCA9IG90aGVyLmdldChyb3csIGNvbCwgb3RoZXJBbmdsZSk7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyVmFsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KHJvdyArIHN0YXJ0Um93LCBjb2wgKyBzdGFydENvbCwgb3RoZXJWYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGVmdC1tb3N0IGNvbHVtbiB3aGVyZSB0aGVyZSBpcyBhIG5vbi16ZXJvIHZhbHVlIGluIHRoaXMgZ3JpZFxuICAgICAqIEBwYXJhbSBhbmdsZSAtIHRoZSBhbmdsZSBhdCB3aGljaCB0byBwcm9qZWN0IHRoZSBncmlkLiAoYW5nbGUgKiA5MGRlZyBjbG9ja3dpc2UpXG4gICAgICogQHJldHVybnMgcmlnaHQtbW9zdCByb3csIHN0YXJ0aW5nIGZyb20gdGhlIDAsIHdoaWNoIHJlcHJlc2VudHMgdGhlIGxlZnQtbW9zdCByb3cuXG4gICAgICogSWYgdGhlcmUgaXMgbm8gbm9uLXplcm8gdmFsdWUgaW4gdGhlIGdyaWQsIC0xIGlzIHJldHVybmVkLlxuICAgICAqL1xuICAgIEdyaWQucHJvdG90eXBlLmxlZnRNb3N0ID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICB2YXIgcm93Q291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMucm93Q291bnQgOiB0aGlzLmNvbENvdW50O1xuICAgICAgICB2YXIgY29sQ291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMuY29sQ291bnQgOiB0aGlzLnJvd0NvdW50O1xuICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBjb2xDb3VudDsgKytjb2wpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IHJvd0NvdW50OyArK3Jvdykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChyb3csIGNvbCwgYW5nbGUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJpZ2h0LW1vc3QgY29sdW1uIHdoZXJlIHRoZXJlIGlzIGEgbm9uLXplcm8gdmFsdWUgaW4gdGhpcyBncmlkXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gdGhlIGFuZ2xlIGF0IHdoaWNoIHRvIHByb2plY3QgdGhlIGdyaWQuIChhbmdsZSAqIDkwZGVnIGNsb2Nrd2lzZSlcbiAgICAgKiBAcmV0dXJucyByaWdodC1tb3N0IHJvdywgc3RhcnRpbmcgZnJvbSB0aGUgMCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgbGVmdC1tb3N0IHJvdy5cbiAgICAgKiBJZiB0aGVyZSBpcyBubyBub24temVybyB2YWx1ZSBpbiB0aGUgZ3JpZCwgLTEgaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUucmlnaHRNb3N0ID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICB2YXIgcm93Q291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMucm93Q291bnQgOiB0aGlzLmNvbENvdW50O1xuICAgICAgICB2YXIgY29sQ291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMuY29sQ291bnQgOiB0aGlzLnJvd0NvdW50O1xuICAgICAgICBmb3IgKHZhciBjb2wgPSBjb2xDb3VudCAtIDE7IGNvbCA+PSAwOyAtLWNvbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgcm93Q291bnQ7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KHJvdywgY29sLCBhbmdsZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdG9wLW1vc3Qgcm93IHdoZXJlIHRoZXJlIGlzIGEgbm9uLXplcm8gdmFsdWUgaW4gdGhpcyBncmlkXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gdGhlIGFuZ2xlIGF0IHdoaWNoIHRvIHByb2plY3QgdGhlIGdyaWQuIChhbmdsZSAqIDkwZGVnIGNsb2Nrd2lzZSlcbiAgICAgKiBAcmV0dXJucyB0b3AtbW9zdCByb3csIHN0YXJ0aW5nIGZyb20gMCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgdG9wIHJvdy5cbiAgICAgKiBJZiB0aGVyZSBpcyBubyBub24temVybyB2YWx1ZSBpbiB0aGUgZ3JpZCwgcm93Q291bnQtMSBpcyByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBHcmlkLnByb3RvdHlwZS50b3BNb3N0ID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICB2YXIgcm93Q291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMucm93Q291bnQgOiB0aGlzLmNvbENvdW50O1xuICAgICAgICB2YXIgY29sQ291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMuY29sQ291bnQgOiB0aGlzLnJvd0NvdW50O1xuICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCByb3dDb3VudDsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IGNvbENvdW50OyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChyb3csIGNvbCwgYW5nbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRvcC1tb3N0IHJvdyB3aGVyZSB0aGVyZSBpcyBhIG5vbi16ZXJvIHZhbHVlIGluIHRoaXMgZ3JpZFxuICAgICAqIEBwYXJhbSBhbmdsZSAtIHRoZSBhbmdsZSBhdCB3aGljaCB0byBwcm9qZWN0IHRoZSBncmlkLiAoYW5nbGUgKiA5MGRlZyBjbG9ja3dpc2UpXG4gICAgICogQHJldHVybnMgdG9wLW1vc3Qgcm93LCBzdGFydGluZyBmcm9tIDAsIHdoaWNoIHJlcHJlc2VudHMgdGhlIHRvcCByb3cuXG4gICAgICogSWYgdGhlcmUgaXMgbm8gbm9uLXplcm8gdmFsdWUgaW4gdGhlIGdyaWQsIHJvd0NvdW50LTEgaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuYm90dG9tTW9zdCA9IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cbiAgICAgICAgdmFyIHJvd0NvdW50ID0gKGFuZ2xlICUgMiA9PT0gMCkgPyB0aGlzLnJvd0NvdW50IDogdGhpcy5jb2xDb3VudDtcbiAgICAgICAgdmFyIGNvbENvdW50ID0gKGFuZ2xlICUgMiA9PT0gMCkgPyB0aGlzLmNvbENvdW50IDogdGhpcy5yb3dDb3VudDtcbiAgICAgICAgZm9yICh2YXIgcm93ID0gcm93Q291bnQgLSAxOyByb3cgPj0gMDsgLS1yb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IGNvbENvdW50OyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChyb3csIGNvbCwgYW5nbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBvdGhlciAgICAgICAtIG90aGVyIGdyaWRcbiAgICAgKiBAcGFyYW0gc3RhcnRSb3cgICAgLSByb3cgZnJvbSB3aGljaCB0byBzdGFydCBjaGVja2luZyBhdCBpbiBvdGhlciBHcmlkXG4gICAgICogQHBhcmFtIHN0YXJ0Q29sdW1uIC0gY29sdW1uIGZyb20gd2hpY2ggdG8gc3RhcnQgY2hlY2tpbmcgaW4gb3RoZXIgR3JpZFxuICAgICAqIEBwYXJhbSB0aGlzQW5nbGUgICAtIGFuZ2xlIGF0IHdoaWNoIGNhbGxpbmcgR3JpZCBvYmplY3Qgd2lsbCBiZSB0ZXN0ZWQuXG4gICAgICogVHJhbnNmb3JtYXRpb24gd2lsbCBiZTogOTAgKiBhbmdsZSwgaW4gZGVncmVlcyBjbG9ja3dpc2UuXG4gICAgICogTmVnYXRpdmUgdmFsdWVzIHdpbGwgcmVzdWx0IGluIGFuZ2xlID0gMC5cbiAgICAgKiBAcGFyYW0gb3RoZXJBbmdsZSAgLSBhbmdsZSBhdCB3aGljaCBvdGhlciBHcmlkIG9iamVjdCB3aWxsIGJlIHRlc3RlZFxuICAgICAqL1xuICAgIEdyaWQucHJvdG90eXBlLmludGVyc2VjdHMgPSBmdW5jdGlvbiAob3RoZXIsIHN0YXJ0Um93LCBzdGFydENvbHVtbiwgdGhpc0FuZ2xlLCBvdGhlckFuZ2xlKSB7XG4gICAgICAgIGlmIChzdGFydFJvdyA9PT0gdm9pZCAwKSB7IHN0YXJ0Um93ID0gMDsgfVxuICAgICAgICBpZiAoc3RhcnRDb2x1bW4gPT09IHZvaWQgMCkgeyBzdGFydENvbHVtbiA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXNBbmdsZSA9PT0gdm9pZCAwKSB7IHRoaXNBbmdsZSA9IDA7IH1cbiAgICAgICAgaWYgKG90aGVyQW5nbGUgPT09IHZvaWQgMCkgeyBvdGhlckFuZ2xlID0gMDsgfVxuICAgICAgICB2YXIgcm93Q291bnQgPSAodGhpc0FuZ2xlICUgMiA9PT0gMCkgPyB0aGlzLnJvd0NvdW50IDogdGhpcy5jb2xDb3VudDtcbiAgICAgICAgdmFyIGNvbENvdW50ID0gKHRoaXNBbmdsZSAlIDIgPT09IDApID8gdGhpcy5jb2xDb3VudCA6IHRoaXMucm93Q291bnQ7XG4gICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IHJvd0NvdW50OyArK3Jvdykge1xuICAgICAgICAgICAgaWYgKHJvdyArIHN0YXJ0Um93ID49IG90aGVyLnJvd0NvdW50KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHJvdyArIHN0YXJ0Um93IDwgMClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IGNvbENvdW50OyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGlmIChjb2wgKyBzdGFydENvbHVtbiA+PSBvdGhlci5jb2xDb3VudClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKGNvbCArIHN0YXJ0Q29sdW1uIDwgMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KHJvdywgY29sLCB0aGlzQW5nbGUpICE9PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLmdldChyb3cgKyBzdGFydFJvdywgY29sICsgc3RhcnRDb2x1bW4sIG90aGVyQW5nbGUpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyaWQgb2JqZWN0IHRoYXQgd2lsbCBiZSByb3RhdGVkXG4gICAgICogQHBhcmFtIGFuZ2xlXG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuY3JlYXRlUm90YXRlZCA9IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICBpZiAoYW5nbGUgPT09IDApIHsgLy8ganVzdCBjb3B5IGdyaWQgaWYgbm8gdHJhbnNmb3JtYXRpb25cbiAgICAgICAgICAgIHJldHVybiBuZXcgR3JpZCh0aGlzLnJvd0NvdW50LCB0aGlzLmNvbENvdW50LCB0aGlzLmdyaWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkodGhpcy5yb3dDb3VudCAqIHRoaXMuY29sQ291bnQpO1xuICAgICAgICB2YXIgcm93Q291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMucm93Q291bnQgOiB0aGlzLmNvbENvdW50O1xuICAgICAgICB2YXIgY29sQ291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMuY29sQ291bnQgOiB0aGlzLnJvd0NvdW50O1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IHJvd0NvdW50OyArK3Jvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgY29sQ291bnQ7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgYXJyW2ldID0gdGhpcy5nZXQocm93LCBjb2wsIGFuZ2xlKTtcbiAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBHcmlkKHJvd0NvdW50LCBjb2xDb3VudCwgYXJyKTtcbiAgICB9O1xuICAgIEdyaWQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChyb3csIGNvbCwgYW5nbGUpIHtcbiAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XG4gICAgICAgIGFuZ2xlID0gTWF0aC5mbG9vcihhbmdsZSkgJSA0O1xuICAgICAgICBzd2l0Y2ggKGFuZ2xlKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZFtyb3cgKiB0aGlzLmNvbENvdW50ICsgY29sXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmlkWyh0aGlzLnJvd0NvdW50IC0gMSAtIGNvbCkgKiB0aGlzLmNvbENvdW50ICsgcm93XTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmlkWyh0aGlzLnJvd0NvdW50IC0gMSAtIHJvdykgKiB0aGlzLmNvbENvdW50ICsgKHRoaXMuY29sQ291bnQgLSAxIC0gY29sKV07XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZFtjb2wgKiB0aGlzLmNvbENvdW50ICsgdGhpcy5jb2xDb3VudCAtIDEgLSByb3ddO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBHcmlkLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAocm93LCBjb2wsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ3JpZFt0aGlzLmdyaWRUb0luZGV4KHJvdywgY29sKV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBHcmlkLnByb3RvdHlwZS5pc0ZyZWVBdCA9IGZ1bmN0aW9uIChyb3csIGNvbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQocm93LCBjb2wpID09PSAwO1xuICAgIH07XG4gICAgR3JpZC5wcm90b3R5cGUuZ3JpZFRvSW5kZXggPSBmdW5jdGlvbiAocm93LCBjb2wpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhbXBJbmRleChyb3cgKiB0aGlzLmNvbENvdW50ICsgY29sKTtcbiAgICB9O1xuICAgIEdyaWQucHJvdG90eXBlLmNsYW1wSW5kZXggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHZhbHVlLCB0aGlzLnJvd0NvdW50ICogdGhpcy5jb2xDb3VudCAtIDEpLCAwKTtcbiAgICB9O1xuICAgIEdyaWQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICB2YXIgc3RyID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgdGhpcy5yb3dDb3VudDsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IHRoaXMuY29sQ291bnQ7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgc3RyICs9IHRoaXMuZ2V0KHJvdywgY29sLCBhbmdsZSk7XG4gICAgICAgICAgICAgICAgaWYgKCEocm93ID09PSB0aGlzLnJvd0NvdW50IC0gMSAmJiBjb2wgPT09IHRoaXMuY29sQ291bnQgLSAxKSlcbiAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiLCBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ciArPSBcIlxcblwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcbiAgICByZXR1cm4gR3JpZDtcbn0oKSk7XG5leHBvcnQgeyBHcmlkIH07XG4iLCJpbXBvcnQgeyBHcmlkIH0gZnJvbSBcIi4vR3JpZFwiO1xuaW1wb3J0IHsgcmFuZEludCB9IGZyb20gXCIuL1V0aWxcIjtcbnZhciBQaWVjZURhdGEgPSB7XG4gICAgTm9uZTogeyBjb2xvcjogXCIjZmZmZmZmMDBcIiwgaWQ6IDAsIHBpZWNlOiBudWxsIH0sXG4gICAgU3RpY2s6IHsgY29sb3I6IFwic2t5Ymx1ZVwiLCBpZDogMSwgcGllY2U6IG5ldyBHcmlkKDQsIDQsIFtcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAxLCAxLCAxLCAxLFxuICAgICAgICAgICAgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsXG4gICAgICAgIF0pIH0sXG4gICAgTDogeyBjb2xvcjogXCJvcmFuZ2VcIiwgaWQ6IDIsIHBpZWNlOiBuZXcgR3JpZCgzLCAzLCBbXG4gICAgICAgICAgICAwLCAwLCAwLFxuICAgICAgICAgICAgMiwgMiwgMixcbiAgICAgICAgICAgIDIsIDAsIDAsXG4gICAgICAgIF0pIH0sXG4gICAgUmV2TDogeyBjb2xvcjogXCJibHVlXCIsIGlkOiAzLCBwaWVjZTogbmV3IEdyaWQoMywgMywgW1xuICAgICAgICAgICAgMCwgMCwgMCxcbiAgICAgICAgICAgIDMsIDMsIDMsXG4gICAgICAgICAgICAwLCAwLCAzLFxuICAgICAgICBdKSB9LFxuICAgIFN0ZXBSOiB7IGNvbG9yOiBcInJlZFwiLCBpZDogNCwgcGllY2U6IG5ldyBHcmlkKDMsIDMsIFtcbiAgICAgICAgICAgIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCA0LCA0LFxuICAgICAgICAgICAgNCwgNCwgMCxcbiAgICAgICAgXSkgfSxcbiAgICBTdGVwTDogeyBjb2xvcjogXCJncmVlblwiLCBpZDogNSwgcGllY2U6IG5ldyBHcmlkKDMsIDMsIFtcbiAgICAgICAgICAgIDAsIDAsIDAsXG4gICAgICAgICAgICA1LCA1LCAwLFxuICAgICAgICAgICAgMCwgNSwgNSxcbiAgICAgICAgXSkgfSxcbiAgICBUOiB7IGNvbG9yOiBcInB1cnBsZVwiLCBpZDogNiwgcGllY2U6IG5ldyBHcmlkKDMsIDMsIFtcbiAgICAgICAgICAgIDAsIDYsIDAsXG4gICAgICAgICAgICA2LCA2LCA2LFxuICAgICAgICAgICAgMCwgMCwgMCxcbiAgICAgICAgXSkgfSxcbiAgICBCb3g6IHsgY29sb3I6IFwiZ3JheVwiLCBpZDogNywgcGllY2U6IG5ldyBHcmlkKDIsIDIsIFtcbiAgICAgICAgICAgIDcsIDcsXG4gICAgICAgICAgICA3LCA3LFxuICAgICAgICBdKSB9XG59O1xudmFyIFBpZWNlc0NvdW50ID0gNztcbmZ1bmN0aW9uIGdldFJhbmRQaWVjZSgpIHtcbiAgICByZXR1cm4gUGllY2VEYXRhW3JhbmRJbnQoUGllY2VzQ291bnQpICsgMV0ucGllY2U7IC8vICsgMSB0byBvbWl0IG51bGwgcGllY2Vcbn1cbnZhciBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4vLyBNYWtlIFBpZWNlcyBhY2Nlc3NpYmxlIHZpYSBpZCBhcyB3ZWxsIGFzIG5hbWUuXG5PYmplY3Qua2V5cyhQaWVjZURhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBwRGF0YSA9IFBpZWNlRGF0YVtrZXldO1xuICAgIFBpZWNlRGF0YVtwRGF0YS5pZF0gPSBwRGF0YTtcbiAgICBwRGF0YS5jb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1ibG9jay1jb2xvci1cIiArIHBEYXRhLmlkKTtcbn0pO1xuLy8gUHJldmVudCBmdXJ0aGVyIG11dGF0aW9uIHRvIHRoZSBQaWVjZURhdGEgb2JqZWN0LlxuT2JqZWN0LmZyZWV6ZShQaWVjZURhdGEpO1xuT2JqZWN0LnNlYWwoUGllY2VEYXRhKTtcbmV4cG9ydCB7IFBpZWNlRGF0YSwgZ2V0UmFuZFBpZWNlLCBQaWVjZXNDb3VudCB9O1xuIiwiaW1wb3J0IHsgUGllY2VEYXRhIH0gZnJvbSBcIi4vUGllY2VEYXRhXCI7XG5pbXBvcnQgeyBEZWxlZ2F0ZSB9IGZyb20gXCIuL1dlYkFBXCI7XG5pbXBvcnQgeyBtb2QgfSBmcm9tIFwiLi9VdGlsXCI7XG52YXIgQWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWN0b3IoZ3JpZCwgZ2V0TmV4dFBpZWNlKSB7XG4gICAgICAgIHRoaXMuc3RhcnRTcGVlZCA9IDEwMDA7XG4gICAgICAgIHRoaXMubWF4U3BlZWQgPSA1MDtcbiAgICAgICAgdGhpcy5ncmlkID0gZ3JpZDtcbiAgICAgICAgdGhpcy5zcGVlZCA9IHRoaXMuc3RhcnRTcGVlZDtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdldE5leHRQaWVjZSA9IGdldE5leHRQaWVjZTtcbiAgICAgICAgdGhpcy5kaXNwbGF5U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9IDA7XG4gICAgICAgIHRoaXMubWF4UHJlc3N1cmUgPSAyMDA7XG4gICAgICAgIHRoaXMudW5kZXJQcmVzc3VyZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uUGllY2VDb25uZWN0ID0gbmV3IERlbGVnYXRlO1xuICAgICAgICB0aGlzLm9uTGluZUNsZWFyID0gbmV3IERlbGVnYXRlO1xuICAgICAgICB0aGlzLm9uTG9zZSA9IG5ldyBEZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5vblJlc2V0ID0gbmV3IERlbGVnYXRlO1xuICAgICAgICB0aGlzLm9uTW92ZSA9IG5ldyBEZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICBBY3Rvci5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tb3ZlUmVsQ29sID0gTWF0aC5mbG9vcih0aGlzLm1vdmVSZWxDb2wpOyAvLyBqdXN0IGluIGNhc2UuLi5cbiAgICAgICAgdGhpcy5tb3ZlUmVsUm93ID0gTWF0aC5mbG9vcih0aGlzLm1vdmVSZWxSb3cpO1xuICAgICAgICB2YXIgYW5nbGUgPSB0aGlzLm5leHRBbmdsZSA9PT0gLTEgPyB0aGlzLmFuZ2xlIDogdGhpcy5uZXh0QW5nbGU7XG4gICAgICAgIC8vIGNoZWNrIGhvcml6b250YWwgbW90aW9uIGZpcnN0XG4gICAgICAgIGlmICh0aGlzLm1vdmVSZWxDb2wgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBkaXIgPSBNYXRoLnNpZ24odGhpcy5tb3ZlUmVsQ29sKTtcbiAgICAgICAgICAgIHZhciByZWxDb2wgPSB0aGlzLm1vdmVSZWxDb2w7XG4gICAgICAgICAgICB3aGlsZSAocmVsQ29sICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZWxDb2wgPCAwICYmIHRoaXMub3V0Ym91bmRzTGVmdCh0aGlzLmNvbCArIHJlbENvbCwgYW5nbGUpKSB8fFxuICAgICAgICAgICAgICAgICAgICAocmVsQ29sID4gMCAmJiB0aGlzLm91dGJvdW5kc1JpZ2h0KHRoaXMuY29sICsgcmVsQ29sLCBhbmdsZSkpIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGllY2UuaW50ZXJzZWN0cyh0aGlzLmdyaWQsIHRoaXMucm93LCB0aGlzLmNvbCArIHJlbENvbCwgYW5nbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbENvbCAtPSBkaXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1vdmVSZWxDb2wgPSByZWxDb2w7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW92ZVJlbFJvdyAhPT0gMCkge1xuICAgICAgICAgICAgdmFyIGRpciA9IE1hdGguc2lnbih0aGlzLm1vdmVSZWxSb3cpO1xuICAgICAgICAgICAgdmFyIHJlbFJvdyA9IHRoaXMubW92ZVJlbFJvdztcbiAgICAgICAgICAgIHdoaWxlIChyZWxSb3cgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBib3VuZGFyaWVzIGFuZFxuICAgICAgICAgICAgICAgIGlmICgocmVsUm93ID4gMCAmJiB0aGlzLm91dGJvdW5kc0Rvd24odGhpcy5yb3cgKyByZWxSb3csIGFuZ2xlKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waWVjZS5pbnRlcnNlY3RzKHRoaXMuZ3JpZCwgdGhpcy5yb3cgKyByZWxSb3csIHRoaXMuY29sICsgdGhpcy5tb3ZlUmVsQ29sLCBhbmdsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgc29tZXRoaW5nIGlzIGJsb2NraW5nIHRoZSB3YXkgZG93bndhcmRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbFJvdyA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZGVyUHJlc3N1cmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZWxSb3cgLT0gZGlyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tb3ZlUmVsUm93ID0gcmVsUm93O1xuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGx5IHJvdGF0aW9uIGF0IG5ldyBwb3NpdGlvblxuICAgICAgICB0aGlzLm1vdmVSZWxDb2wgKz0gdGhpcy5hcHBseUFuZ2xlKHRoaXMucm93ICsgdGhpcy5tb3ZlUmVsUm93LCB0aGlzLmNvbCArIHRoaXMubW92ZVJlbENvbCk7XG4gICAgICAgIC8vIGNvbnN0cmljdCB3aXRoaW4gZ2FtZSBib2FyZFxuICAgICAgICB0aGlzLm1vdmVSZWxSb3cgKz0gdGhpcy5jb25zdHJpY3RCb3VuZHNSb3dzKHRoaXMucm93ICsgdGhpcy5tb3ZlUmVsUm93LCB0aGlzLmFuZ2xlKTtcbiAgICAgICAgdGhpcy5tb3ZlUmVsQ29sICs9IHRoaXMuY29uc3RyaWN0Qm91bmRzQ29scyh0aGlzLmNvbCArIHRoaXMubW92ZVJlbENvbCwgdGhpcy5hbmdsZSwgdGhpcy5tb3ZlUmVsQ29sIDwgMCwgdGhpcy5tb3ZlUmVsQ29sID4gMCk7XG4gICAgICAgIC8vIGNvbW1pdCBtb3ZlbWVudFxuICAgICAgICB0aGlzLnJvdyArPSB0aGlzLm1vdmVSZWxSb3c7XG4gICAgICAgIHRoaXMuY29sICs9IHRoaXMubW92ZVJlbENvbDtcbiAgICAgICAgaWYgKCF0aGlzLnBpZWNlLmludGVyc2VjdHModGhpcy5ncmlkLCB0aGlzLnJvdyArIDEsIHRoaXMuY29sLCB0aGlzLmFuZ2xlKSAmJlxuICAgICAgICAgICAgIXRoaXMub3V0Ym91bmRzRG93bih0aGlzLnJvdyArIDEsIHRoaXMuYW5nbGUpKSB7XG4gICAgICAgICAgICB0aGlzLnVuZGVyUHJlc3N1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHJlc3N1cmUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpcmUgbW92ZSBjYWxsYmFjayBoZXJlXG4gICAgICAgIHRoaXMub25Nb3ZlLmludm9rZSh0aGlzLm1vdmVSZWxSb3csIHRoaXMubW92ZVJlbENvbCk7XG4gICAgICAgIC8vIHJlc2V0IG1vdmVtZW50IHZhcnNcbiAgICAgICAgdGhpcy5tb3ZlUmVsUm93ID0gMDtcbiAgICAgICAgdGhpcy5tb3ZlUmVsQ29sID0gMDtcbiAgICAgICAgdGhpcy5uZXh0QW5nbGUgPSAtMTtcbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQYXVzZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIGNvdW50ZG93biBjb3VudGVyXG4gICAgICAgIHRoaXMuY291bnRlciAtPSBkdDtcbiAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybWF0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLnVuZGVyUHJlc3N1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3N1cmUgKz0gZHQ7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmVzc3VyZSA+PSB0aGlzLm1heFByZXNzdXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0VG9Cb2FyZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvdW50ZXIgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudGVyICs9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICB0aGlzLm1vdmVEb3duT25lKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS5yZXNldENvdW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY291bnRlciA9IHRoaXMuc3BlZWQ7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUuY29ubmVjdFRvQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZ3JpZC5tZXJnZUludG8odGhpcy5yb3csIHRoaXMuY29sLCB0aGlzLnBpZWNlLCB0aGlzLmFuZ2xlKTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGZ1bGwgcm93cyBjbGVhcmVkXG4gICAgICAgIHZhciByb3dzQ2xlYXJlZCA9IHRoaXMuZ3JpZC5wcm9jZXNzRnVsbFJvd3MoKTtcbiAgICAgICAgaWYgKHJvd3NDbGVhcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB0aWxlc18xID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmlkXCIpLmNoaWxkcmVuO1xuICAgICAgICAgICAgcm93c0NsZWFyZWQuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgX3RoaXMuZ3JpZC5nZXRXaWR0aCgpOyArK2NvbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IHRpbGVzXzFbcm93ICogX3RoaXMuZ3JpZC5nZXRXaWR0aCgpICsgY29sXTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5jbGFzc0xpc3QucmVtb3ZlKFwicm93LWNsZWFyXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aWxlLmNsYXNzTGlzdC5hZGQoXCJyb3ctY2xlYXJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9uTGluZUNsZWFyLmludm9rZShyb3dzQ2xlYXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGxvc3NcbiAgICAgICAgaWYgKHRoaXMucm93IDwgLXRoaXMucGllY2UudG9wTW9zdCh0aGlzLmFuZ2xlKSkge1xuICAgICAgICAgICAgdGhpcy5ncmlkLmxvc2VBbmltKCk7XG4gICAgICAgICAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub25Mb3NlLmludm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25QaWVjZUNvbm5lY3QuaW52b2tlKHRoaXMpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb3ZlcyBwaWVjZSBkb3duIG9uZSByb3cgaW4gdGhlIGdyaWQuIFJldHVybnMgZmFsc2UgaWYgbW92ZSBwcmV2ZW50ZWQsIGFuZCB0cnVlIGlmIG1vdmVkLlxuICAgICAqL1xuICAgIEFjdG9yLnByb3RvdHlwZS5tb3ZlRG93bk9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubW92ZVJlbFJvdyA9PT0gMClcbiAgICAgICAgICAgIHRoaXMubW92ZSgxLCAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1vdmUgcGllY2UsIGNvbnN0cmljdGluZyBpdHMgcGxhY2VtZW50IGJ5IHRoZSBncmlkIGJvdW5kYXJpZXNcbiAgICAgKiBAcGFyYW0gcmVsUm93XG4gICAgICogQHBhcmFtIHJlbENvbFxuICAgICAqL1xuICAgIEFjdG9yLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24gKHJlbFJvdywgcmVsQ29sKSB7XG4gICAgICAgIHRoaXMubW92ZVJlbFJvdyArPSByZWxSb3c7XG4gICAgICAgIHRoaXMubW92ZVJlbENvbCArPSByZWxDb2w7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcm9wIHRoZSBhY3RvciBpbW1lZGlhdGVseSB0byB0aGUgbG93ZXN0IHJvdyBpdCBjYW4gcmVhY2gsIGFuZCBjb25uZWN0IGl0IHRvIHRoZSBib2FyZFxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2Ygcm93cyBkcm9wcGVkXG4gICAgICovXG4gICAgQWN0b3IucHJvdG90eXBlLmltbWVkaWF0ZURyb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByb3cgPSAxO1xuICAgICAgICB2YXIgYm90dG9tTW9zdCA9IHRoaXMucGllY2UuYm90dG9tTW9zdCh0aGlzLmFuZ2xlKTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLnBpZWNlLmludGVyc2VjdHModGhpcy5ncmlkLCByb3cgKyB0aGlzLnJvdywgdGhpcy5jb2wsIHRoaXMuYW5nbGUpICYmIHJvdyArIHRoaXMucm93IDwgdGhpcy5ncmlkLmdldEhlaWdodCgpIC0gYm90dG9tTW9zdClcbiAgICAgICAgICAgICsrcm93O1xuICAgICAgICB0aGlzLm1vdmVSZWxSb3cgPSAwO1xuICAgICAgICB0aGlzLm1vdmVSZWxDb2wgPSAwO1xuICAgICAgICB0aGlzLm5leHRBbmdsZSA9IC0xO1xuICAgICAgICB0aGlzLm1vdmUocm93IC0gMSwgMCk7XG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1hdGlvbigpO1xuICAgICAgICB0aGlzLmNvbm5lY3RUb0JvYXJkKCk7XG4gICAgICAgIHRoaXMuY291bnRlciA9IHRoaXMuc3BlZWQ7XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aWxlIGVsZW1lbnRzIHRoYXQgdGhpcyBwaWVjZSBpcyBzaXR0aW5nIG9uIHRoZSBib2FyZCBhdCBpdHMgY3VycmVudCB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBBY3Rvci5wcm90b3R5cGUuZ2V0VGlsZUVscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRpbGVzID0gW107XG4gICAgICAgIHZhciB0aWxlRWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmlkXCIpLmNoaWxkcmVuO1xuICAgICAgICB2YXIgZ3JpZFdpZHRoID0gdGhpcy5ncmlkLmdldFdpZHRoKCk7XG4gICAgICAgIHZhciBncmlkSGVpZ2h0ID0gdGhpcy5ncmlkLmdldEhlaWdodCgpO1xuICAgICAgICB2YXIgcGllY2VXaWR0aCA9IHRoaXMucGllY2UuZ2V0V2lkdGgodGhpcy5hbmdsZSk7XG4gICAgICAgIHZhciBwaWVjZUhlaWdodCA9IHRoaXMucGllY2UuZ2V0SGVpZ2h0KHRoaXMuYW5nbGUpO1xuICAgICAgICBmb3IgKHZhciBwaWVjZVJvdyA9IDA7IHBpZWNlUm93IDwgcGllY2VIZWlnaHQ7ICsrcGllY2VSb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHBpZWNlQ29sID0gMDsgcGllY2VDb2wgPCBwaWVjZVdpZHRoOyArK3BpZWNlQ29sKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdyaWRSb3cgPSBwaWVjZVJvdyArIHRoaXMucm93O1xuICAgICAgICAgICAgICAgIHZhciBncmlkQ29sID0gcGllY2VDb2wgKyB0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZENvbCA+PSBncmlkV2lkdGggfHwgZ3JpZENvbCA8IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChncmlkUm93ID49IGdyaWRIZWlnaHQgfHwgZ3JpZFJvdyA8IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpZWNlLmdldChwaWVjZVJvdywgcGllY2VDb2wsIHRoaXMuYW5nbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVzLnB1c2godGlsZUVsc1tncmlkUm93ICogZ3JpZFdpZHRoICsgZ3JpZENvbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlsZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJpY3RzIHRoZSBib3VuZGFyaWVzIG9mIHRoaXMgUGllY2Ugb24gdGhlIFRldHJpc0dyaWQsIHNvIHRoYXQgaXQgd29uJ3QgXCJzdGljayBvdXRcIiBvZiB0aGUgYm90dG9tLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMgdHJ1ZTogaWYgYSBjaGFuZ2Ugd2FzIG1hZGUgdG8gdGhlIHBvc2l0aW9uIGR1ZSB0byBjb25zdHJpY3Rpb24sIG9yIGZhbHNlOiBpZiBubyBjaGFuZ2Ugd2FzIG1hZGUuXG4gICAgICovXG4gICAgQWN0b3IucHJvdG90eXBlLmNvbnN0cmljdEJvdW5kc1Jvd3MgPSBmdW5jdGlvbiAoYXRSb3csIGF0QW5nbGUpIHtcbiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKGF0Um93LCB0aGlzLmdyaWQuZ2V0SGVpZ2h0KCkgLSAxIC0gdGhpcy5waWVjZS5ib3R0b21Nb3N0KGF0QW5nbGUpKTtcbiAgICAgICAgcmV0dXJuIHJvdyAtIGF0Um93O1xuICAgIH07XG4gICAgQWN0b3IucHJvdG90eXBlLmNvbnN0cmljdEJvdW5kc0NvbHMgPSBmdW5jdGlvbiAoYXRDb2wsIGF0QW5nbGUsIGNoZWNrTGVmdCwgY2hlY2tSaWdodCkge1xuICAgICAgICBpZiAoY2hlY2tMZWZ0ID09PSB2b2lkIDApIHsgY2hlY2tMZWZ0ID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoY2hlY2tSaWdodCA9PT0gdm9pZCAwKSB7IGNoZWNrUmlnaHQgPSB0cnVlOyB9XG4gICAgICAgIHZhciBjb2wgPSBhdENvbDtcbiAgICAgICAgaWYgKGNoZWNrTGVmdClcbiAgICAgICAgICAgIGNvbCA9IE1hdGgubWF4KGF0Q29sLCAtdGhpcy5waWVjZS5sZWZ0TW9zdChhdEFuZ2xlKSk7XG4gICAgICAgIGlmIChjaGVja1JpZ2h0KVxuICAgICAgICAgICAgY29sID0gTWF0aC5taW4oYXRDb2wsIHRoaXMuZ3JpZC5nZXRXaWR0aCgpIC0gMSAtIHRoaXMucGllY2UucmlnaHRNb3N0KGF0QW5nbGUpKTtcbiAgICAgICAgcmV0dXJuIGNvbCAtIGF0Q29sO1xuICAgIH07XG4gICAgQWN0b3IucHJvdG90eXBlLm91dGJvdW5kc0xlZnQgPSBmdW5jdGlvbiAoY29sLCBhbmdsZSkge1xuICAgICAgICBpZiAoY29sID09PSB2b2lkIDApIHsgY29sID0gMDsgfVxuICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIGNvbCA8IC10aGlzLnBpZWNlLmxlZnRNb3N0KGFuZ2xlKTtcbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS5vdXRib3VuZHNSaWdodCA9IGZ1bmN0aW9uIChjb2wsIGFuZ2xlKSB7XG4gICAgICAgIGlmIChjb2wgPT09IHZvaWQgMCkgeyBjb2wgPSAwOyB9XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICByZXR1cm4gY29sID4gdGhpcy5ncmlkLmdldFdpZHRoKCkgLSAxIC0gdGhpcy5waWVjZS5yaWdodE1vc3QoYW5nbGUpO1xuICAgIH07XG4gICAgQWN0b3IucHJvdG90eXBlLm91dGJvdW5kc0Rvd24gPSBmdW5jdGlvbiAocm93LCBhbmdsZSkge1xuICAgICAgICBpZiAocm93ID09PSB2b2lkIDApIHsgcm93ID0gMDsgfVxuICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHJvdyA+IHRoaXMuZ3JpZC5nZXRIZWlnaHQoKSAtIDEgLSB0aGlzLnBpZWNlLmJvdHRvbU1vc3QoYW5nbGUpO1xuICAgIH07XG4gICAgQWN0b3IucHJvdG90eXBlLm91dGJvdW5kc1RvcCA9IGZ1bmN0aW9uIChyb3dSZWwsIGFuZ2xlKSB7XG4gICAgICAgIGlmIChyb3dSZWwgPT09IHZvaWQgMCkgeyByb3dSZWwgPSAwOyB9XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5yb3cgKyByb3dSZWwgPCAtdGhpcy5waWVjZS50b3BNb3N0KGFuZ2xlKTtcbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS5yZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLnN0YXJ0U3BlZWQ7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAobmV4dFBpZWNlKSB7XG4gICAgICAgIGlmICghbmV4dFBpZWNlKVxuICAgICAgICAgICAgbmV4dFBpZWNlID0gdGhpcy5nZXROZXh0UGllY2UoKTtcbiAgICAgICAgdmFyIHJvdyA9IC1uZXh0UGllY2UudG9wTW9zdCgpO1xuICAgICAgICB2YXIgY29sID0gTWF0aC5yb3VuZCgodGhpcy5ncmlkLmNvbENvdW50IC0gbmV4dFBpZWNlLmNvbENvdW50KSAvIDIpO1xuICAgICAgICB3aGlsZSAobmV4dFBpZWNlLmludGVyc2VjdHModGhpcy5ncmlkLCByb3csIGNvbCkpXG4gICAgICAgICAgICAtLXJvdztcbiAgICAgICAgdGhpcy5yb3cgPSByb3c7XG4gICAgICAgIHRoaXMuY29sID0gY29sO1xuICAgICAgICB0aGlzLm1vdmVSZWxSb3cgPSAwO1xuICAgICAgICB0aGlzLm1vdmVSZWxDb2wgPSAwO1xuICAgICAgICB0aGlzLm5leHRBbmdsZSA9IC0xO1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gMDtcbiAgICAgICAgdGhpcy51bmRlclByZXNzdXJlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IDA7XG4gICAgICAgIC8vdGhpcy5zcGVlZCA9IHRoaXMuc3RhcnRTcGVlZDtcbiAgICAgICAgdGhpcy5jb3VudGVyID0gdGhpcy5zcGVlZDtcbiAgICAgICAgdGhpcy5waWVjZSA9IG5leHRQaWVjZTtcbiAgICAgICAgdGhpcy5vblJlc2V0Lmludm9rZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXRSb3dcbiAgICAgKiBAcGFyYW0gYXRDb2xcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHRoZSByZWxhdGl2ZSBob3Jpem9udGFsIG1vdGlvbiBjYXVzZWQgYnkgdGhlIGFwcGxpY2F0aW9uIG9mIHRoZSBhbmdsZVxuICAgICAqL1xuICAgIEFjdG9yLnByb3RvdHlwZS5hcHBseUFuZ2xlID0gZnVuY3Rpb24gKGF0Um93LCBhdENvbCkge1xuICAgICAgICBpZiAodGhpcy5uZXh0QW5nbGUgPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIHZhciBhbmdsZSA9IHRoaXMubmV4dEFuZ2xlO1xuICAgICAgICBpZiAoIXRoaXMucGllY2UuaW50ZXJzZWN0cyh0aGlzLmdyaWQsIGF0Um93LCBhdENvbCwgYW5nbGUsIDApICYmXG4gICAgICAgICAgICAhdGhpcy5vdXRib3VuZHNMZWZ0KGF0Q29sLCBhbmdsZSkgJiZcbiAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc1JpZ2h0KGF0Q29sLCBhbmdsZSkgJiZcbiAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc0Rvd24oYXRSb3csIGFuZ2xlKSkge1xuICAgICAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCAzOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5waWVjZS5pbnRlcnNlY3RzKHRoaXMuZ3JpZCwgYXRSb3csIGF0Q29sICsgaSwgYW5nbGUsIDApICYmXG4gICAgICAgICAgICAgICAgIXRoaXMub3V0Ym91bmRzTGVmdChhdENvbCArIGksIGFuZ2xlKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc1JpZ2h0KGF0Q29sICsgaSwgYW5nbGUpICYmXG4gICAgICAgICAgICAgICAgIXRoaXMub3V0Ym91bmRzRG93bihhdFJvdyArIGksIGFuZ2xlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5nbGUgPSBhbmdsZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5waWVjZS5pbnRlcnNlY3RzKHRoaXMuZ3JpZCwgYXRSb3csIGF0Q29sIC0gaSwgYW5nbGUsIDApICYmXG4gICAgICAgICAgICAgICAgIXRoaXMub3V0Ym91bmRzTGVmdChhdENvbCAtIGksIGFuZ2xlKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc1JpZ2h0KGF0Q29sIC0gaSwgYW5nbGUpICYmXG4gICAgICAgICAgICAgICAgIXRoaXMub3V0Ym91bmRzRG93bihhdFJvdyAtIGksIGFuZ2xlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5nbGUgPSBhbmdsZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gLWk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMubmV4dEFuZ2xlID0gbW9kKGFuZ2xlLCA0KTtcbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS53aWxsQ29sbGlkZSA9IGZ1bmN0aW9uIChyZWxSb3csIHJlbENvbCwgYW5nbGUpIHtcbiAgICAgICAgaWYgKHJlbFJvdyA9PT0gdm9pZCAwKSB7IHJlbFJvdyA9IDE7IH1cbiAgICAgICAgaWYgKHJlbENvbCA9PT0gdm9pZCAwKSB7IHJlbENvbCA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGllY2UuaW50ZXJzZWN0cyh0aGlzLmdyaWQsIHRoaXMucm93ICsgcmVsUm93LCB0aGlzLmNvbCArIHJlbENvbCwgYW5nbGUgPT09IHVuZGVmaW5lZCA/IHRoaXMuYW5nbGUgOiBhbmdsZSwgMCk7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUuY2FuUm90YXRlQXQgPSBmdW5jdGlvbiAocmVsUm93LCByZWxDb2wsIGFuZ2xlKSB7XG4gICAgICAgIHRoaXMucGllY2UubGVmdE1vc3QoYW5nbGUpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHRpbGVzKSB7XG4gICAgICAgIC8vIEdldCB0aGUgcm93IHRvIGRpc3BsYXkgdGhlIHNoYWRvdyBhdFxuICAgICAgICB2YXIgc2hhZG93Um93ID0gMDtcbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheVNoYWRvdykge1xuICAgICAgICAgICAgc2hhZG93Um93ID0gMTtcbiAgICAgICAgICAgIHdoaWxlICghdGhpcy5waWVjZS5pbnRlcnNlY3RzKHRoaXMuZ3JpZCwgdGhpcy5yb3cgKyBzaGFkb3dSb3csIHRoaXMuY29sLCB0aGlzLmFuZ2xlKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc0Rvd24odGhpcy5yb3cgKyBzaGFkb3dSb3csIHRoaXMuYW5nbGUpKVxuICAgICAgICAgICAgICAgICsrc2hhZG93Um93O1xuICAgICAgICAgICAgLS1zaGFkb3dSb3c7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgdGhpcy5waWVjZS5yb3dDb3VudDsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IHRoaXMucGllY2UuY29sQ291bnQ7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBpZWNlSWR4ID0gdGhpcy5waWVjZS5nZXQocm93LCBjb2wsIHRoaXMuYW5nbGUpO1xuICAgICAgICAgICAgICAgIGlmIChwaWVjZUlkeCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93Um93ICE9PSAwKSB7IC8vIG9ubHkgbmVlZCB0byBkcmF3IGdob3N0L3NoYWRvdyB3aGVuIG5vdCBvdmVybGFwcGVkIGJ5IHBsYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoYWRvd1RpbGUgPSB0aWxlc1socm93ICsgdGhpcy5yb3cgKyBzaGFkb3dSb3cpICogdGhpcy5ncmlkLmNvbENvdW50ICsgY29sICsgdGhpcy5jb2xdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYWRvd1RpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dUaWxlLnN0eWxlLmJvcmRlciA9IFwiLjV2bWluIFwiICsgUGllY2VEYXRhW3BpZWNlSWR4XS5jb2xvciArIFwiIGRhc2hlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1RpbGUuc3R5bGUub3BhY2l0eSA9IFwiLjZcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dUaWxlLnN0eWxlLmJhY2tncm91bmQgPSBcInJnYmEoMCwgMCwgMCwgLjEpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBY3Rvci5yZW5kZXI6IHNoYWRvd1RpbGUgd2FzIHVuZGVmaW5lZC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdyArIHRoaXMucm93ID49IHRoaXMuZ3JpZC5yb3dDb3VudCB8fCByb3cgKyB0aGlzLnJvdyA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbCArIHRoaXMuY29sID49IHRoaXMuZ3JpZC5jb2xDb3VudCB8fCBjb2wgKyB0aGlzLmNvbCA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbGVJZHggPSAocm93ICsgdGhpcy5yb3cpICogdGhpcy5ncmlkLmNvbENvdW50ICsgY29sICsgdGhpcy5jb2w7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aWxlID0gdGlsZXNbdGlsZUlkeF07XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwidGlsZSBtaXNzaW5nIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGUuc3R5bGUuYmFja2dyb3VuZCA9IFBpZWNlRGF0YVtwaWVjZUlkeF0uY29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlLnN0eWxlLmJveFNoYWRvdyA9IFwiLS41dm1pbiAxdm1pbiAuNXZtaW4gLjV2bWluIHJnYmEoMCwgMCwgMCwgMC4xKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlLnN0eWxlLmJvcmRlciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBY3Rvcjtcbn0oKSk7XG5leHBvcnQgeyBBY3RvciB9O1xuIiwidmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSwgcGFjaykge1xuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59O1xuLyoqXG4gKiBDbGFzcyB0aGF0IHN0b3JlcyBhbmQgaW52b2tlcyBjYWxsYmFjay4gU2ltaWxhciB0byB0aGUgc3ViamVjdCBpbiB0aGUgT2JzZXJ2ZXIgcGF0dGVybi5cbiAqIENhbiBzdG9yZSAndGhpcycgY29udGV4dCwgaWYgbmVlZGVkLCBlLmcuIGNsYXNzIGZ1bmN0aW9uIHBlcmZvcm1lZCBvbiBhbiBpbnN0YW5jZS5cbiAqL1xudmFyIERlbGVnYXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlbGVnYXRlKCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgIH1cbiAgICBEZWxlZ2F0ZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKHsgY29udGV4dDogY29udGV4dCwgY2FsbGJhY2s6IGNhbGxiYWNrIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsaXN0ZW5lci4gTXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgY2FsbGVkIGZyb20gRGVsZWdhdGUuYWRkTGlzdGVuZXIuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEZ1bmN0aW9uIHRvIHNldFxuICAgICAqIEBwYXJhbSBjb250ZXh0ICd0aGlzJyBjb250ZXh0LiAoQXJyb3cgZnVuY3Rpb25zIGF1dG9tYXRpY2FsbHkgY2FwdHVyZSAndGhpcycsIGFuZCBkbyBub3RcbiAgICAgKiBuZWVkIHRoaXMgcGFyYW1ldGVyIHNldC4pXG4gICAgICovXG4gICAgRGVsZWdhdGUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNhbGxiYWNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5pcyh0aGlzLmNhbGxiYWNrc1tpXS5jYWxsYmFjaywgY2FsbGJhY2spICYmXG4gICAgICAgICAgICAgICAgKGNvbnRleHQgPyBPYmplY3QuaXModGhpcy5jYWxsYmFja3NbaV0uY29udGV4dCwgY29udGV4dCkgOiB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZS5wcm90b3R5cGUuaW52b2tlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrc1tpXS5jb250ZXh0KVxuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuY2FsbGJhY2tzW2ldLmNhbGxiYWNrKS5jYWxsLmFwcGx5KF9hLCBfX3NwcmVhZEFycmF5KFt0aGlzLmNhbGxiYWNrc1tpXS5jb250ZXh0XSwgYXJncywgZmFsc2UpKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLmNhbGxiYWNrc1tpXSkuY2FsbGJhY2suYXBwbHkoX2IsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVsZWdhdGUucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIERlbGVnYXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICB9O1xuICAgIHJldHVybiBEZWxlZ2F0ZTtcbn0oKSk7XG5leHBvcnQgeyBEZWxlZ2F0ZSB9O1xuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi9HcmlkXCI7XG5pbXBvcnQgeyBEZWxlZ2F0ZSB9IGZyb20gXCIuL0RlbGVnYXRlXCI7XG5pbXBvcnQgeyBQaWVjZXNDb3VudCB9IGZyb20gXCIuL1BpZWNlRGF0YVwiO1xuaW1wb3J0IHsgQnJvd3NlciwgZGV0ZWN0QnJvd3NlciB9IGZyb20gXCIuL1V0aWxcIjtcbi8qKlxuICogRXh0ZW5zaW9uIG9mIHRoZSBHcmlkIGNsYXNzIHRoYXQgY29udGFpbnMgVGV0cmlzLXNwZWNpZmljIGFuaW1hdGlvbnMsIGVkZ2UgY2FzZSBmdW5jdGlvbnMsIGV0Yy5cbiAqL1xudmFyIFRldHJpc0dyaWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRldHJpc0dyaWQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGV0cmlzR3JpZChyb3dIZWlnaHQsIGNvbFdpZHRoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJvd0hlaWdodCwgY29sV2lkdGgpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uQW5pbUVuZCA9IG5ldyBEZWxlZ2F0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUZXRyaXNHcmlkLnByb3RvdHlwZS5sb3NlQW5pbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRpbGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmlkXCIpLmNoaWxkcmVuO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgaWYgKGRldGVjdEJyb3dzZXIoQnJvd3Nlci5TYWZhcmkpKSB7XG4gICAgICAgICAgICB2YXIgaW50ZXJ2YWxfMSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBfdGhpcy5nZXRXaWR0aCgpOyArK2NvbClcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ3JpZFtpZHggKiBfdGhpcy5nZXRXaWR0aCgpICsgY29sXSA9IFBpZWNlc0NvdW50ICsgMTtcbiAgICAgICAgICAgICAgICArK2lkeDtcbiAgICAgICAgICAgICAgICBpZiAoaWR4ID49IF90aGlzLmdldEhlaWdodCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxfMSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uQW5pbUVuZC5pbnZva2UoXCJsb3NlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbnRlcnZhbF8yID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmdyaWRbaWR4XSA9IFBpZWNlc0NvdW50ICsgMTtcbiAgICAgICAgICAgICAgICB0aWxlc1tpZHhdLmNsYXNzTGlzdC5hZGQoXCJzbWFsbC1ncm93XCIpO1xuICAgICAgICAgICAgICAgICsraWR4O1xuICAgICAgICAgICAgICAgIGlmIChpZHggPj0gX3RoaXMuZ3JpZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbF8yKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25BbmltRW5kLmludm9rZShcImxvc2VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTYuNjcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgYW5pbWF0aW9ucyBmb3IgZnVsbCBob3Jpem9udGFsIHJvd3MsIHJlbW92aW5nIHRoZW0sIHRodXMgbXV0YXRpbmcgdGhlIGdyaWQuXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHJvd3MgdGhhdCB3ZXJlIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIFRldHJpc0dyaWQucHJvdG90eXBlLnByb2Nlc3NGdWxsUm93cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbXBsZXRlUm93cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCB0aGlzLmdldEhlaWdodCgpOyArK3Jvdykge1xuICAgICAgICAgICAgdmFyIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgdGhpcy5nZXRXaWR0aCgpOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChyb3csIGNvbCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlUm93cy5wdXNoKHJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IGxpbmUtY2xlYXIgY2xhc3MgdG8gZWFjaCBmdWxsIHJvd1xuICAgICAgICAvLyB0aW1lb3V0IHRvIHJlbW92ZSByb3dzIGZyb20gZ3JpZFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlUm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JpZFdpZHRoID0gX3RoaXMuZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgICAgICAvLyBwdXNoIGRvd24gcm93c1xuICAgICAgICAgICAgICAgIGlmIChyb3cgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ3JpZC5jb3B5V2l0aGluKGdyaWRXaWR0aCwgMCwgcm93ICogZ3JpZFdpZHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2xlYXIgdG9wIHJvd1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JpZFdpZHRoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ3JpZFtpXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5vbkFuaW1FbmQuaW52b2tlKFwibGluZS1jbGVhclwiKTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlUm93cztcbiAgICB9O1xuICAgIHJldHVybiBUZXRyaXNHcmlkO1xufShHcmlkKSk7XG5leHBvcnQgeyBUZXRyaXNHcmlkIH07XG4iLCIvKiEganMtY29va2llIHYzLjAuNSB8IE1JVCAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG5mdW5jdGlvbiBhc3NpZ24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldFxufVxuLyogZXNsaW50LWVuYWJsZSBuby12YXIgKi9cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG52YXIgZGVmYXVsdENvbnZlcnRlciA9IHtcbiAgcmVhZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlWzBdID09PSAnXCInKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyglW1xcZEEtRl17Mn0pKy9naSwgZGVjb2RlVVJJQ29tcG9uZW50KVxuICB9LFxuICB3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkucmVwbGFjZShcbiAgICAgIC8lKDJbMzQ2QkZdfDNbQUMtRl18NDB8NVtCREVdfDYwfDdbQkNEXSkvZyxcbiAgICAgIGRlY29kZVVSSUNvbXBvbmVudFxuICAgIClcbiAgfVxufTtcbi8qIGVzbGludC1lbmFibGUgbm8tdmFyICovXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXZhciAqL1xuXG5mdW5jdGlvbiBpbml0IChjb252ZXJ0ZXIsIGRlZmF1bHRBdHRyaWJ1dGVzKSB7XG4gIGZ1bmN0aW9uIHNldCAobmFtZSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgYXR0cmlidXRlcyA9IGFzc2lnbih7fSwgZGVmYXVsdEF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMpO1xuXG4gICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG4gICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZTUpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlcy5leHBpcmVzKSB7XG4gICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBuYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpXG4gICAgICAucmVwbGFjZSgvJSgyWzM0NkJdfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpXG4gICAgICAucmVwbGFjZSgvWygpXS9nLCBlc2NhcGUpO1xuXG4gICAgdmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnOyAnICsgYXR0cmlidXRlTmFtZTtcblxuICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gQ29uc2lkZXJzIFJGQyA2MjY1IHNlY3Rpb24gNS4yOlxuICAgICAgLy8gLi4uXG4gICAgICAvLyAzLiAgSWYgdGhlIHJlbWFpbmluZyB1bnBhcnNlZC1hdHRyaWJ1dGVzIGNvbnRhaW5zIGEgJXgzQiAoXCI7XCIpXG4gICAgICAvLyAgICAgY2hhcmFjdGVyOlxuICAgICAgLy8gQ29uc3VtZSB0aGUgY2hhcmFjdGVycyBvZiB0aGUgdW5wYXJzZWQtYXR0cmlidXRlcyB1cCB0byxcbiAgICAgIC8vIG5vdCBpbmNsdWRpbmcsIHRoZSBmaXJzdCAleDNCIChcIjtcIikgY2hhcmFjdGVyLlxuICAgICAgLy8gLi4uXG4gICAgICBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJz0nICsgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXS5zcGxpdCgnOycpWzBdO1xuICAgIH1cblxuICAgIHJldHVybiAoZG9jdW1lbnQuY29va2llID1cbiAgICAgIG5hbWUgKyAnPScgKyBjb252ZXJ0ZXIud3JpdGUodmFsdWUsIG5hbWUpICsgc3RyaW5naWZpZWRBdHRyaWJ1dGVzKVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0IChuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgKGFyZ3VtZW50cy5sZW5ndGggJiYgIW5hbWUpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XG4gICAgLy8gaW4gY2FzZSB0aGVyZSBhcmUgbm8gY29va2llcyBhdCBhbGwuXG4gICAgdmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXTtcbiAgICB2YXIgamFyID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1swXSk7XG4gICAgICAgIGphcltmb3VuZF0gPSBjb252ZXJ0ZXIucmVhZCh2YWx1ZSwgZm91bmQpO1xuXG4gICAgICAgIGlmIChuYW1lID09PSBmb3VuZCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5hbWUgPyBqYXJbbmFtZV0gOiBqYXJcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuY3JlYXRlKFxuICAgIHtcbiAgICAgIHNldCxcbiAgICAgIGdldCxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gKG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgc2V0KFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgJycsXG4gICAgICAgICAgYXNzaWduKHt9LCBhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICBleHBpcmVzOiAtMVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgd2l0aEF0dHJpYnV0ZXM6IGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBpbml0KHRoaXMuY29udmVydGVyLCBhc3NpZ24oe30sIHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcykpXG4gICAgICB9LFxuICAgICAgd2l0aENvbnZlcnRlcjogZnVuY3Rpb24gKGNvbnZlcnRlcikge1xuICAgICAgICByZXR1cm4gaW5pdChhc3NpZ24oe30sIHRoaXMuY29udmVydGVyLCBjb252ZXJ0ZXIpLCB0aGlzLmF0dHJpYnV0ZXMpXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBhdHRyaWJ1dGVzOiB7IHZhbHVlOiBPYmplY3QuZnJlZXplKGRlZmF1bHRBdHRyaWJ1dGVzKSB9LFxuICAgICAgY29udmVydGVyOiB7IHZhbHVlOiBPYmplY3QuZnJlZXplKGNvbnZlcnRlcikgfVxuICAgIH1cbiAgKVxufVxuXG52YXIgYXBpID0gaW5pdChkZWZhdWx0Q29udmVydGVyLCB7IHBhdGg6ICcvJyB9KTtcbi8qIGVzbGludC1lbmFibGUgbm8tdmFyICovXG5cbmV4cG9ydCB7IGFwaSBhcyBkZWZhdWx0IH07XG4iLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL0dhbWVcIjtcbmltcG9ydCB7IEFjdG9yIH0gZnJvbSBcIi4vQWN0b3JcIjtcbmltcG9ydCB7IFRldHJpc0dyaWQgfSBmcm9tIFwiLi9UZXRyaXNHcmlkXCI7XG5pbXBvcnQgeyBnZXRSYW5kUGllY2UsIFBpZWNlRGF0YSwgUGllY2VzQ291bnQgfSBmcm9tIFwiLi9QaWVjZURhdGFcIjtcbmltcG9ydCB7IEhpZ2hTY29yZUJvYXJkIH0gZnJvbSBcIi4vSGlnaFNjb3JlQm9hcmRcIjtcbnZhciB0ZXRyaXNFbDtcbnZhciBncmlkRWw7XG52YXIgaGlnaHNjb3JlRWw7XG52YXIgaGlnaHNjb3JlRm9ybUVsO1xudmFyIGhpZ2hzY29yZVN1Ym1pdEVsO1xudmFyIHBvaW50c0VsO1xudmFyIGxldmVsRWw7XG52YXIgbGluZXNFbDtcbnZhciBuZXh0VXBHcmlkRWw7XG52YXIgaGVsZEdyaWRFbDtcbnZhciBwYXVzZUJ0bkVsO1xudmFyIHRhcmdldEJ0bkVsO1xudmFyIGdhbWVPdmVyT3ZlcmxheUVsO1xudmFyIHRyeUFnYWluQnRuRWw7XG52YXIgRklFTERfV0lEVEggPSAxMDtcbnZhciBGSUVMRF9IRUlHSFQgPSAyMDtcbnZhciBUZXRyaXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRldHJpcywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUZXRyaXMoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgIHRpY2tTcGVlZDogMTYuNjdcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudG90YWxMaW5lcyA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGV0cmlzLnByb3RvdHlwZS5nZXROZXh0UGllY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZW5kVGhpcyA9IHRoaXMubmV4dFBpZWNlO1xuICAgICAgICB0aGlzLm5leHRQaWVjZSA9IGdldFJhbmRQaWVjZSgpO1xuICAgICAgICByZXR1cm4gc2VuZFRoaXM7XG4gICAgfTtcbiAgICBUZXRyaXMucHJvdG90eXBlLmVyYXNlQWxsID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgVGV0cmlzLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBiaW5kIGNhbGxiYWNrXG4gICAgICAgIHRoaXMuZ2V0TmV4dFBpZWNlID0gdGhpcy5nZXROZXh0UGllY2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5uZXh0UGllY2UgPSBnZXRSYW5kUGllY2UoKTtcbiAgICAgICAgLy8gY2FjaGUgZG9tIGVsZW1lbnRzXG4gICAgICAgIHRldHJpc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXRyaXNcIik7XG4gICAgICAgIGdyaWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3JpZFwiKTtcbiAgICAgICAgaGlnaHNjb3JlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhpZ2hzY29yZVwiKTtcbiAgICAgICAgaGlnaHNjb3JlRm9ybUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWdoc2NvcmUtZm9ybVwiKTtcbiAgICAgICAgaGlnaHNjb3JlU3VibWl0RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhpZ2hzY29yZS1zdWJtaXRcIik7XG4gICAgICAgIHBvaW50c0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb2ludHNcIik7XG4gICAgICAgIGxldmVsRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsXCIpO1xuICAgICAgICBsaW5lc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaW5lc1wiKTtcbiAgICAgICAgbmV4dFVwR3JpZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXh0LXVwLWdyaWRcIik7XG4gICAgICAgIGhlbGRHcmlkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvbGRpbmctZ3JpZFwiKTtcbiAgICAgICAgcGF1c2VCdG5FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGF1c2UtYnRuXCIpO1xuICAgICAgICB0YXJnZXRCdG5FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFyZ2V0LWJ0blwiKTtcbiAgICAgICAgZ2FtZU92ZXJPdmVybGF5RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVvdmVyLW92ZXJsYXlcIik7XG4gICAgICAgIHRyeUFnYWluQnRuRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyeS1hZ2Fpbi1idG5cIik7XG4gICAgICAgIC8vIGluaXRpYWxpemUgZG9tIGVsZW1lbnRzXG4gICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IEZJRUxEX0hFSUdIVDsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IEZJRUxEX1dJRFRIOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5pZCA9IFwiclwiICsgcm93ICsgXCJjXCIgKyBjb2w7XG4gICAgICAgICAgICAgICAgbmV3RGl2LnN0eWxlLnpJbmRleCA9IFwiXCIgKyByb3c7XG4gICAgICAgICAgICAgICAgZ3JpZEVsLmFwcGVuZENoaWxkKG5ld0Rpdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3JlYXRlIHNtYWxsIGdyaWRzIGZvciBcImhvbGRcIiwgYW5kIFwibmV4dCB1cFwiXG4gICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IDI1OyArK3Jvdykge1xuICAgICAgICAgICAgbmV4dFVwR3JpZEVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgaGVsZEdyaWRFbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhdHRhY2ggZG9tIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICB0ZXRyaXNFbC5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldnQudGFyZ2V0O1xuICAgICAgICAgICAgaWYgKGV2dC5hbmltYXRpb25OYW1lID09PSBcInNtYWxsLWdyb3dcIiB8fCBldnQuYW5pbWF0aW9uTmFtZSA9PT0gXCJyb3ctY2xlYXJcIilcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShldnQuYW5pbWF0aW9uTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBoZWxkR3JpZEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZ2FtZU92ZXIgfHwgX3RoaXMuaXNQYXVzZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgX3RoaXMuc3dhcFBpZWNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwYXVzZUJ0bkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNQYXVzZWQpIHtcbiAgICAgICAgICAgICAgICBwYXVzZUJ0bkVsLmNoaWxkcmVuWzBdLmNsYXNzTmFtZSA9IFwiZmEtc29saWQgZmEtcGF1c2VcIjtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF1c2VCdG5FbC5jaGlsZHJlblswXS5jbGFzc05hbWUgPSBcImZhLXNvbGlkIGZhLXBsYXlcIjtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0YXJnZXRCdG5FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMucGxheWVyLmRpc3BsYXlTaGFkb3cgPSAhX3RoaXMucGxheWVyLmRpc3BsYXlTaGFkb3c7XG4gICAgICAgIH0pO1xuICAgICAgICBoaWdoc2NvcmVTdWJtaXRFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5nYW1lT3ZlcilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoIWhpZ2hzY29yZUZvcm1FbC5jbGFzc0xpc3QuY29udGFpbnMoXCJzaG93XCIpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaGlnaHNjb3JlLWZvcm0gaW5wdXRcIik7XG4gICAgICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGdldCBoaWdoc2NvcmUgaW5wdXQgZWxlbWVudCFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2YXIgaWR4ID0gX3RoaXMuc2NvcmVzLnNjb3JlUXVhbGlmaWVzKF90aGlzLnNjb3JlKTtcbiAgICAgICAgICAgIF90aGlzLnNjb3Jlcy5pbnNlcnRTY29yZShfdGhpcy5zY29yZSwgaW5wdXQudmFsdWUsIGlkeCk7XG4gICAgICAgICAgICBfdGhpcy5zY29yZXMuc2F2ZSgpO1xuICAgICAgICAgICAgaGlnaHNjb3JlRm9ybUVsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICAgICAgICAgICAgX3RoaXMuc2NvcmVzLnNob3coKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyeUFnYWluQnRuRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuZ2FtZU92ZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCFnYW1lT3Zlck92ZXJsYXlFbC5jbGFzc0xpc3QuY29udGFpbnMoXCJzaG93XCIpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIGdhbWVPdmVyT3ZlcmxheUVsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICAgICAgICAgICAgX3RoaXMuc2NvcmVzLmhpZGUoKTsgLy8gZG9lcyB0aGlzIF5cbiAgICAgICAgICAgIF90aGlzLnJlc2V0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgZ2FtZSBvYmplY3RzXG4gICAgICAgIHZhciBncmlkID0gbmV3IFRldHJpc0dyaWQoRklFTERfSEVJR0hULCBGSUVMRF9XSURUSCk7XG4gICAgICAgIHZhciBwbGF5ZXIgPSBuZXcgQWN0b3IoZ3JpZCwgdGhpcy5nZXROZXh0UGllY2UpO1xuICAgICAgICB2YXIgaGlnaHNjb3JlcyA9IG5ldyBIaWdoU2NvcmVCb2FyZCgpO1xuICAgICAgICAvLyBhdHRhY2ggbGlzdGVuZXJzXG4gICAgICAgIHBsYXllci5vblBpZWNlQ29ubmVjdC5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoYWN0b3IpIHtcbiAgICAgICAgICAgIHZhciB0aWxlcyA9IGFjdG9yLmdldFRpbGVFbHMoKTtcbiAgICAgICAgICAgIHRpbGVzLmZvckVhY2goZnVuY3Rpb24gKHRpbGUpIHtcbiAgICAgICAgICAgICAgICB0aWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJzbWFsbC1ncm93XCIpO1xuICAgICAgICAgICAgICAgIHRpbGUuY2xhc3NMaXN0LmFkZChcInNtYWxsLWdyb3dcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5sYXN0U3dhcHBlZClcbiAgICAgICAgICAgICAgICBfdGhpcy5sYXN0U3dhcHBlZCA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgICBwbGF5ZXIub25SZXNldC5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5kcmF3TmV4dFBpZWNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwbGF5ZXIub25MaW5lQ2xlYXIuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKGxpbmVzKSB7XG4gICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2NvcmUgKz0gODAwICogX3RoaXMubGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lcy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zY29yZSArPSA0MDAgKiBfdGhpcy5sZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIF90aGlzLnNjb3JlICs9IDIwMCAqIF90aGlzLmxldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2NvcmUgKz0gMTAwICogX3RoaXMubGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy50b3RhbExpbmVzICs9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIF90aGlzLmxldmVsID0gTWF0aC5mbG9vcihfdGhpcy50b3RhbExpbmVzIC8gNSkgKyAxO1xuICAgICAgICAgICAgcGxheWVyLnNwZWVkID0gTWF0aC5tYXgocGxheWVyLnN0YXJ0U3BlZWQgLSAoX3RoaXMubGV2ZWwgKiA1MCksIHBsYXllci5tYXhTcGVlZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwbGF5ZXIub25Mb3NlLmFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXllci5vbk1vdmUuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKHJlbFJvdywgcmVsQ29sKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuYXJyb3dEb3duQ2hlY2sgJiYgcmVsUm93ID4gMCkge1xuICAgICAgICAgICAgICAgICsrX3RoaXMuc2NvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5hcnJvd0Rvd25DaGVjayA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgZ3JpZC5vbkFuaW1FbmQuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKGFuaW1OYW1lKSB7XG4gICAgICAgICAgICBpZiAoYW5pbU5hbWUgPT09IFwibGluZS1jbGVhclwiKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYW5pbU5hbWUgPT09IFwibG9zZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBsYWNlID0gX3RoaXMuc2NvcmVzLnNjb3JlUXVhbGlmaWVzKF90aGlzLnNjb3JlKTtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2UgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGlnaFNjb3JlRGVzY0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWdoc2NvcmUtZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIGhpZ2hTY29yZURlc2NFbC5pbm5lclRleHQgPSBcIllvdSBnb3QgI1wiICsgKF90aGlzLnNjb3Jlcy5kYXRhLmxlbmd0aCAtIHBsYWNlKS50b1N0cmluZygpICsgXCIgcGxhY2UhXCI7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmtleWJvYXJkLmFsbG93RGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGhpZ2hzY29yZUZvcm1FbC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNjb3Jlcy5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmtleWJvYXJkLmFsbG93RGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XG4gICAgICAgIHRoaXMuc2NvcmVzID0gaGlnaHNjb3JlcztcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFRldHJpcy5wcm90b3R5cGUuZHJhd1BpZWNlID0gZnVuY3Rpb24gKHBpZWNlLCBncmlkRWwpIHtcbiAgICAgICAgaWYgKCFwaWVjZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGVscyA9IGdyaWRFbC5jaGlsZHJlbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTsgKytpKVxuICAgICAgICAgICAgZWxzW2ldLnN0eWxlLmJhY2tncm91bmQgPSBcIlwiO1xuICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBwaWVjZS5nZXRIZWlnaHQoKTsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IHBpZWNlLmdldFdpZHRoKCk7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgZWxzWyhyb3cgKyAxKSAqIDUgKyBjb2wgKyAxXS5zdHlsZS5iYWNrZ3JvdW5kID0gUGllY2VEYXRhW3BpZWNlLmdldChyb3csIGNvbCldLmNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUZXRyaXMucHJvdG90eXBlLmRyYXdOZXh0UGllY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZHJhd1BpZWNlKHRoaXMubmV4dFBpZWNlLCBuZXh0VXBHcmlkRWwpO1xuICAgIH07XG4gICAgVGV0cmlzLnByb3RvdHlwZS5kcmF3SGVsZFBpZWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRyYXdQaWVjZSh0aGlzLnN0b3JlZFBpZWNlLCBoZWxkR3JpZEVsKTtcbiAgICB9O1xuICAgIFRldHJpcy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFJlc2V0IG93bmVkIG9iamVjdHNcbiAgICAgICAgdGhpcy5wbGF5ZXIucmVzdGFydCgpO1xuICAgICAgICB0aGlzLmdyaWQucmVzZXQoKTtcbiAgICAgICAgdGhpcy5rZXlib2FyZC5hbGxvd0RlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgLy8gUmVzZXQgc3RhdGVcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgICAgIHRoaXMubGV2ZWwgPSAxO1xuICAgICAgICB0aGlzLnRvdGFsTGluZXMgPSAwO1xuICAgICAgICB0aGlzLnN0b3JlZFBpZWNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0U3dhcHBlZCA9IG51bGw7XG4gICAgICAgIC8vIFJlc2V0IHN0YXRlIGZsYWdzXG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFycm93RG93bkNoZWNrID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfTtcbiAgICBUZXRyaXMucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkZWx0YVRpbWUpIHtcbiAgICAgICAgdmFyIGtleXMgPSB0aGlzLmtleWJvYXJkO1xuICAgICAgICB2YXIgcGxheWVyID0gdGhpcy5wbGF5ZXI7XG4gICAgICAgIGlmIChrZXlzLmp1c3REb3duKFwiS2V5UFwiKSkge1xuICAgICAgICAgICAgcGF1c2VCdG5FbC5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlzLmp1c3REb3duKFwiS2V5VFwiKSkge1xuICAgICAgICAgICAgdGFyZ2V0QnRuRWwuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNZW51IHByb2dyZXNzaW9uIGFmdGVyIGEgZ2FtZSBvdmVyXG4gICAgICAgIGlmICh0aGlzLmdhbWVPdmVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5cy5qdXN0RG93bihcIkVudGVyXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhpZ2hzY29yZUZvcm1FbC5jbGFzc0xpc3QuY29udGFpbnMoXCJzaG93XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZ2hzY29yZVN1Ym1pdEVsLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChnYW1lT3Zlck92ZXJsYXlFbC5jbGFzc0xpc3QuY29udGFpbnMoXCJzaG93XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeUFnYWluQnRuRWwuY2xpY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmdhbWVPdmVyICYmICF0aGlzLmlzUGF1c2VkKSB7XG4gICAgICAgICAgICBpZiAoa2V5cy5pc0Rvd24oXCJBcnJvd0Rvd25cIikpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIucmVzZXRDb3VudGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5cy5qdXN0RG93bihcIktleVhcIikpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIucm90YXRlKHBsYXllci5hbmdsZSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleXMuanVzdERvd24oXCJLZXlaXCIpKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLnJvdGF0ZShwbGF5ZXIuYW5nbGUgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXlzLmp1c3REb3duKFwiQXJyb3dVcFwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmUgKz0gcGxheWVyLmltbWVkaWF0ZURyb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXlzLmp1c3REb3duKFwiS2V5Q1wiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3dhcFBpZWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5cy5pc1JlcGVhdGluZyhcIkFycm93TGVmdFwiLCAxMDAsIDY1KSkge1xuICAgICAgICAgICAgICAgIHBsYXllci5tb3ZlKDAsIC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXlzLmlzUmVwZWF0aW5nKFwiQXJyb3dSaWdodFwiLCAxMDAsIDY1KSkge1xuICAgICAgICAgICAgICAgIHBsYXllci5tb3ZlKDAsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleXMuaXNSZXBlYXRpbmcoXCJBcnJvd0Rvd25cIiwgMTAwLCA2NSkpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIubW92ZURvd25PbmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFycm93RG93bkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsYXllci51cGRhdGUoZGVsdGFUaW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGV0cmlzLnByb3RvdHlwZS5zd2FwUGllY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxhc3RTd2FwcGVkICE9PSB0aGlzLnBsYXllci5waWVjZSkge1xuICAgICAgICAgICAgdmFyIHRlbXBQaWVjZSA9IHRoaXMuc3RvcmVkUGllY2U7XG4gICAgICAgICAgICB0aGlzLmxhc3RTd2FwcGVkID0gdGhpcy5zdG9yZWRQaWVjZTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmVkUGllY2UgPSB0aGlzLnBsYXllci5waWVjZTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnJlc2V0KHRlbXBQaWVjZSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdIZWxkUGllY2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGV0cmlzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhpZ2hzY29yZUVsLmlubmVyVGV4dCA9IE1hdGgubWF4KHRoaXMuc2NvcmVzLmhpZ2hlc3RTY29yZSwgdGhpcy5zY29yZSkudG9TdHJpbmcoKTtcbiAgICAgICAgcG9pbnRzRWwuaW5uZXJUZXh0ID0gdGhpcy5zY29yZS50b1N0cmluZygpO1xuICAgICAgICBsZXZlbEVsLmlubmVyVGV4dCA9IHRoaXMubGV2ZWwudG9TdHJpbmcoKTtcbiAgICAgICAgbGluZXNFbC5pbm5lclRleHQgPSB0aGlzLnRvdGFsTGluZXMudG9TdHJpbmcoKTtcbiAgICAgICAgdmFyIHRpbGVzID0gZ3JpZEVsLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBGSUVMRF9IRUlHSFQ7ICsrcm93KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBGSUVMRF9XSURUSDsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gcm93ICogRklFTERfV0lEVEggKyBjb2w7XG4gICAgICAgICAgICAgICAgdmFyIGdyaWRWYWwgPSB0aGlzLmdyaWQuZ2V0KHJvdywgY29sKTtcbiAgICAgICAgICAgICAgICB0aWxlc1tpZHhdLnN0eWxlLmJhY2tncm91bmQgPSBncmlkVmFsID09PSBQaWVjZXNDb3VudCArIDEgPyBcInJnYmEoMCwgMCwgMCwgMC43NSlcIiA6IFBpZWNlRGF0YVtncmlkVmFsXS5jb2xvcjtcbiAgICAgICAgICAgICAgICB0aWxlc1tpZHhdLnN0eWxlLmJveFNoYWRvdyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgdGlsZXNbaWR4XS5zdHlsZS56SW5kZXggPSBcIjFcIjtcbiAgICAgICAgICAgICAgICB0aWxlc1tpZHhdLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgICAgICAgICB0aWxlc1tpZHhdLnN0eWxlLmJvcmRlciA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5ZXIucmVuZGVyKHRpbGVzKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXRyaXM7XG59KEdhbWUpKTtcbmV4cG9ydCB7IFRldHJpcyB9O1xuLy8gSGVscGVyIHRvIGdldCByb3cvY29sIGZyb20gdGlsZUVsIGlkXG5mdW5jdGlvbiBnZXRQb3NGcm9tSWQoaWQpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IGlkLm1hdGNoKC8oPzw9W3JjXSlcXGQrL2cpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJvdzogKG1hdGNoZXMpID8gcGFyc2VJbnQobWF0Y2hlc1swXSkgOiAtMSxcbiAgICAgICAgY29sOiAobWF0Y2hlcykgPyBwYXJzZUludChtYXRjaGVzWzFdKSA6IC0xLFxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBnZXRIaWdoU2NvcmVzLCBzYXZlSGlnaFNjb3JlcyB9IGZyb20gXCIuL1N0b3JhZ2VcIjtcbnZhciBNQVhfU0NPUkVTID0gMTA7XG52YXIgSGlnaFNjb3JlQm9hcmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGlnaFNjb3JlQm9hcmQoKSB7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdXRvbWF0aWNhbGx5IGNhbGxlZCBpbiBjb25zdHJ1Y3Rvci5cbiAgICAgKiBSZWxvYWQgc2NvcmVzIGZyb20gbG9jYWwgc3RvcmFnZSwgb3ZlcndyaXRlcyBpbnRlcm5hbCBkYXRhLlxuICAgICAqIE1ha2Ugc3VyZSB0byBzYXZlIGJlZm9yZSByZWxvYWRpbmchXG4gICAgICovXG4gICAgSGlnaFNjb3JlQm9hcmQucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGdldEhpZ2hTY29yZXMoKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5sZW5ndGggPCBNQVhfU0NPUkVTKVxuICAgICAgICAgICAgdGhpcy5kYXRhLnB1c2goeyBzY29yZTogMCwgbmFtZTogXCJcIiB9KTtcbiAgICAgICAgdGhpcy5zb3J0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTYXZlcyBpbnRlcm5hbCBkYXRhIHRvIGxvY2FsIHN0b3JhZ2UuXG4gICAgICovXG4gICAgSGlnaFNjb3JlQm9hcmQucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc29ydCgpO1xuICAgICAgICBzYXZlSGlnaFNjb3Jlcyh0aGlzLmRhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXJlIHNjb3JlIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIHRoZSBoaWdoc2NvcmUgYm9hcmRcbiAgICAgKiBAcGFyYW0gc2NvcmVcbiAgICAgKiBAcmV0dXJucyBpbmRleCB0byBpbnNlcnQsIGFuZCAtMSBpZiBzY29yZSBkaWQgbm90IHF1YWxpZnlcbiAgICAgKi9cbiAgICBIaWdoU2NvcmVCb2FyZC5wcm90b3R5cGUuc2NvcmVRdWFsaWZpZXMgPSBmdW5jdGlvbiAoc2NvcmUpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChzY29yZSA8IHRoaXMuZGF0YVtpXS5zY29yZSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgc2NvcmUgaW50byB0aGUgaGlnaHNjb3JlIGJvYXJkLlxuICAgICAqIENoZWNrIHdpdGggc2NvcmVRdWFsaWZpZXMgdG8gc2VlIGlmIGl0IHNob3VsZCBiZSBpbnNlcnRlZCxcbiAgICAgKiBhbmQgYXQgd2hpY2ggaW5kZXguXG4gICAgICovXG4gICAgSGlnaFNjb3JlQm9hcmQucHJvdG90eXBlLmluc2VydFNjb3JlID0gZnVuY3Rpb24gKHNjb3JlLCBuYW1lLCBpbmRleCkge1xuICAgICAgICB0aGlzLmRhdGEuc3BsaWNlKGluZGV4LCAwLCB7IHNjb3JlOiBzY29yZSwgbmFtZTogbmFtZSB9KTtcbiAgICAgICAgdGhpcy5kYXRhLnNoaWZ0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGlnaFNjb3JlQm9hcmQucHJvdG90eXBlLCBcInNjb3Jlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5kYXRhOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhpZ2hTY29yZUJvYXJkLnByb3RvdHlwZSwgXCJoaWdoZXN0U2NvcmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoID09PSAwID8gMCA6IHRoaXMuZGF0YVt0aGlzLmRhdGEubGVuZ3RoIC0gMV0uc2NvcmU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBIaWdoU2NvcmVCb2FyZC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG92ZXJsYXlFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZW92ZXItb3ZlcmxheVwiKTtcbiAgICAgICAgdmFyIGRpc3BsYXlFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGlnaHNjb3JlLXRleHRcIik7XG4gICAgICAgIG92ZXJsYXlFbC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgICAgICAgdmFyIHN0ciA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmRhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHN0ciArPVxuICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgPHA+PHNwYW4+XCIuY29uY2F0KHRoaXMuZGF0YS5sZW5ndGggLSBpLCBcIiAuPC9zcGFuPiBcIikuY29uY2F0KHRoaXMuZGF0YVtpXS5uYW1lLCBcIiA8c3BhbiBjbGFzcz1cXFwiaGlnaHNjb3JlLXNjb3JlXFxcIj5cIikuY29uY2F0KHRoaXMuZGF0YVtpXS5zY29yZSwgXCI8L3NwYW4+PC9wPlxcbiAgICAgICAgICAgIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNwbGF5RWwuaW5uZXJIVE1MID0gc3RyO1xuICAgIH07XG4gICAgSGlnaFNjb3JlQm9hcmQucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkaXNwbGF5RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVvdmVyLW92ZXJsYXlcIik7XG4gICAgICAgIGRpc3BsYXlFbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICB9O1xuICAgIEhpZ2hTY29yZUJvYXJkLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBzb3J0IGZyb20gbG93IHRvIGhpZ2hcbiAgICAgICAgdGhpcy5kYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuc2NvcmUgLSBiLnNjb3JlOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBIaWdoU2NvcmVCb2FyZDtcbn0oKSk7XG5leHBvcnQgeyBIaWdoU2NvcmVCb2FyZCB9O1xuIiwiaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJztcbmV4cG9ydCBmdW5jdGlvbiBzYXZlSGlnaFNjb3JlcyhkYXRhKSB7XG4gICAgQ29va2llcy5zZXQoXCJ0ZXRyaXMtaGlnaHNjb3JlXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpLCB7XG4gICAgICAgIGV4cGlyZXM6IDM2NSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRIaWdoU2NvcmVzKCkge1xuICAgIHZhciBjb29raWVTdHIgPSBDb29raWVzLmdldChcInRldHJpcy1oaWdoc2NvcmVcIik7XG4gICAgaWYgKGNvb2tpZVN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXkoMCk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnBhcnNlKGNvb2tpZVN0cik7XG59XG4iLCJpbXBvcnQgJy4uL3N0eWxlcy9zdHlsZXMuY3NzJzsgLy8gaW5jbHVkZSBzY3NzIGluIGJ1aWxkXG5pbXBvcnQgeyBUZXRyaXMgfSBmcm9tIFwiLi9UZXRyaXNcIjtcbnZhciBnYW1lID0gbmV3IFRldHJpcygpO1xuZ2FtZS5ydW4oKTtcbiJdLCJuYW1lcyI6WyJleHRlbmRTdGF0aWNzIiwiS2V5Ym9hcmQiLCJjb2RlcyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidGhpcyIsImtleXMiLCJrZXlNYXAiLCJNYXAiLCJhZGQiLCJhcHBseSIsImF1dG9Nb2RlIiwiYWxsb3dEZWZhdWx0IiwicHJvY2Vzc0tleXVwIiwiYmluZCIsInByb2Nlc3NLZXlkb3duIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJvdG90eXBlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlIiwiZGVsdGFUaW1lIiwiZm9yRWFjaCIsImtleSIsImxhc3RTdGF0ZSIsInN0YXRlIiwiaXNEb3duIiwiY29kZSIsImdldFN0YXRlIiwicmVzZXRSZXBlYXRpbmciLCJpc1JlcGVhdGluZyIsImluaXREZWxheSIsImludGVydmFsIiwiaXNVcCIsImp1c3REb3duIiwianVzdFVwIiwiZ2V0IiwiX3RoaXMiLCJoYXMiLCJuZXdLZXlTdGF0ZSIsInB1c2giLCJzZXQiLCJyZW1vdmUiLCJrZXlTdGF0ZSIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJkZWxldGUiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInJlcGVhdCIsIkF1ZGlvRWZmZWN0IiwiZWZmZWN0IiwidGFyZ2V0IiwiY29udGV4dCIsIm1FZmZlY3QiLCJtRHJ5IiwiR2Fpbk5vZGUiLCJnYWluIiwidmFsdWUiLCJtV2V0IiwibUlucHV0IiwibU91dHB1dCIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImF1ZGlvTm9kZSIsImRpc2Nvbm5lY3QiLCJzZXRXZXREcnkiLCJwZXJjZW50IiwicmFtcFRpbWUiLCJNYXRoIiwibWluIiwibWF4IiwidGltZSIsImN1cnJlbnRUaW1lIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJzZXRXZXQiLCJzZXREcnkiLCJkaXNwb3NlIiwiRWZmZWN0Q2hhaW4iLCJtQ29udGV4dCIsIm1QcmVHYWluIiwibVBvc3RHYWluIiwibUVmZmVjdHMiLCJuZXdUYXJnZXQiLCJvdXRwdXQiLCJwdXNoRWZmZWN0Iiwibm9kZSIsIm5ld0Z4IiwiYmVmb3JlIiwiaW5wdXQiLCJ0eXBlIiwib3B0cyIsImluc2VydEVmZmVjdCIsImFmdGVyIiwiaW5zZXJ0IiwiZWZmZWN0VHlwZSIsImkiLCJnZXROdGgiLCJnZXRBbGxPZiIsImZpbHRlciIsImZ4IiwibiIsIlNlbmQiLCJtTm9kZSIsImNyZWF0ZUdhaW4iLCJtVGFyZ2V0IiwiU2VuZE1nciIsIm1TZW5kcyIsImNyZWF0ZSIsIm5ld1NlbmQiLCJpZHhPclRhcmdldCIsImZpbmQiLCJzZW5kIiwiaXMiLCJjbGVhblNlbmQiLCJyZW1vdmVBbGwiLCJyZW1vdmVJZlRhcmdldGluZyIsIkJ1cyIsIm1QYW5uZXIiLCJjcmVhdGVTdGVyZW9QYW5uZXIiLCJwcmVHYWluIiwiQnVzTWdyIiwibU1hc3RlckJ1cyIsIm1CdXNzZXMiLCJuZXdCdXMiLCJidXMiLCJjbGVhciIsIkludGVyYWN0aW9uV29ya2Fyb3VuZEV2ZW50VHlwZSIsIlNvdW5kIiwic291bmROb2RlIiwibVNvdW5kIiwiX2EiLCJFbnZlbG9wZSIsIm1UYXJnZXRzIiwibUF0dGFja1RpbWUiLCJtQXR0YWNrTGV2ZWwiLCJtRGVjYXlUaW1lIiwibVN1c3RhaW5MZXZlbCIsIm1Ib2xkVGltZSIsIm1SZWxlYXNlVGltZSIsImFkZFRhcmdldCIsInBhcmFtIiwicmVtb3ZlVGFyZ2V0IiwiX2IiLCJfYyIsIl9kIiwiX2UiLCJfZiIsImF0dGFja1RpbWUiLCJhdHRhY2tMZXZlbCIsImRlY2F5VGltZSIsInN1c3RhaW5MZXZlbCIsImhvbGRUaW1lIiwicmVsZWFzZVRpbWUiLCJhY3RpdmF0ZSIsIndoZW4iLCJzdGFydERlY2F5Iiwic3RhcnRSZWxlYXNlIiwiY2FuY2VsU2NoZWR1bGVkVmFsdWVzIiwic2V0VGFyZ2V0QXRUaW1lIiwiY2FuY2VsIiwiX19leHRlbmRzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIl9fIiwiY29uc3RydWN0b3IiLCJNb25vU3ludGgiLCJfc3VwZXIiLCJPc2NpbGxhdG9yTm9kZSIsImVudmVsb3BlIiwic291cmNlIiwic3RhcnQiLCJmcmVxdWVuY3kiLCJsb2FkIiwidXJsIiwicGxheSIsInVubG9hZCIsIk11c2ljIiwiTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlIiwibWVkaWFFbGVtZW50IiwiQXVkaW8iLCJzcmMiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJuZXh0IiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwidiIsIm9wIiwiZG9uZSIsInBvcCIsImUiLCJzdGVwIiwiX19nZW5lcmF0b3IiLCJ0aGVuIiwiY2F0Y2giLCJQIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInN0b3AiLCJwYXVzZSIsInNldFBhdXNlIiwicGF1c2VkIiwiX19zcHJlYWRBcnJheSIsInRvIiwiZnJvbSIsInBhY2siLCJhciIsImwiLCJzbGljZSIsImNvbmNhdCIsIkRlbGVnYXRlIiwiY2FsbGJhY2tzIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInJlbW92ZUxpc3RlbmVyIiwiaW52b2tlIiwiYXJncyIsImxvYWRBdWRpb0J1ZmZlciIsImJ1ZiIsImZldGNoIiwiYXJyYXlCdWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJCcm93c2VyIiwiU291bmRFZmZlY3QiLCJkZWZhdWx0cyIsImJ1ZmZlciIsImxvb3AiLCJwbGF5YmFja1JhdGUiLCJkZXR1bmUiLCJsb29wU3RhcnQiLCJsb29wRW5kIiwib25lbmRlZCIsIm9uZW5kZWRIYW5kbGVyIiwiYUJ1ZiIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm9mZnNldCIsImR1cmF0aW9uIiwic3JjTm9kZSIsIkF1ZGlvQnVmZmVyU291cmNlTm9kZSIsImVmZmVjdHMiLCJ1bmRlZmluZWQiLCJBdWRpb0VuZ2luZSIsIm1Tb3VuZHMiLCJtTXVzaWMiLCJtU3ludGhzIiwibGlzdGVuZXIiLCJnZXRTb3VuZCIsImdldE11c2ljIiwiZ2V0U3ludGgiLCJuYW1lIiwibG9hZFNvdW5kIiwiYnVzTmFtZSIsInNvdW5kIiwibWFzdGVyIiwibG9hZE11c2ljIiwibXVzaWMiLCJsb2FkU3ludGgiLCJzeW50aCIsIndhc0luaXQiLCJpbml0Iiwid2luZG93IiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwicmVzdW1lIiwibG9nIiwiaW50ZXJhY3Rpb25Xb3JrYXJvdW5kIiwic2Z4IiwiZGVmYXVsdENvbmZpZyIsInRpY2tTcGVlZCIsIkdhbWUiLCJjb25maWciLCJtVGlja1NwZWVkIiwibUtleWJvYXJkIiwibUF1ZGlvIiwicXVpdCIsIm1Jc1J1bm5pbmciLCJydW4iLCJpbml0aWFsaXplIiwibUxhc3RUaWNrcyIsInBlcmZvcm1hbmNlIiwibm93IiwicmVuZGVyIiwibUludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJydW5PbmVGcmFtZSIsImlzUnVubmluZyIsImN1cnJlbnRUaWNrcyIsInByb2Nlc3NJbnB1dCIsImtleWJvYXJkIiwiY2xlYXJJbnRlcnZhbCIsIkdyaWQiLCJyb3dzIiwiY29scyIsImFyciIsImdyaWQiLCJVaW50MzJBcnJheSIsInJvd0NvdW50IiwiY29sQ291bnQiLCJhc3NlcnQiLCJyZXNldCIsImdldFdpZHRoIiwiYW5nbGUiLCJnZXRIZWlnaHQiLCJtZXJnZUludG8iLCJzdGFydFJvdyIsInN0YXJ0Q29sIiwib3RoZXIiLCJvdGhlckFuZ2xlIiwicm93IiwiY29sIiwib3RoZXJWYWwiLCJsZWZ0TW9zdCIsInJpZ2h0TW9zdCIsInRvcE1vc3QiLCJib3R0b21Nb3N0IiwiaW50ZXJzZWN0cyIsInN0YXJ0Q29sdW1uIiwidGhpc0FuZ2xlIiwiY3JlYXRlUm90YXRlZCIsImZsb29yIiwiZ3JpZFRvSW5kZXgiLCJpc0ZyZWVBdCIsImNsYW1wSW5kZXgiLCJ0b1N0cmluZyIsInN0ciIsInVzZXJBZ2VudCIsImNocm9tZSIsImV4cGxvcmVyIiwiZmlyZWZveCIsInNhZmFyaSIsImJyYXZlIiwiZGV0ZWN0QnJvd3NlciIsIm5hdmlnYXRvciIsImJyb3dzZXJUeXBlIiwiQnJhdmUiLCJDaHJvbWUiLCJGaXJlRm94IiwiU2FmYXJpIiwiSUV4cGxvcmVyIiwiUGllY2VEYXRhIiwiTm9uZSIsImNvbG9yIiwiaWQiLCJwaWVjZSIsIlN0aWNrIiwiTCIsIlJldkwiLCJTdGVwUiIsIlN0ZXBMIiwiVCIsIkJveCIsImdldFJhbmRQaWVjZSIsInJhbmRvbSIsInN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJkb2N1bWVudEVsZW1lbnQiLCJwRGF0YSIsImdldFByb3BlcnR5VmFsdWUiLCJmcmVlemUiLCJzZWFsIiwiQWN0b3IiLCJnZXROZXh0UGllY2UiLCJzdGFydFNwZWVkIiwibWF4U3BlZWQiLCJzcGVlZCIsImlzUGF1c2VkIiwiZGlzcGxheVNoYWRvdyIsInByZXNzdXJlIiwibWF4UHJlc3N1cmUiLCJ1bmRlclByZXNzdXJlIiwib25QaWVjZUNvbm5lY3QiLCJvbkxpbmVDbGVhciIsIm9uTG9zZSIsIm9uUmVzZXQiLCJvbk1vdmUiLCJhcHBseVRyYW5zZm9ybWF0aW9uIiwibW92ZVJlbENvbCIsIm1vdmVSZWxSb3ciLCJuZXh0QW5nbGUiLCJkaXIiLCJzaWduIiwicmVsQ29sIiwib3V0Ym91bmRzTGVmdCIsIm91dGJvdW5kc1JpZ2h0IiwicmVsUm93Iiwib3V0Ym91bmRzRG93biIsImFwcGx5QW5nbGUiLCJjb25zdHJpY3RCb3VuZHNSb3dzIiwiY29uc3RyaWN0Qm91bmRzQ29scyIsImR0IiwiY291bnRlciIsImNvbm5lY3RUb0JvYXJkIiwibW92ZURvd25PbmUiLCJyZXNldENvdW50ZXIiLCJyb3dzQ2xlYXJlZCIsInByb2Nlc3NGdWxsUm93cyIsInRpbGVzXzEiLCJnZXRFbGVtZW50QnlJZCIsImNoaWxkcmVuIiwidGlsZSIsImNsYXNzTGlzdCIsImxvc2VBbmltIiwibW92ZSIsImltbWVkaWF0ZURyb3AiLCJnZXRUaWxlRWxzIiwidGlsZXMiLCJ0aWxlRWxzIiwiZ3JpZFdpZHRoIiwiZ3JpZEhlaWdodCIsInBpZWNlV2lkdGgiLCJwaWVjZUhlaWdodCIsInBpZWNlUm93IiwicGllY2VDb2wiLCJncmlkUm93IiwiZ3JpZENvbCIsImF0Um93IiwiYXRBbmdsZSIsImF0Q29sIiwiY2hlY2tMZWZ0IiwiY2hlY2tSaWdodCIsIm91dGJvdW5kc1RvcCIsInJvd1JlbCIsInJlc3RhcnQiLCJuZXh0UGllY2UiLCJyb3VuZCIsInJvdGF0ZSIsIndpbGxDb2xsaWRlIiwiY2FuUm90YXRlQXQiLCJzaGFkb3dSb3ciLCJwaWVjZUlkeCIsInNoYWRvd1RpbGUiLCJzdHlsZSIsImJvcmRlciIsIm9wYWNpdHkiLCJiYWNrZ3JvdW5kIiwid2FybiIsImJveFNoYWRvdyIsIlRldHJpc0dyaWQiLCJyb3dIZWlnaHQiLCJjb2xXaWR0aCIsIm9uQW5pbUVuZCIsImludGVydmFsXzEiLCJQaWVjZXNDb3VudCIsImludGVydmFsXzIiLCJjb21wbGV0ZVJvd3MiLCJpc0NvbXBsZXRlIiwic2V0VGltZW91dCIsImNvcHlXaXRoaW4iLCJ0ZXRyaXNFbCIsImdyaWRFbCIsImhpZ2hzY29yZUVsIiwiaGlnaHNjb3JlRm9ybUVsIiwiaGlnaHNjb3JlU3VibWl0RWwiLCJwb2ludHNFbCIsImxldmVsRWwiLCJsaW5lc0VsIiwibmV4dFVwR3JpZEVsIiwiaGVsZEdyaWRFbCIsInBhdXNlQnRuRWwiLCJ0YXJnZXRCdG5FbCIsImdhbWVPdmVyT3ZlcmxheUVsIiwidHJ5QWdhaW5CdG5FbCIsImFwaSIsImNvbnZlcnRlciIsImRlZmF1bHRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImV4cGlyZXMiLCJEYXRlIiwidG9VVENTdHJpbmciLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZXBsYWNlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwic3RyaW5naWZpZWRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlTmFtZSIsInNwbGl0IiwiY29va2llIiwid3JpdGUiLCJjb29raWVzIiwiamFyIiwicGFydHMiLCJqb2luIiwiZm91bmQiLCJyZWFkIiwid2l0aEF0dHJpYnV0ZXMiLCJ3aXRoQ29udmVydGVyIiwicGF0aCIsIkhpZ2hTY29yZUJvYXJkIiwiY29va2llU3RyIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsInNjb3JlIiwic29ydCIsInNhdmUiLCJzdHJpbmdpZnkiLCJzY29yZVF1YWxpZmllcyIsImluc2VydFNjb3JlIiwiaW5kZXgiLCJzaGlmdCIsInNob3ciLCJvdmVybGF5RWwiLCJkaXNwbGF5RWwiLCJpbm5lckhUTUwiLCJoaWRlIiwiYSIsIlRldHJpcyIsInRvdGFsTGluZXMiLCJzZW5kVGhpcyIsImVyYXNlQWxsIiwibmV3RGl2IiwiY3JlYXRlRWxlbWVudCIsInpJbmRleCIsImFwcGVuZENoaWxkIiwiYW5pbWF0aW9uTmFtZSIsImdhbWVPdmVyIiwic3dhcFBpZWNlIiwiY2xhc3NOYW1lIiwicGxheWVyIiwiY29udGFpbnMiLCJxdWVyeVNlbGVjdG9yIiwic2NvcmVzIiwiaGlnaHNjb3JlcyIsImFjdG9yIiwibGFzdFN3YXBwZWQiLCJkcmF3TmV4dFBpZWNlIiwibGluZXMiLCJsZXZlbCIsImFycm93RG93bkNoZWNrIiwiYW5pbU5hbWUiLCJwbGFjZSIsImlubmVyVGV4dCIsImRyYXdQaWVjZSIsImVscyIsImRyYXdIZWxkUGllY2UiLCJzdG9yZWRQaWVjZSIsImNsaWNrIiwidGVtcFBpZWNlIiwiaGlnaGVzdFNjb3JlIiwiZ3JpZFZhbCJdLCJzb3VyY2VSb290IjoiIn0=