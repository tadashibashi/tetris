(()=>{"use strict";var t,e=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.keys=[],this.keyMap=new Map,t.length&&this.add.apply(this,t),this.autoMode=!0,this.processKeyup=this.processKeyup.bind(this),this.processKeydown=this.processKeydown.bind(this),document.addEventListener("keydown",this.processKeydown),document.addEventListener("keyup",this.processKeyup)}return t.prototype.close=function(){document.removeEventListener("keydown",this.processKeydown),document.removeEventListener("keyup",this.processKeyup)},t.prototype.update=function(t){this.keys.forEach((function(e){e.lastState=e.state,e.state>0&&(e.state+=t)}))},t.prototype.isDown=function(t){return this.getState(t).state>0},t.prototype.resetRepeating=function(t){var e=this.getState(t);e.state>0&&(e.state=.001)},t.prototype.isRepeating=function(t,e,n){var o=this.getState(t);return o.state>e+n?(o.state-=n,!0):o.state&&!o.lastState},t.prototype.isUp=function(t){return!(this.getState(t).state>0)},t.prototype.justDown=function(t){var e=this.getState(t);return e.state>0&&0===e.lastState},t.prototype.justUp=function(t){var e=this.getState(t);return 0===e.state&&e.lastState>0},t.prototype.getState=function(t){var e=this.keyMap.get(t);if(!e){if(!this.autoMode)throw'Did not have key of value "'+t+'" in the Keyboard. Did you forget to add it via addKeys?';this.add(t),e=this.keyMap.get(t)}return e},t.prototype.add=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){if(!t.keyMap.has(e)){var n={code:e,lastState:0,state:0};t.keys.push(n),t.keyMap.set(e,n)}}))},t.prototype.remove=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){var n=t.keyMap.get(e);if(n){var o=t.keys.indexOf(n);-1!==o&&t.keys.splice(o),t.keyMap.delete(e)}}))},t.prototype.processKeydown=function(t){if(t.preventDefault(),!t.repeat){var e=this.keyMap.get(t.code);if(!e){if(!this.autoMode)return;this.add(t.code),e=this.keyMap.get(t.code)}e.state=.001}},t.prototype.processKeyup=function(t){var e=this.keyMap.get(t.code);if(!e){if(!this.autoMode)return;this.add(t.code),e=this.keyMap.get(t.code)}e.state=0},t}(),n=function(){function t(t,e){var n=t.context;this.mEffect=t,this.mDry=new GainNode(n),this.mDry.gain.value=0,this.mWet=new GainNode(n),this.mWet.gain.value=1,this.mInput=new GainNode(n),this.mOutput=new GainNode(n),this.mInput.connect(this.mDry),this.mInput.connect(this.mWet),this.mDry.connect(this.mOutput),this.mWet.connect(this.mEffect),this.mEffect.connect(this.mOutput),this.mOutput.connect(e||n.destination)}return Object.defineProperty(t.prototype,"effect",{get:function(){return this.mEffect},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"input",{get:function(){return this.mInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this.mOutput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dry",{get:function(){return this.mDry.gain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wet",{get:function(){return this.mWet.gain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preGain",{get:function(){return this.mInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postGain",{get:function(){return this.mOutput},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.disconnect(),this.mOutput.connect(t)},t.prototype.disconnect=function(){this.mOutput.disconnect()},t.prototype.setWetDry=function(t,e){if(void 0===e&&(e=0),t=Math.min(Math.max(t,0),1),e>0){var n=this.mEffect.context.currentTime+e;this.mDry.gain.linearRampToValueAtTime(1-t,n),this.mWet.gain.linearRampToValueAtTime(t,n)}else this.mDry.gain.value=1-t,this.mWet.gain.value=t},t.prototype.setWet=function(t,e){void 0===e&&(e=0),t=Math.max(t,0),e>0?this.mWet.gain.linearRampToValueAtTime(t,this.mEffect.context.currentTime+e):this.mWet.gain.value=t},t.prototype.setDry=function(t,e){void 0===e&&(e=0),t=Math.max(t,0),e>0?this.mDry.gain.linearRampToValueAtTime(t,this.mEffect.context.currentTime+e):this.mDry.gain.value=t},t.prototype.dispose=function(){this.mDry.disconnect(),this.mWet.disconnect(),this.mEffect.disconnect(),this.mInput.disconnect(),this.mOutput.disconnect(),this.mDry=null,this.mWet=null,this.mEffect=null,this.mInput=null,this.mOutput=null},t}(),o=function(){function t(t,e){this.mContext=t,this.mPreGain=new GainNode(t),this.mPostGain=new GainNode(t),this.mPreGain.connect(this.mPostGain),this.mPostGain.connect(e||t.destination),this.mEffects=[]}return Object.defineProperty(t.prototype,"input",{get:function(){return this.mPreGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this.mPostGain},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.output.disconnect(),this.output.connect(t)},Object.defineProperty(t.prototype,"context",{get:function(){return this.mPreGain.context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preGain",{get:function(){return this.mPreGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gain",{get:function(){return this.mPostGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.mEffects.length},enumerable:!1,configurable:!0}),t.prototype.pushEffect=function(t){var e=new n(t,this.output),o=0===this.mEffects.length?this.input:this.mEffects[this.mEffects.length-1].output;return o.disconnect(),o.connect(e.input),this.mEffects.push(e),e},t.prototype.push=function(t,e){var n=e?new t(this.context,e):new t(this.context);return this.pushEffect(n)},t.prototype.insertEffect=function(t,e){void 0===e&&(e=0);var o=new n(t),i=0===(e=0===this.mEffects.length?0:Math.min(Math.max(0,e),this.mEffects.length-1))?this.input:this.mEffects[e-1].output,r=e>=this.mEffects.length-1?this.output:this.mEffects[e].input;return i.disconnect(),i.connect(o.input),o.connect(r),this.mEffects.splice(e,0,o),o},t.prototype.insert=function(t,e,n){void 0===e&&(e=0);var o=n?new t(this.context,n):new t(this.context);return this.insertEffect(o,e)},t.prototype.remove=function(t){for(var e=0;e<this.mEffects.length;++e)if(this.mEffects[e].effect instanceof t){var n=this.mEffects[e],o=0===e?this.input:this.mEffects[e-1].output,i=e===this.mEffects.length-1?this.output:this.mEffects[e+1].input;return n.dispose(),o.disconnect(),o.connect(i),this.mEffects.splice(e,1),n}return null},t.prototype.get=function(t){return this.getNth(t,1)},t.prototype.getAllOf=function(t){return this.mEffects.filter((function(e){return e.effect instanceof t}))},t.prototype.getNth=function(t,e){for(var n=0;n<this.mEffects.length;++n)if(this.mEffects[n].effect instanceof t&&--e<=0)return this.mEffects[n];return null},t.prototype.dispose=function(){this.mPreGain.disconnect(),this.mPostGain.disconnect(),this.mEffects.forEach((function(t){return t.dispose()})),this.mPostGain=null,this.mPreGain=null,this.mEffects=null},t}(),i=function(){function t(t,e){this.mNode=t.createGain(),this.mTarget=e||null}return Object.defineProperty(t.prototype,"gain",{get:function(){return this.mNode.gain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"input",{get:function(){return this.mNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.mTarget},set:function(t){this.mTarget=t,this.mNode.disconnect(),this.mNode.connect(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTarget",{get:function(){return null!==this.mTarget},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.target=t},t.prototype.disconnect=function(){this.mNode.disconnect(),this.mTarget=null},t}(),r=function(){function t(t){this.mContext=t,this.mSends=[],this.mInput=new GainNode(t)}return Object.defineProperty(t.prototype,"input",{get:function(){return this.mInput},enumerable:!1,configurable:!0}),t.prototype.create=function(t){var e=new i(this.mContext,t);return this.mInput.connect(e.input),this.mSends.push(e),e},t.prototype.get=function(t){return"number"==typeof t?this.mSends[t]||null:this.mSends.find((function(e){return Object.is(e.target,t)}))||null},t.prototype.remove=function(t){for(var e=0;e<this.mSends.length;++e)if(Object.is(this.mSends[e],t))return this.cleanSend(t),this.mSends.splice(e,1),!0;return!1},t.prototype.removeAll=function(){var t=this;this.mSends.forEach((function(e){return t.cleanSend(e)})),this.mSends=[]},t.prototype.dispose=function(){this.removeAll()},Object.defineProperty(t.prototype,"length",{get:function(){return this.mSends.length},enumerable:!1,configurable:!0}),t.prototype.removeIfTargeting=function(t){for(var e=0;e<this.mSends.length;)Object.is(this.mSends[e].target,t)?(this.cleanSend(this.mSends[e]),this.mSends.splice(e,1)):++e},t.prototype.cleanSend=function(t){t.disconnect(),this.mInput.disconnect(t.input)},t}(),s=function(){function t(t,e){this.mPanner=t.createStereoPanner(),this.mPostGain=t.createGain(),this.mPanner.connect(this.mPostGain),this.mPostGain.connect(e||t.destination),this.mEffects=new o(t,this.mPanner),this.mSends=new r(t),this.mPostGain.connect(this.mSends.input)}return Object.defineProperty(t.prototype,"input",{get:function(){return this.mEffects.input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"effects",{get:function(){return this.mEffects},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preGain",{get:function(){return this.mEffects.preGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postGain",{get:function(){return this.mPostGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panner",{get:function(){return this.mPanner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sends",{get:function(){return this.mSends},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.mPostGain.disconnect(),this.mPostGain.connect(this.mSends.input),this.mPostGain.connect(t)},t.prototype.disconnect=function(){this.mPostGain.disconnect(),this.mPostGain.connect(this.mSends.input)},t.prototype.dispose=function(){this.mPanner.disconnect(),this.mPostGain.disconnect(),this.mEffects.dispose(),this.mSends.dispose(),this.mPanner=null,this.mPostGain=null,this.mEffects=null,this.mSends=null},t}(),c=function(){function t(t,e){this.mContext=t,this.mMasterBus=new s(t,e),this.mBusses=new Map,this.mBusses.set("master",this.mMasterBus)}return Object.defineProperty(t.prototype,"context",{get:function(){return this.mContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"master",{get:function(){return this.mMasterBus},enumerable:!1,configurable:!0}),t.prototype.create=function(t,e){if(this.mBusses.has(t))return null;var n=new s(this.context,e||this.mMasterBus.input);return this.mBusses.set(t,n),n},t.prototype.get=function(t){return this.mBusses.get(t)||null},t.prototype.remove=function(t){return this.mBusses.get(t),this.mBusses.delete(t)},t.prototype.dispose=function(){this.mBusses.forEach((function(t){return t.dispose()})),this.mBusses.clear(),this.mBusses=null,this.mMasterBus=null},t}(),u="pointerdown",a=function(){function t(t,e,n){this.mEffects=new o(t,n),this.mSound=e,this.mSound&&this.mSound.connect(this.mEffects.input)}return Object.defineProperty(t.prototype,"effects",{get:function(){return this.mEffects},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.mEffects.context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this.mSound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gain",{get:function(){return this.mEffects.gain.gain},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t;null===(t=this.mSound)||void 0===t||t.disconnect(),this.mSound=null,this.mEffects.dispose(),this.mEffects=null},t.prototype.connect=function(t){this.mEffects.connect(t)},t}(),h=function(){function t(t,e){this.mContext=t,this.mTargets=[],e?this.set(e):(this.mAttackTime=0,this.mAttackLevel=1,this.mDecayTime=.5,this.mSustainLevel=.25,this.mHoldTime=.25,this.mReleaseTime=.5)}return Object.defineProperty(t.prototype,"attackTime",{get:function(){return this.mAttackTime},set:function(t){this.mAttackTime=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attackLevel",{get:function(){return this.mAttackLevel},set:function(t){this.mAttackLevel=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decayTime",{get:function(){return this.mDecayTime},set:function(t){this.mDecayTime=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sustainLevel",{get:function(){return this.mSustainLevel},set:function(t){this.mSustainLevel=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holdTime",{get:function(){return this.mHoldTime},set:function(t){this.mHoldTime=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"releaseTime",{get:function(){return this.mReleaseTime},set:function(t){this.mReleaseTime=Math.max(0,t)},enumerable:!1,configurable:!0}),t.prototype.addTarget=function(t){this.mTargets.push(t)},t.prototype.removeTarget=function(t){for(var e=0;e<this.mTargets.length;++e)if(Object.is(this.mTargets[e],t)){this.mTargets.splice(e,1);break}},t.prototype.set=function(t){var e,n,o,i,r,s;this.mAttackTime=null!==(e=t.attackTime)&&void 0!==e?e:this.mAttackTime,this.mAttackLevel=null!==(n=t.attackLevel)&&void 0!==n?n:this.mAttackLevel,this.mDecayTime=null!==(o=t.decayTime)&&void 0!==o?o:this.mDecayTime,this.mSustainLevel=null!==(i=t.sustainLevel)&&void 0!==i?i:this.mSustainLevel,this.mHoldTime=null!==(r=t.holdTime)&&void 0!==r?r:this.mHoldTime,this.mReleaseTime=null!==(s=t.releaseTime)&&void 0!==s?s:this.mReleaseTime},t.prototype.activate=function(t){var e=this;void 0===t&&(t=0);var n=this.mContext.currentTime+t+.02,o=n+this.mAttackTime,i=n+this.mAttackTime+this.mDecayTime+this.mHoldTime;this.mTargets.forEach((function(t){t.cancelScheduledValues(n),t.linearRampToValueAtTime(0,n),t.setTargetAtTime(e.mAttackLevel,n,.1*e.mAttackTime),t.setTargetAtTime(e.mSustainLevel,o,.1*e.mDecayTime),t.setTargetAtTime(0,i,.1*e.mReleaseTime)}))},t.prototype.cancel=function(t){var e=this;void 0===t&&(t=0),this.mTargets.forEach((function(n){n.cancelScheduledValues(e.mContext.currentTime+t)}))},t}(),l=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),p=function(t){function e(e,n,o){var i=this,r=o?new OscillatorNode(e,o):new OscillatorNode(e);return(i=t.call(this,e,r,n)||this).envelope=new h(e),i.envelope.addTarget(i.gain),i.gain.value=0,i.source.start(e.currentTime),i}return l(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.source.type},set:function(t){this.source.type=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frequency",{get:function(){return this.source.frequency},enumerable:!1,configurable:!0}),e.prototype.load=function(t){throw"Synth#load should not be called!"},e.prototype.play=function(t){return void 0===t&&(t=0),this.envelope.activate(t),this.source},e.prototype.unload=function(){throw"Synth#unload should not be called!"},e}(a),f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){function e(e,n,o){var i=new MediaElementAudioSourceNode(e,{mediaElement:o?new Audio(o):new Audio});return t.call(this,e,i,n)||this}return f(e,t),e.prototype.load=function(t){return this.source.mediaElement.src=t,this.source.mediaElement.load(),!0},e.prototype.unload=function(){this.source.mediaElement.src=""},e.prototype.play=function(){return t=this,e=void 0,o=function(){var t=this;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(6===c[0]&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(e){return[2,this.source.mediaElement.play().then((function(){return t.source})).catch((function(){return null}))]}))},new((n=void 0)||(n=Promise))((function(i,r){function s(t){try{u(o.next(t))}catch(t){r(t)}}function c(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}u((o=o.apply(t,e||[])).next())}));var t,e,n,o},e.prototype.stop=function(){this.source.mediaElement.pause(),this.source.mediaElement.currentTime=0},e.prototype.setPause=function(t){t?this.source.mediaElement.pause():this.source.mediaElement.play()},Object.defineProperty(e.prototype,"paused",{get:function(){return this.source.mediaElement.paused},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.source.mediaElement.src="",t.prototype.dispose.call(this)},e}(a),m=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},y=function(){function t(){this.callbacks=[]}return t.prototype.addListener=function(t,e){void 0===e&&(e=null),this.callbacks.push({context:e,callback:t})},t.prototype.removeListener=function(t,e){void 0===e&&(e=null);for(var n=0;n<this.callbacks.length;++n)if(Object.is(this.callbacks[n].callback,t)&&(!e||Object.is(this.callbacks[n].context,e)))return this.callbacks.splice(n,1),!0;return!1},t.prototype.invoke=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var i=0;i<this.callbacks.length;++i)this.callbacks[i].context?(t=this.callbacks[i].callback).call.apply(t,m([this.callbacks[i].context],n,!1)):(e=this.callbacks[i]).callback.apply(e,n)},Object.defineProperty(t.prototype,"length",{get:function(){return this.callbacks.length},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.callbacks=[]},t}();function g(t,e){return n=this,o=void 0,r=function(){var n;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(6===c[0]&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(o){switch(o.label){case 0:return[4,fetch(e)];case 1:return[4,o.sent().arrayBuffer()];case 2:return n=o.sent(),[2,t.decodeAudioData(n)]}}))},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{u(r.next(t))}catch(t){e(t)}}function c(t){try{u(r.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,c)}u((r=r.apply(n,o||[])).next())}));var n,o,i,r}var b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),v=function(t){function e(e,n,o){var i=t.call(this,e,null,n)||this;return i.defaults={buffer:null,loop:!1,playbackRate:1,detune:0,loopStart:0,loopEnd:0},i.onended=new y,i.onendedHandler=i.onendedHandler.bind(i),o&&i.load(o),i}return b(e,t),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return null!==this.defaults.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"looping",{get:function(){return this.defaults.loop},set:function(t){this.defaults.loop=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopStart",{get:function(){return this.defaults.loopStart},set:function(t){this.defaults.loopStart=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopEnd",{get:function(){return this.defaults.loopEnd},set:function(t){this.defaults.loopEnd=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this.defaults.playbackRate},set:function(t){this.defaults.playbackRate=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"detune",{get:function(){return this.defaults.detune},set:function(t){this.defaults.detune=t},enumerable:!1,configurable:!0}),e.prototype.load=function(t){return e=this,n=void 0,i=function(){var e=this;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(6===c[0]&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(n){return[2,g(this.context,t).then((function(t){return e.defaults.buffer=t,!0})).catch((function(t){return console.error(t),!1}))]}))},new((o=void 0)||(o=Promise))((function(t,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,c)}u((i=i.apply(e,n||[])).next())}));var e,n,o,i},e.prototype.onendedHandler=function(t){this.onended.invoke(t.target,this)},e.prototype.unload=function(){this.defaults.buffer=null},e.prototype.play=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var o=this.defaults?new AudioBufferSourceNode(this.context,this.defaults):new AudioBufferSourceNode(this.context);return o.connect(this.effects.input),o.onended=this.onendedHandler,void 0===n?o.start(this.context.currentTime+t,e):o.start(this.context.currentTime+t,e,n),o},e}(a),w=function(){function t(){this.mContext=null,this.mBusses=null,this.mSounds=new Map,this.mMusic=new Map,this.mSynths=new Map}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.mContext.listener},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"busses",{get:function(){return this.mBusses},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.mContext},enumerable:!1,configurable:!0}),t.prototype.getSound=function(t){return this.mSounds.get(t)||null},t.prototype.getMusic=function(t){return this.mMusic.get(t)||null},t.prototype.getSynth=function(t){return this.mSynths.get(t)||null},t.prototype.loadSound=function(t,e){var n=this.mSounds.get(t);if(!n){var o=e?this.mBusses.get(e):this.mBusses.master;o||(o=this.mBusses.master),n=new v(this.context,o.input),this.mSounds.set(t,n),n.load(t).then((function(){return n})).catch((function(){return null}))}return n},t.prototype.loadMusic=function(t,e){var n=this.mMusic.get(t);if(!n){var o=e?this.mBusses.get(e):this.mBusses.master;o||(o=this.mBusses.master),n=new d(this.context,o.input),this.mMusic.set(t,n),n.load(t)}return n},t.prototype.loadSynth=function(t,e,n){void 0===e&&(e="master");var o=this.mSynths.get(t);if(!o){var i=this.mBusses.get(e);o=new p(this.context,i.input,n),this.mSynths.set(t,o)}return o},t.prototype.wasInit=function(){return null!==this.mContext},t.prototype.init=function(){var t=null;try{t=new(window.AudioContext||window.webkitAudioContext)}catch(t){return console.error("AudioContext is not supported in this browser."),!1}return function(t){"running"!==t.state&&window.addEventListener(u,(function e(){t.resume().then((function(){console.log("Resumed AudioContext."),window.removeEventListener(u,e)})).catch((function(t){console.log("Failed to resume AudioContext:",t)}))}))}(t),this.mBusses=new c(t),this.mContext=t,!0},t.prototype.dispose=function(){this.mBusses.dispose(),this.mMusic.forEach((function(t){return t.dispose()})),this.mMusic.clear(),this.mMusic=null,this.mSounds.forEach((function(t){return t.dispose()})),this.mSounds.clear(),this.mSounds=null,this.mSynths.forEach((function(t){return t.dispose()})),this.mSynths.clear(),this.mSynths=null,this.mContext=null},t}(),P={tickSpeed:33.34},k=function(){function t(t){var n;void 0===t&&(t=P),this.mTickSpeed=null!==(n=t.tickSpeed)&&void 0!==n?n:P.tickSpeed,this.mKeyboard=new e,this.mAudio=new w}return Object.defineProperty(t.prototype,"keyboard",{get:function(){return this.mKeyboard},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audio",{get:function(){return this.mAudio},enumerable:!1,configurable:!0}),t.prototype.quit=function(){this.mIsRunning=!1},Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.mIsRunning},enumerable:!1,configurable:!0}),t.prototype.run=function(){var t=this;this.mIsRunning=this.initialize(),this.mLastTicks=performance.now(),this.render(),this.mInterval=setInterval((function(){return t.runOneFrame()}),this.mTickSpeed)},t.prototype.runOneFrame=function(){if(this.isRunning){var t=performance.now(),e=t-this.mLastTicks;this.processInput(),this.update(e),this.render(),this.keyboard.update(e),this.mLastTicks=t}else clearInterval(this.mInterval)},t.prototype.processInput=function(){},t}(),E=function(){function t(t,e,n){this.grid=n?new Uint32Array(n):new Uint32Array(t*e),this.rowCount=t,this.colCount=e,n&&console.assert(n.length===t*e)}return t.prototype.reset=function(){for(var t=0;t<this.grid.length;++t)this.grid[t]=0},t.prototype.getWidth=function(t){return void 0===t&&(t=0),t%2==0?this.colCount:this.rowCount},t.prototype.getHeight=function(t){return void 0===t&&(t=0),t%2==0?this.rowCount:this.colCount},t.prototype.mergeInto=function(t,e,n,o){void 0===o&&(o=0);for(var i=n.getHeight(o),r=n.getWidth(o),s=0;s<i;++s)for(var c=0;c<r;++c){var u=n.get(s,c,o);0!==u&&this.set(s+t,c+e,u)}},t.prototype.leftMost=function(t){void 0===t&&(t=0);for(var e=t%2==0?this.rowCount:this.colCount,n=t%2==0?this.colCount:this.rowCount,o=0;o<n;++o)for(var i=0;i<e;++i)if(this.get(i,o,t))return o;return-1},t.prototype.rightMost=function(t){void 0===t&&(t=0);for(var e=t%2==0?this.rowCount:this.colCount,n=(t%2==0?this.colCount:this.rowCount)-1;n>=0;--n)for(var o=0;o<e;++o)if(this.get(o,n,t))return n;return-1},t.prototype.topMost=function(t){void 0===t&&(t=0);for(var e=t%2==0?this.rowCount:this.colCount,n=t%2==0?this.colCount:this.rowCount,o=0;o<e;++o)for(var i=0;i<n;++i)if(this.get(o,i,t))return o;return-1},t.prototype.bottomMost=function(t){void 0===t&&(t=0);for(var e=t%2==0?this.rowCount:this.colCount,n=t%2==0?this.colCount:this.rowCount,o=e-1;o>=0;--o)for(var i=0;i<n;++i)if(this.get(o,i,t))return o;return-1},t.prototype.intersects=function(t,e,n,o,i){void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0);for(var r=o%2==0?this.rowCount:this.colCount,s=o%2==0?this.colCount:this.rowCount,c=0;c<r&&!(c+e>=t.rowCount);++c)if(!(c+e<0))for(var u=0;u<s&&!(u+n>=t.colCount);++u)if(!(u+n<0)&&0!==this.get(c,u,o)&&0!==t.get(c+e,u+n,i))return!0;return!1},t.prototype.createRotated=function(e){if(0===e)return new t(this.rowCount,this.colCount,this.grid);for(var n=new Array(this.rowCount*this.colCount),o=e%2==0?this.rowCount:this.colCount,i=e%2==0?this.colCount:this.rowCount,r=0,s=0;s<o;++s)for(var c=0;c<i;++c)n[r]=this.get(s,c,e),++r;return new t(o,i,n)},t.prototype.get=function(t,e,n){switch(void 0===n&&(n=0),n=Math.floor(n)%4){case 0:return this.grid[t*this.colCount+e];case 1:return this.grid[(this.rowCount-1-e)*this.colCount+t];case 2:return this.grid[(this.rowCount-1-t)*this.colCount+(this.colCount-1-e)];case 3:return this.grid[e*this.colCount+this.colCount-1-t]}},t.prototype.set=function(t,e,n){return this.grid[this.gridToIndex(t,e)]=n,this},t.prototype.isFreeAt=function(t,e){return 0===this.get(t,e)},t.prototype.gridToIndex=function(t,e){return this.clampIndex(t*this.colCount+e)},t.prototype.clampIndex=function(t){return Math.max(Math.min(t,this.rowCount*this.colCount-1),0)},t.prototype.toString=function(t){void 0===t&&(t=0);for(var e="",n=0;n<this.rowCount;++n){for(var o=0;o<this.colCount;++o)e+=this.get(n,o,t),n===this.rowCount-1&&o===this.colCount-1||(e+=", ");e+="\n"}return e},t}(),O={"-1":{color:"black",id:-1,piece:null},None:{color:"#ffffff00",id:0,piece:null},Stick:{color:"skyblue",id:1,piece:new E(4,4,[0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0])},L:{color:"orange",id:2,piece:new E(3,3,[0,0,0,2,2,2,2,0,0])},RevL:{color:"blue",id:3,piece:new E(3,3,[0,0,0,3,3,3,0,0,3])},StepR:{color:"red",id:4,piece:new E(3,3,[0,0,0,0,4,4,4,4,0])},StepL:{color:"green",id:5,piece:new E(3,3,[0,0,0,5,5,0,0,5,5])},T:{color:"purple",id:6,piece:new E(3,3,[0,6,0,6,6,6,0,0,0])},Box:{color:"gray",id:7,piece:new E(2,2,[7,7,7,7])}};function S(){return O[(7,Math.floor(7*Math.random())+1)].piece}var x=getComputedStyle(document.documentElement);Object.keys(O).forEach((function(t){var e=O[t];O[e.id]=e,e.color=x.getPropertyValue("--block-color-"+e.id)})),Object.freeze(O),Object.seal(O);var T,C,j,M,A,L=function(){function t(t,e){this.grid=t,this.speed=1e3,this.isPaused=!1,this.getNextPiece=e,this.onPieceConnect=new y,this.onLineClear=new y,this.onLose=new y,this.onReset=new y,this.reset()}return t.prototype.update=function(t){this.isPaused||(this.counter-=t,this.counter<=0&&(this.counter+=this.speed,this.moveDownOne()))},t.prototype.resetCounter=function(){this.counter=this.speed},t.prototype.connectToBoard=function(){var t=this;this.grid.mergeInto(this.row,this.col,this.piece,this.angle);var e=this.grid.processFullRows();if(e.length>0){var n=document.getElementById("grid").children;e.forEach((function(e){for(var o=0;o<t.grid.getWidth();++o){var i=n[e*t.grid.getWidth()+o];i.classList.remove("row-clear"),i.classList.add("row-clear")}})),this.onLineClear.invoke(e)}this.row<-this.piece.topMost(this.angle)&&(this.grid.loseAnim(),this.isPaused=!0,this.onLose.invoke()),this.onPieceConnect.invoke(this),this.reset()},t.prototype.moveDownOne=function(){return this.piece.intersects(this.grid,this.row+1,this.col,this.angle,0)||this.row+1>this.grid.getHeight()-1-this.piece.bottomMost(this.angle)?(this.connectToBoard(),!1):(this.move(1,0),!0)},t.prototype.move=function(t,e){if(!this.piece.intersects(this.grid,this.row+t,this.col+e,this.angle,0))return this.row+=t,this.col+=e,this.constrictBounds(t>0,e<0,e>0),!1},t.prototype.immediateDrop=function(){for(var t=1,e=this.piece.bottomMost(this.angle);!this.piece.intersects(this.grid,t+this.row,this.col,this.angle)&&t+this.row<this.grid.getHeight()-e;)++t;this.move(t-1,0),this.connectToBoard(),this.counter=this.speed},t.prototype.getTileEls=function(){for(var t=[],e=document.getElementById("grid").children,n=this.grid.getWidth(),o=this.grid.getHeight(),i=this.piece.getWidth(this.angle),r=this.piece.getHeight(this.angle),s=0;s<r;++s)for(var c=0;c<i;++c){var u=s+this.row,a=c+this.col;a>=n||a<0||u>=o||u<0||this.piece.get(s,c,this.angle)&&t.push(e[u*n+a])}return t},t.prototype.constrictBounds=function(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),t&&(this.row=Math.min(this.row,this.grid.getHeight()-1-this.piece.bottomMost(this.angle))),e&&(this.col=Math.max(this.col,-this.piece.leftMost(this.angle))),n&&(this.col=Math.min(this.col,this.grid.getWidth()-1-this.piece.rightMost(this.angle)))},t.prototype.outboundsLeft=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.col+t<-this.piece.leftMost(e)},t.prototype.outboundsRight=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.col+t>this.grid.getWidth()-1-this.piece.rightMost(e)},t.prototype.outboundsDown=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.row+t>this.grid.getHeight()-1-this.piece.bottomMost(e)},t.prototype.outboundsTop=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.row+t<-this.piece.topMost(e)},t.prototype.reset=function(t){t||(t=this.getNextPiece());for(var e=-t.topMost(),n=Math.round((this.grid.colCount-t.colCount)/2);t.intersects(this.grid,e,n);)--e;this.row=e,this.col=n,this.angle=0,this.counter=this.speed,this.piece=t,this.onReset.invoke()},t.prototype.rotate=function(t){t=(t%4+4)%4;var e=this.col,n=this.row;if(this.piece.intersects(this.grid,n,e,t,0)||this.outboundsLeft(0,t)||this.outboundsRight(0,t)||this.outboundsDown(0,t)){for(var o=1;o<3;++o){if(!(this.piece.intersects(this.grid,n,e+o,t,0)||this.outboundsLeft(o,t)||this.outboundsRight(o,t)||this.outboundsDown(o,t)))return this.angle=t,void(this.col+=o);if(!(this.piece.intersects(this.grid,n,e-o,t,0)||this.outboundsLeft(-o,t)||this.outboundsRight(-o,t)||this.outboundsDown(-o,t)))return this.angle=t,void(this.col-=o)}this.constrictBounds()}else this.angle=t},t.prototype.willCollide=function(t,e,n){return void 0===t&&(t=1),void 0===e&&(e=0),this.piece.intersects(this.grid,this.row+t,this.col+e,void 0===n?this.angle:n,0)},t.prototype.canRotateAt=function(t,e,n){return this.piece.leftMost(n),!1},t.prototype.render=function(t){for(var e=1;!this.piece.intersects(this.grid,this.row+e,this.col,this.angle)&&!this.outboundsDown(e,this.angle);)++e;--e;for(var n=0;n<this.piece.rowCount;++n)if(!(n+this.row>=this.grid.rowCount||n+this.row<0))for(var o=0;o<this.piece.colCount;++o)if(!(o+this.col>=this.grid.colCount||o+this.col<0)){var i=this.piece.get(n,o,this.angle);if(i){var r=t[(n+this.row)*this.grid.colCount+o+this.col];if(r.style.background=O[i].color,r.style.boxShadow="-.5vmin 1vmin .5vmin .5vmin rgba(0, 0, 0, 0.1)",r.style.opacity="1",0!==e){var s=t[(n+this.row+e)*this.grid.colCount+o+this.col];s.style.background=O[i].color,s.style.opacity=".4"}}}},t}(),B=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},G=function(){function t(){this.callbacks=[]}return t.prototype.addListener=function(t,e){void 0===e&&(e=null),this.callbacks.push({context:e,callback:t})},t.prototype.removeListener=function(t,e){void 0===e&&(e=null);for(var n=0;n<this.callbacks.length;++n)if(Object.is(this.callbacks[n].callback,t)&&(!e||Object.is(this.callbacks[n].context,e)))return this.callbacks.splice(n,1),!0;return!1},t.prototype.invoke=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var i=0;i<this.callbacks.length;++i)this.callbacks[i].context?(t=this.callbacks[i].callback).call.apply(t,B([this.callbacks[i].context],n,!1)):(e=this.callbacks[i]).callback.apply(e,n)},Object.defineProperty(t.prototype,"length",{get:function(){return this.callbacks.length},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.callbacks=[]},t}(),D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),R=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.onAnimEnd=new G,o}return D(e,t),e.prototype.loseAnim=function(){var t=this,e=document.getElementById("grid").children,n=0,o=setInterval((function(){t.grid[n]=8,e[n].classList.add("small-grow"),++n>=t.grid.length&&(clearInterval(o),t.onAnimEnd.invoke("lose"))}),16.67)},e.prototype.processFullRows=function(){for(var t=this,e=[],n=0;n<this.getHeight();++n){for(var o=!0,i=0;i<this.getWidth();++i)if(0===this.get(n,i)){o=!1;break}o&&e.push(n)}return setTimeout((function(){e.forEach((function(e){var n=t.getWidth();0!==e&&t.grid.copyWithin(n,0,e*n);for(var o=0;o<n;++o)t.grid[o]=0})),t.onAnimEnd.invoke("line-clear")}),250),e},e}(E),I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();(new(function(t){function e(){var e=t.call(this,{tickSpeed:33.34})||this;return e.storedPiece=null,e.lastSwapped=null,e}return I(e,t),e.prototype.getNextPiece=function(){var t=this.nextPiece;return this.nextPiece=S(),t},e.prototype.initialize=function(){var t=this;T=document.getElementById("tetris"),C=document.getElementById("grid"),j=document.getElementById("points"),document.getElementById("level"),M=document.getElementById("next-up-grid"),A=document.getElementById("holding-grid"),this.getNextPiece=this.getNextPiece.bind(this),this.nextPiece=S();for(var e=0;e<20;++e)for(var n=0;n<10;++n){var o=document.createElement("div");o.id="r"+e+"c"+n,o.style.zIndex=""+e,C.appendChild(o)}for(e=0;e<25;++e)M.appendChild(document.createElement("div")),A.appendChild(document.createElement("div"));T.addEventListener("animationend",(function(t){var e=t.target;"small-grow"!==t.animationName&&"row-clear"!==t.animationName||e.classList.remove(t.animationName)})),A.addEventListener("click",(function(e){t.swapPiece()}));var i=new R(20,10),r=new L(i,this.getNextPiece);return r.onPieceConnect.addListener((function(e){e.getTileEls().forEach((function(t){t.classList.remove("small-grow"),t.classList.add("small-grow")})),t.lastSwapped&&(t.lastSwapped=null)})),r.onReset.addListener((function(){t.drawNextPiece()})),r.onLineClear.addListener((function(e){4===e.length?t.score+=800*t.level:3===e.length?t.score+=400*t.level:2===e.length?t.score+=200*t.level:1===e.length&&(t.score+=100*t.level)})),r.onLose.addListener((function(){t.gameover=!0})),i.onAnimEnd.addListener((function(e){"line-clear"===e&&t.render()})),this.player=r,this.grid=i,this.reset(),!0},e.prototype.drawPiece=function(t,e){if(t){for(var n=e.children,o=0;o<25;++o)n[o].style.background="";for(var i=0;i<t.getHeight();++i)for(var r=0;r<t.getWidth();++r)n[5*(i+1)+r+1].style.background=O[t.get(i,r)].color}},e.prototype.drawNextPiece=function(){this.drawPiece(this.nextPiece,M)},e.prototype.drawHeldPiece=function(){this.drawPiece(this.storedPiece,A)},e.prototype.reset=function(){this.player.reset(),this.score=0,this.level=1,this.grid.reset(),this.gameover=!1,this.render()},e.prototype.update=function(t){var e=this.keyboard,n=this.player;this.gameover||(e.justDown("KeyX")&&n.rotate(n.angle+1),e.justDown("KeyZ")&&n.rotate(n.angle-1),e.justDown("ArrowUp")&&n.immediateDrop(),e.justDown("KeyC")&&this.swapPiece(),e.isRepeating("ArrowLeft",200,100)&&n.move(0,-1),e.isRepeating("ArrowRight",200,100)&&n.move(0,1),e.isRepeating("ArrowDown",200,100)&&(n.moveDownOne()?(n.resetCounter(),++this.score,n.piece.intersects(this.grid,1,0,n.angle)&&e.resetRepeating("ArrowDown")):e.resetRepeating("ArrowDown")),n.update(t))},e.prototype.swapPiece=function(){if(this.lastSwapped!==this.player.piece){var t=this.storedPiece;this.lastSwapped=this.storedPiece,this.storedPiece=this.player.piece,this.player.reset(t),this.drawHeldPiece()}},e.prototype.render=function(){j.innerText=this.score.toString();for(var t=C.children,e=0;e<20;++e)for(var n=0;n<10;++n){var o=10*e+n,i=this.grid.get(e,n);t[o].style.background=8===i?"rgba(0, 0, 0, 0.75)":O[i].color,t[o].style.boxShadow="",t[o].style.zIndex="1",t[o].style.opacity="1"}this.player.render(t)},e}(k))).run()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMvQixDQUVKamIsS0FBS3NjLE9BQU9uSixPQUFPaUcsRUFDdkIsRUFDT3dDLENBQ1gsQ0ExTDJCLENBMEx6QnJKLEtHbE5HTyxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL0tleWJvYXJkLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvTW9ub1N5bnRoLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvQXVkaW9FZmZlY3QudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9FZmZlY3RDaGFpbi50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvV2ViQUEvc3JjL1NlbmQudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9TZW5kTWdyLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvQnVzLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvQnVzTWdyLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvSW50ZXJhY3Rpb24udHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9Tb3VuZC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvV2ViQUEvc3JjL0VudmVsb3BlLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9XZWJBQS9zcmMvTXVzaWMudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9EZWxlZ2F0ZS50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvV2ViQUEvc3JjL0xvYWRpbmcudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1dlYkFBL3NyYy9Tb3VuZEVmZmVjdC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvV2ViQUEvc3JjL0F1ZGlvRW5naW5lLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9HYW1lLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9HcmlkLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9QaWVjZURhdGEudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1V0aWwudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL0FjdG9yLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9UZXRyaXMudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL0RlbGVnYXRlLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9UZXRyaXNHcmlkLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgS2V5Ym9hcmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gS2V5Ym9hcmQoKSB7XG4gICAgICAgIHZhciBjb2RlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY29kZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmtleXMgPSBbXTtcbiAgICAgICAgdGhpcy5rZXlNYXAgPSBuZXcgTWFwO1xuICAgICAgICBpZiAoY29kZXMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5hZGQuYXBwbHkodGhpcywgY29kZXMpO1xuICAgICAgICB0aGlzLmF1dG9Nb2RlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzS2V5dXAgPSB0aGlzLnByb2Nlc3NLZXl1cC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NLZXlkb3duID0gdGhpcy5wcm9jZXNzS2V5ZG93bi5iaW5kKHRoaXMpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLnByb2Nlc3NLZXlkb3duKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMucHJvY2Vzc0tleXVwKTtcbiAgICB9XG4gICAgS2V5Ym9hcmQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLnByb2Nlc3NLZXlkb3duKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMucHJvY2Vzc0tleXVwKTtcbiAgICB9O1xuICAgIEtleWJvYXJkLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGVsdGFUaW1lKSB7XG4gICAgICAgIHRoaXMua2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGtleS5sYXN0U3RhdGUgPSBrZXkuc3RhdGU7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXRlID4gMClcbiAgICAgICAgICAgICAgICBrZXkuc3RhdGUgKz0gZGVsdGFUaW1lO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtleWJvYXJkLnByb3RvdHlwZS5pc0Rvd24gPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZShjb2RlKS5zdGF0ZSA+IDA7XG4gICAgfTtcbiAgICBLZXlib2FyZC5wcm90b3R5cGUucmVzZXRSZXBlYXRpbmcgPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICB2YXIga2V5ID0gdGhpcy5nZXRTdGF0ZShjb2RlKTtcbiAgICAgICAgaWYgKGtleS5zdGF0ZSA+IDApIHtcbiAgICAgICAgICAgIGtleS5zdGF0ZSA9IDAuMDAxO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBLZXlib2FyZC5wcm90b3R5cGUuaXNSZXBlYXRpbmcgPSBmdW5jdGlvbiAoY29kZSwgaW5pdERlbGF5LCBpbnRlcnZhbCkge1xuICAgICAgICB2YXIga2V5ID0gdGhpcy5nZXRTdGF0ZShjb2RlKTtcbiAgICAgICAgaWYgKGtleS5zdGF0ZSA+IGluaXREZWxheSArIGludGVydmFsKSB7XG4gICAgICAgICAgICBrZXkuc3RhdGUgLT0gaW50ZXJ2YWw7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoa2V5LnN0YXRlICYmICFrZXkubGFzdFN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2V5Ym9hcmQucHJvdG90eXBlLmlzVXAgPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICByZXR1cm4gISh0aGlzLmdldFN0YXRlKGNvZGUpLnN0YXRlID4gMCk7XG4gICAgfTtcbiAgICBLZXlib2FyZC5wcm90b3R5cGUuanVzdERvd24gPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLmdldFN0YXRlKGNvZGUpO1xuICAgICAgICByZXR1cm4gc3RhdGUuc3RhdGUgPiAwICYmIHN0YXRlLmxhc3RTdGF0ZSA9PT0gMDtcbiAgICB9O1xuICAgIEtleWJvYXJkLnByb3RvdHlwZS5qdXN0VXAgPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLmdldFN0YXRlKGNvZGUpO1xuICAgICAgICByZXR1cm4gc3RhdGUuc3RhdGUgPT09IDAgJiYgc3RhdGUubGFzdFN0YXRlID4gMDtcbiAgICB9O1xuICAgIEtleWJvYXJkLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMua2V5TWFwLmdldChjb2RlKTtcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b01vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChjb2RlKTtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMua2V5TWFwLmdldChjb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IFwiRGlkIG5vdCBoYXZlIGtleSBvZiB2YWx1ZSBcXFwiXCIgKyBjb2RlICsgXCJcXFwiIGluIHRoZSBLZXlib2FyZC4gXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIkRpZCB5b3UgZm9yZ2V0IHRvIGFkZCBpdCB2aWEgYWRkS2V5cz9cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICBLZXlib2FyZC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29kZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNvZGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgY29kZXMuZm9yRWFjaChmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmtleU1hcC5oYXMoY29kZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIG5ld0tleVN0YXRlID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvZGUsXG4gICAgICAgICAgICAgICAgbGFzdFN0YXRlOiAwLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmtleXMucHVzaChuZXdLZXlTdGF0ZSk7XG4gICAgICAgICAgICBfdGhpcy5rZXlNYXAuc2V0KGNvZGUsIG5ld0tleVN0YXRlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBLZXlib2FyZC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29kZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNvZGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgY29kZXMuZm9yRWFjaChmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgICAgdmFyIGtleVN0YXRlID0gX3RoaXMua2V5TWFwLmdldChjb2RlKTtcbiAgICAgICAgICAgIGlmIChrZXlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSBfdGhpcy5rZXlzLmluZGV4T2Yoa2V5U3RhdGUpO1xuICAgICAgICAgICAgICAgIGlmIChpZHggIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5rZXlzLnNwbGljZShpZHgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmtleU1hcC5kZWxldGUoY29kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgS2V5Ym9hcmQucHJvdG90eXBlLnByb2Nlc3NLZXlkb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGV2dC5yZXBlYXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMua2V5TWFwLmdldChldnQuY29kZSk7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9Nb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoZXZ0LmNvZGUpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5rZXlNYXAuZ2V0KGV2dC5jb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5zdGF0ZSA9IDAuMDAxO1xuICAgIH07XG4gICAgS2V5Ym9hcmQucHJvdG90eXBlLnByb2Nlc3NLZXl1cCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5rZXlNYXAuZ2V0KGV2dC5jb2RlKTtcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b01vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChldnQuY29kZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLmtleU1hcC5nZXQoZXZ0LmNvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnN0YXRlID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBLZXlib2FyZDtcbn0oKSk7XG5leHBvcnQgeyBLZXlib2FyZCB9O1xuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFNvdW5kIH0gZnJvbSBcIi4vU291bmRcIjtcbmltcG9ydCB7IEVudmVsb3BlIH0gZnJvbSBcIi4vRW52ZWxvcGVcIjtcbi8vIFRPRE86IENyZWF0ZSBTeW50aFZvaWNlIGNsYXNzIHdoaWNoIGNhbiBtYWtlIG11bHRpcGxlIHZvaWNlcyBlYXNpZXIuXG52YXIgTW9ub1N5bnRoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNb25vU3ludGgsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTW9ub1N5bnRoKGNvbnRleHQsIHRhcmdldCwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm9kZSA9IG9wdHMgPyBuZXcgT3NjaWxsYXRvck5vZGUoY29udGV4dCwgb3B0cykgOlxuICAgICAgICAgICAgbmV3IE9zY2lsbGF0b3JOb2RlKGNvbnRleHQpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbnRleHQsIG5vZGUsIHRhcmdldCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZW52ZWxvcGUgPSBuZXcgRW52ZWxvcGUoY29udGV4dCk7XG4gICAgICAgIF90aGlzLmVudmVsb3BlLmFkZFRhcmdldChfdGhpcy5nYWluKTtcbiAgICAgICAgX3RoaXMuZ2Fpbi52YWx1ZSA9IDA7XG4gICAgICAgIF90aGlzLnNvdXJjZS5zdGFydChjb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW9ub1N5bnRoLnByb3RvdHlwZSwgXCJ0eXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnNvdXJjZS50eXBlOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS50eXBlID0gdHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNb25vU3ludGgucHJvdG90eXBlLCBcImZyZXF1ZW5jeVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5zb3VyY2UuZnJlcXVlbmN5OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3ludGggZG9lcyBub3QgbmVlZCB0byBiZSBsb2FkZWQhXG4gICAgICogQHBhcmFtIHVybFxuICAgICAqL1xuICAgIE1vbm9TeW50aC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdGhyb3cgXCJTeW50aCNsb2FkIHNob3VsZCBub3QgYmUgY2FsbGVkIVwiO1xuICAgIH07XG4gICAgTW9ub1N5bnRoLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKHdoZW4pIHtcbiAgICAgICAgaWYgKHdoZW4gPT09IHZvaWQgMCkgeyB3aGVuID0gMDsgfVxuICAgICAgICB0aGlzLmVudmVsb3BlLmFjdGl2YXRlKHdoZW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XG4gICAgfTtcbiAgICBNb25vU3ludGgucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgXCJTeW50aCN1bmxvYWQgc2hvdWxkIG5vdCBiZSBjYWxsZWQhXCI7XG4gICAgfTtcbiAgICByZXR1cm4gTW9ub1N5bnRoO1xufShTb3VuZCkpO1xuZXhwb3J0IHsgTW9ub1N5bnRoIH07XG4iLCIvKipcbiAqIEF1ZGlvRWZmZWN0IGNsYXNzIHdyYXBzIGFuIEF1ZGlvTm9kZSBlZmZlY3QgdW5pdCwgYWRkaW5nIGRyeS93ZXQgY29udHJvbHMsIGFuZFxuICogcHJlLXBvc3QgZ2FpbiBmb3IgZ2Fpbi1zdGFnaW5nLlxuICpcbiAqIEF1ZGlvTm9kZSBHcmFwaDpcbiAqICAgICAgICAgICAgIC9kcnkgICAgICAgICAgIFxcXG4gKiBpbnB1dEdhaW4gPCAgICAgICAgICAgICAgICAgPiBvdXRwdXRHYWluIC0+IHRhcmdldFxuICogICAgICAgICAgICAgXFx3ZXQgLT4gZWZmZWN0IC9cbiAqL1xudmFyIEF1ZGlvRWZmZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEF1ZGlvRWZmZWN0KGVmZmVjdCwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gZWZmZWN0LmNvbnRleHQ7XG4gICAgICAgIHRoaXMubUVmZmVjdCA9IGVmZmVjdDtcbiAgICAgICAgdGhpcy5tRHJ5ID0gbmV3IEdhaW5Ob2RlKGNvbnRleHQpO1xuICAgICAgICB0aGlzLm1EcnkuZ2Fpbi52YWx1ZSA9IDA7XG4gICAgICAgIHRoaXMubVdldCA9IG5ldyBHYWluTm9kZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tV2V0LmdhaW4udmFsdWUgPSAxO1xuICAgICAgICB0aGlzLm1JbnB1dCA9IG5ldyBHYWluTm9kZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tT3V0cHV0ID0gbmV3IEdhaW5Ob2RlKGNvbnRleHQpO1xuICAgICAgICB0aGlzLm1JbnB1dC5jb25uZWN0KHRoaXMubURyeSk7XG4gICAgICAgIHRoaXMubUlucHV0LmNvbm5lY3QodGhpcy5tV2V0KTtcbiAgICAgICAgdGhpcy5tRHJ5LmNvbm5lY3QodGhpcy5tT3V0cHV0KTtcbiAgICAgICAgdGhpcy5tV2V0LmNvbm5lY3QodGhpcy5tRWZmZWN0KTtcbiAgICAgICAgdGhpcy5tRWZmZWN0LmNvbm5lY3QodGhpcy5tT3V0cHV0KTtcbiAgICAgICAgdGhpcy5tT3V0cHV0LmNvbm5lY3QodGFyZ2V0IHx8IGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9FZmZlY3QucHJvdG90eXBlLCBcImVmZmVjdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubUVmZmVjdDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdWRpb0VmZmVjdC5wcm90b3R5cGUsIFwiaW5wdXRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1JbnB1dDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdWRpb0VmZmVjdC5wcm90b3R5cGUsIFwib3V0cHV0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tT3V0cHV0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvRWZmZWN0LnByb3RvdHlwZSwgXCJkcnlcIiwge1xuICAgICAgICAvLyBEaXJlY3QgYWNjZXNzIHRvIGRyeSBnYWluXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubURyeS5nYWluO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvRWZmZWN0LnByb3RvdHlwZSwgXCJ3ZXRcIiwge1xuICAgICAgICAvLyBEaXJlY3QgYWNjZXNzIHRvIHdldCBnYWluXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubVdldC5nYWluO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvRWZmZWN0LnByb3RvdHlwZSwgXCJwcmVHYWluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tSW5wdXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9FZmZlY3QucHJvdG90eXBlLCBcInBvc3RHYWluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tT3V0cHV0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQXVkaW9FZmZlY3QucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoYXVkaW9Ob2RlKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1PdXRwdXQuY29ubmVjdChhdWRpb05vZGUpO1xuICAgIH07XG4gICAgQXVkaW9FZmZlY3QucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubU91dHB1dC5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICAvLyBCYWxhbmNlcyB3ZXQgYW5kIGRyeS4gVmFsdWUgb2Ygd2V0IGlzIHNldCB0byBwZXJjZW50LCBhbmQgZHJ5IGlzIHNldCB0byAxLXBlcmNlbnRcbiAgICBBdWRpb0VmZmVjdC5wcm90b3R5cGUuc2V0V2V0RHJ5ID0gZnVuY3Rpb24gKHBlcmNlbnQsIHJhbXBUaW1lKSB7XG4gICAgICAgIGlmIChyYW1wVGltZSA9PT0gdm9pZCAwKSB7IHJhbXBUaW1lID0gMDsgfVxuICAgICAgICBwZXJjZW50ID0gTWF0aC5taW4oTWF0aC5tYXgocGVyY2VudCwgMCksIDEpO1xuICAgICAgICBpZiAocmFtcFRpbWUgPiAwKSB7XG4gICAgICAgICAgICB2YXIgdGltZSA9IHRoaXMubUVmZmVjdC5jb250ZXh0LmN1cnJlbnRUaW1lICsgcmFtcFRpbWU7XG4gICAgICAgICAgICB0aGlzLm1EcnkuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgxIC0gcGVyY2VudCwgdGltZSk7XG4gICAgICAgICAgICB0aGlzLm1XZXQuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShwZXJjZW50LCB0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubURyeS5nYWluLnZhbHVlID0gMSAtIHBlcmNlbnQ7XG4gICAgICAgICAgICB0aGlzLm1XZXQuZ2Fpbi52YWx1ZSA9IHBlcmNlbnQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1ZGlvRWZmZWN0LnByb3RvdHlwZS5zZXRXZXQgPSBmdW5jdGlvbiAocGVyY2VudCwgcmFtcFRpbWUpIHtcbiAgICAgICAgaWYgKHJhbXBUaW1lID09PSB2b2lkIDApIHsgcmFtcFRpbWUgPSAwOyB9XG4gICAgICAgIHBlcmNlbnQgPSBNYXRoLm1heChwZXJjZW50LCAwKTtcbiAgICAgICAgaWYgKHJhbXBUaW1lID4gMClcbiAgICAgICAgICAgIHRoaXMubVdldC5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHBlcmNlbnQsIHRoaXMubUVmZmVjdC5jb250ZXh0LmN1cnJlbnRUaW1lICsgcmFtcFRpbWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1XZXQuZ2Fpbi52YWx1ZSA9IHBlcmNlbnQ7XG4gICAgfTtcbiAgICBBdWRpb0VmZmVjdC5wcm90b3R5cGUuc2V0RHJ5ID0gZnVuY3Rpb24gKHBlcmNlbnQsIHJhbXBUaW1lKSB7XG4gICAgICAgIGlmIChyYW1wVGltZSA9PT0gdm9pZCAwKSB7IHJhbXBUaW1lID0gMDsgfVxuICAgICAgICBwZXJjZW50ID0gTWF0aC5tYXgocGVyY2VudCwgMCk7XG4gICAgICAgIGlmIChyYW1wVGltZSA+IDApXG4gICAgICAgICAgICB0aGlzLm1EcnkuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShwZXJjZW50LCB0aGlzLm1FZmZlY3QuY29udGV4dC5jdXJyZW50VGltZSArIHJhbXBUaW1lKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5tRHJ5LmdhaW4udmFsdWUgPSBwZXJjZW50O1xuICAgIH07XG4gICAgQXVkaW9FZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubURyeS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubVdldC5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubUVmZmVjdC5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubUlucHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tT3V0cHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tRHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tV2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tRWZmZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tSW5wdXQgPSBudWxsO1xuICAgICAgICB0aGlzLm1PdXRwdXQgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEF1ZGlvRWZmZWN0O1xufSgpKTtcbmV4cG9ydCB7IEF1ZGlvRWZmZWN0IH07XG4iLCJpbXBvcnQgeyBBdWRpb0VmZmVjdCB9IGZyb20gXCIuL0F1ZGlvRWZmZWN0XCI7XG4vLyBNYW5hZ2VzIGFuIGFycmF5IG9mIGF1ZGlvIEZYIGNoYWluZWQgdG9nZXRoZXJcbnZhciBFZmZlY3RDaGFpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250ZXh0XG4gICAgICogQHBhcmFtIHRhcmdldCBUYXJnZXQgZW5kLXBvaW50IHRvIGNvbm5lY3QgdG8uIElmIG5vIHRhcmdldCBpcyBleHBsaWNpdGx5IGdpdmVuLFxuICAgICAqIGl0IHdpbGwgYmUgc2V0IHRvIHRoZSBjb250ZXh0J3MgZGVzdGluYXRpb24gb3V0cHV0XG4gICAgICovXG4gICAgZnVuY3Rpb24gRWZmZWN0Q2hhaW4oY29udGV4dCwgdGFyZ2V0KSB7XG4gICAgICAgIHRoaXMubUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm1QcmVHYWluID0gbmV3IEdhaW5Ob2RlKGNvbnRleHQpO1xuICAgICAgICB0aGlzLm1Qb3N0R2FpbiA9IG5ldyBHYWluTm9kZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tUHJlR2Fpbi5jb25uZWN0KHRoaXMubVBvc3RHYWluKTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4uY29ubmVjdCh0YXJnZXQgfHwgY29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgICAgIHRoaXMubUVmZmVjdHMgPSBbXTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmZmVjdENoYWluLnByb3RvdHlwZSwgXCJpbnB1dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubVByZUdhaW47XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWZmZWN0Q2hhaW4ucHJvdG90eXBlLCBcIm91dHB1dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubVBvc3RHYWluO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgRWZmZWN0Q2hhaW4ucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAobmV3VGFyZ2V0KSB7XG4gICAgICAgIHRoaXMub3V0cHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5vdXRwdXQuY29ubmVjdChuZXdUYXJnZXQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmZmVjdENoYWluLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tUHJlR2Fpbi5jb250ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmZmVjdENoYWluLnByb3RvdHlwZSwgXCJwcmVHYWluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tUHJlR2FpbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFZmZlY3RDaGFpbi5wcm90b3R5cGUsIFwiZ2FpblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubVBvc3RHYWluO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVmZmVjdENoYWluLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICAvLyB0aGUgc2l6ZSBvZiB0aGUgZWZmZWN0IGNoYWluIG5vdCBpbmNsdWRpbmcgcHJlR2FpbiBhbmQgdGFyZ2V0IG5vZGVzLlxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1FZmZlY3RzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8vIC8qKlxuICAgIC8vICAqIFB1c2ggYW4gZWZmZWN0IG9udG8gdGhlXG4gICAgLy8gICogQHBhcmFtIGVmZmVjdFR5cGVcbiAgICAvLyAgKiBAcGFyYW0gb3B0aW9uc1xuICAgIC8vICAqL1xuICAgIC8vIHB1c2g8VCBleHRlbmRzIEF1ZGlvRWZmZWN0PGFueT4+KGVmZmVjdFR5cGU6IG5ldyhwPzogYW55KSA9PiBULCBvcHRpb25zPzogYW55KTogVCB7XG4gICAgLy8gICAgIGxldCBuZXdGWDogVCA9IChvcHRpb25zKSA/IG5ldyBlZmZlY3RUeXBlKG9wdGlvbnMpIDogbmV3IGVmZmVjdFR5cGU7XG4gICAgLy8gICAgIHJldHVybiB0aGlzLnB1c2hFeGlzdGluZyhuZXdGWCk7XG4gICAgLy8gfVxuICAgIEVmZmVjdENoYWluLnByb3RvdHlwZS5wdXNoRWZmZWN0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgLy8gQXVkaW9Ob2RlIHdyYXBwZWQgYW5kIHRhcmdldCBzZXRcbiAgICAgICAgdmFyIG5ld0Z4ID0gbmV3IEF1ZGlvRWZmZWN0KG5vZGUsIHRoaXMub3V0cHV0KTtcbiAgICAgICAgLy8gY29ubmVjdCBsYXN0IGVmZmVjdCB0byB0aGUgbmV3RlhcbiAgICAgICAgdmFyIGJlZm9yZSA9ICh0aGlzLm1FZmZlY3RzLmxlbmd0aCA9PT0gMCkgPyB0aGlzLmlucHV0IDpcbiAgICAgICAgICAgIHRoaXMubUVmZmVjdHNbdGhpcy5tRWZmZWN0cy5sZW5ndGggLSAxXS5vdXRwdXQ7XG4gICAgICAgIGJlZm9yZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIGJlZm9yZS5jb25uZWN0KG5ld0Z4LmlucHV0KTtcbiAgICAgICAgLy8gZG9uZSwgY29tbWl0IGNoYW5nZXNcbiAgICAgICAgdGhpcy5tRWZmZWN0cy5wdXNoKG5ld0Z4KTtcbiAgICAgICAgcmV0dXJuIG5ld0Z4O1xuICAgIH07XG4gICAgRWZmZWN0Q2hhaW4ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAodHlwZSwgb3B0cykge1xuICAgICAgICB2YXIgbm9kZSA9IG9wdHMgPyBuZXcgdHlwZSh0aGlzLmNvbnRleHQsIG9wdHMpIDogbmV3IHR5cGUodGhpcy5jb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHVzaEVmZmVjdChub2RlKTtcbiAgICB9O1xuICAgIEVmZmVjdENoYWluLnByb3RvdHlwZS5pbnNlcnRFZmZlY3QgPSBmdW5jdGlvbiAobm9kZSwgaWR4KSB7XG4gICAgICAgIGlmIChpZHggPT09IHZvaWQgMCkgeyBpZHggPSAwOyB9XG4gICAgICAgIC8vIHdyYXAgQXVkaW9Ob2RlXG4gICAgICAgIHZhciBuZXdGeCA9IG5ldyBBdWRpb0VmZmVjdChub2RlKTtcbiAgICAgICAgLy8gY2xhbXAgaW5kZXhcbiAgICAgICAgaWR4ID0gKHRoaXMubUVmZmVjdHMubGVuZ3RoID09PSAwKSA/IDAgOlxuICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5tYXgoMCwgaWR4KSwgdGhpcy5tRWZmZWN0cy5sZW5ndGggLSAxKTtcbiAgICAgICAgLy8gc3BsaWNlIGNvbm5lY3Rpb25zXG4gICAgICAgIHZhciBiZWZvcmUgPSBpZHggPT09IDAgPyB0aGlzLmlucHV0IDogdGhpcy5tRWZmZWN0c1tpZHggLSAxXS5vdXRwdXQ7XG4gICAgICAgIHZhciBhZnRlciA9IGlkeCA+PSB0aGlzLm1FZmZlY3RzLmxlbmd0aCAtIDEgPyB0aGlzLm91dHB1dCA6IHRoaXMubUVmZmVjdHNbaWR4XS5pbnB1dDtcbiAgICAgICAgYmVmb3JlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgYmVmb3JlLmNvbm5lY3QobmV3RnguaW5wdXQpO1xuICAgICAgICBuZXdGeC5jb25uZWN0KGFmdGVyKTtcbiAgICAgICAgLy8gZG9uZSwgY29tbWl0IGNoYW5nZXNcbiAgICAgICAgdGhpcy5tRWZmZWN0cy5zcGxpY2UoaWR4LCAwLCBuZXdGeCk7XG4gICAgICAgIHJldHVybiBuZXdGeDtcbiAgICB9O1xuICAgIEVmZmVjdENoYWluLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAodHlwZSwgaWR4LCBvcHRzKSB7XG4gICAgICAgIGlmIChpZHggPT09IHZvaWQgMCkgeyBpZHggPSAwOyB9XG4gICAgICAgIHZhciBub2RlID0gKG9wdHMpID8gbmV3IHR5cGUodGhpcy5jb250ZXh0LCBvcHRzKSA6IG5ldyB0eXBlKHRoaXMuY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydEVmZmVjdChub2RlLCBpZHgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWZmZWN0IHR5cGUgZnJvbSB0aGUgRlggY2hhaW4uXG4gICAgICogQHBhcmFtIGVmZmVjdFR5cGUgdHlwZSBvZiBlZmZlY3QgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIGRpc2Nvbm5lY3RlZCBlZmZlY3QgaWYgb25lIHdhcyBmb3VuZCwgb3IgbnVsbCBpZiBub25lIGZvdW5kLlxuICAgICAqL1xuICAgIEVmZmVjdENoYWluLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZWZmZWN0VHlwZSkge1xuICAgICAgICAvLyB2aXNpdCBlZmZlY3RzIHRvIGZpbmQgb25lIHRvIHJlbW92ZVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubUVmZmVjdHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1FZmZlY3RzW2ldLmVmZmVjdCBpbnN0YW5jZW9mIGVmZmVjdFR5cGUpIHsgLy8gZm91bmQgbWF0Y2hpbmcgdHlwZSFcbiAgICAgICAgICAgICAgICAvLyByZWNvbm5lY3Qgbm9kZXNcbiAgICAgICAgICAgICAgICB2YXIgZWZmZWN0ID0gdGhpcy5tRWZmZWN0c1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgYmVmb3JlID0gKGkgPT09IDApID8gdGhpcy5pbnB1dCA6IHRoaXMubUVmZmVjdHNbaSAtIDFdLm91dHB1dDtcbiAgICAgICAgICAgICAgICB2YXIgYWZ0ZXIgPSAoaSA9PT0gdGhpcy5tRWZmZWN0cy5sZW5ndGggLSAxKSA/IHRoaXMub3V0cHV0IDogdGhpcy5tRWZmZWN0c1tpICsgMV0uaW5wdXQ7XG4gICAgICAgICAgICAgICAgZWZmZWN0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBiZWZvcmUuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGJlZm9yZS5jb25uZWN0KGFmdGVyKTtcbiAgICAgICAgICAgICAgICAvLyBkb25lLCBjb21taXQgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHRoaXMubUVmZmVjdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlZmZlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gZWZmZWN0IHJlbW92ZWRcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvLyBHZXQgZmlyc3QgZWZmZWN0IG9mIGVmZmVjdFR5cGUuIFJldHVybnMgbnVsbCBpZiBub25lIGV4aXN0cy5cbiAgICAvLyAoRG9lcyBub3QgaW5jbHVkZSBwcmVHYWluIG5vZGUgb3IgdGFyZ2V0IGVuZCBwb2ludClcbiAgICBFZmZlY3RDaGFpbi5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGVmZmVjdFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TnRoKGVmZmVjdFR5cGUsIDEpO1xuICAgIH07XG4gICAgLy8gR2V0IGFsbCBlZmZlY3RzIG9mIGVmZmVjdFR5cGUuXG4gICAgRWZmZWN0Q2hhaW4ucHJvdG90eXBlLmdldEFsbE9mID0gZnVuY3Rpb24gKGVmZmVjdFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubUVmZmVjdHMuZmlsdGVyKGZ1bmN0aW9uIChmeCkgeyByZXR1cm4gZnguZWZmZWN0IGluc3RhbmNlb2YgZWZmZWN0VHlwZTsgfSk7XG4gICAgfTtcbiAgICAvLyBHZXQgdGhlIG50aCBlZmZlY3Qgb2YgZWZmZWN0VHlwZS5cbiAgICBFZmZlY3RDaGFpbi5wcm90b3R5cGUuZ2V0TnRoID0gZnVuY3Rpb24gKGVmZmVjdFR5cGUsIG4pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1FZmZlY3RzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tRWZmZWN0c1tpXS5lZmZlY3QgaW5zdGFuY2VvZiBlZmZlY3RUeXBlICYmIC0tbiA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1FZmZlY3RzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRWZmZWN0Q2hhaW4ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubVByZUdhaW4uZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubUVmZmVjdHMuZm9yRWFjaChmdW5jdGlvbiAoZWZmZWN0KSB7IHJldHVybiBlZmZlY3QuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4gPSBudWxsO1xuICAgICAgICB0aGlzLm1QcmVHYWluID0gbnVsbDtcbiAgICAgICAgdGhpcy5tRWZmZWN0cyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gRWZmZWN0Q2hhaW47XG59KCkpO1xuZXhwb3J0IHsgRWZmZWN0Q2hhaW4gfTtcbiIsIi8vIFRoZSBTZW5kIGNsYXNzIHJlcHJlc2VudHMgYXVkaW8gcm91dGluZyB0aGF0IGNsb25lcyBpdHMgc2lnbmFsIGFuZCBzZW5kcyBpdCBhdCB2YXJ5aW5nIGxldmVscyB0b1xuLy8gb3RoZXIgYXVkaW8gaW5wdXRzLiBUaGVzZSBhcmUgdXN1YWxseSBzZW50IHRvIG90aGVyIGJ1c2VzIG9yIGVmZmVjdHMuXG52YXIgU2VuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZW5kKGNvbnRleHQsIHRhcmdldCkge1xuICAgICAgICB0aGlzLm1Ob2RlID0gY29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICAgIHRoaXMubVRhcmdldCA9IHRhcmdldCB8fCBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VuZC5wcm90b3R5cGUsIFwiZ2FpblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubU5vZGUuZ2FpbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZW5kLnByb3RvdHlwZSwgXCJpbnB1dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubU5vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VuZC5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tVGFyZ2V0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tVGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLm1Ob2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMubU5vZGUuY29ubmVjdCh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VuZC5wcm90b3R5cGUsIFwiaGFzVGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tVGFyZ2V0ICE9PSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCBzZW5kIHRvIGEgdGFyZ2V0IG5vZGVcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAgICovXG4gICAgU2VuZC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0IHNlbmQgZnJvbSBjdXJyZW50IHRhcmdldFxuICAgICAqL1xuICAgIFNlbmQucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubU5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1UYXJnZXQgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFNlbmQ7XG59KCkpO1xuZXhwb3J0IHsgU2VuZCB9O1xuIiwiLy8gVGhlIFNlbmRNZ3IgbWFuYWdlcyBhIGxpc3Qgb2YgU2VuZHMsIHVzZWZ1bCB0byBicm9hZGNhc3QgaW5wdXQgc2lnbmFscyB0byBvdGhlciBzb3VyY2VzLlxuaW1wb3J0IHsgU2VuZCB9IGZyb20gXCIuL1NlbmRcIjtcbnZhciBTZW5kTWdyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlbmRNZ3IoY29udGV4dCkge1xuICAgICAgICB0aGlzLm1Db250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5tU2VuZHMgPSBbXTtcbiAgICAgICAgdGhpcy5tSW5wdXQgPSBuZXcgR2Fpbk5vZGUoY29udGV4dCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZW5kTWdyLnByb3RvdHlwZSwgXCJpbnB1dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tSW5wdXQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTZW5kTWdyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciBuZXdTZW5kID0gbmV3IFNlbmQodGhpcy5tQ29udGV4dCwgdGFyZ2V0KTtcbiAgICAgICAgdGhpcy5tSW5wdXQuY29ubmVjdChuZXdTZW5kLmlucHV0KTtcbiAgICAgICAgdGhpcy5tU2VuZHMucHVzaChuZXdTZW5kKTtcbiAgICAgICAgcmV0dXJuIG5ld1NlbmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBTZW5kIHByZXZpb3VzbHkgY3JlYXRlZCBvbiB0aGlzIHNlbmQgbWFuYWdlclxuICAgICAqIEBwYXJhbSBpZHhPclRhcmdldCBpZiBpbmRleCwgaXQgbXVzdCBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgU2VuZE1nciNsZW5ndGguIElmIGFuIEF1ZGlvTm9kZSB0YXJnZXQsXG4gICAgICogaXQgd2lsbCByZXR1cm4gdGhlIGZpcnN0IFNlbmQgdGhhdCBpcyB0YXJnZXRpbmcgdGhlIEF1ZGlvTm9kZS4gSWYgbm9uZSBleGlzdHMsIG51bGwgaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgU2VuZE1nci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGlkeE9yVGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIGlkeE9yVGFyZ2V0ID09PSBcIm51bWJlclwiKSA/XG4gICAgICAgICAgICB0aGlzLm1TZW5kc1tpZHhPclRhcmdldF0gfHwgbnVsbCA6XG4gICAgICAgICAgICB0aGlzLm1TZW5kcy5maW5kKGZ1bmN0aW9uIChzZW5kKSB7IHJldHVybiBPYmplY3QuaXMoc2VuZC50YXJnZXQsIGlkeE9yVGFyZ2V0KTsgfSkgfHwgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNlbmQgYmVsb25naW5nIHRvIHRoaXMgU2VuZE1nciwgY2FjaGVkIGJ5IHRoZSB1c2VyLlxuICAgICAqIEBwYXJhbSBzZW5kXG4gICAgICogQHJldHVybnMgdHJ1ZTogaWYgc2VuZCB3YXMgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQ7XG4gICAgICogZmFsc2U6IGlmIGl0IGRpZCBub3QgZXhpc3QgaW4gdGhlIGNvbnRhaW5lci5cbiAgICAgKi9cbiAgICBTZW5kTWdyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc2VuZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubVNlbmRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRoaXMubVNlbmRzW2ldLCBzZW5kKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5TZW5kKHNlbmQpO1xuICAgICAgICAgICAgICAgIHRoaXMubVNlbmRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHNlbmRzXG4gICAgICovXG4gICAgU2VuZE1nci5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm1TZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChzZW5kKSB7IHJldHVybiBfdGhpcy5jbGVhblNlbmQoc2VuZCk7IH0pO1xuICAgICAgICB0aGlzLm1TZW5kcyA9IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIFwiZGVzdHJ1Y3RpbmdcIiB0aGUgU2VuZE1nclxuICAgICAqL1xuICAgIFNlbmRNZ3IucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VuZE1nci5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBudW1iZXIgb2Ygc2VuZHMgc3RvcmVkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1TZW5kcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBzZW5kcyB0aGF0IGhhdmUgYSBzcGVjaWZpZWQgdGFyZ2V0XG4gICAgICogQHBhcmFtIHRhcmdldFxuICAgICAqL1xuICAgIFNlbmRNZ3IucHJvdG90eXBlLnJlbW92ZUlmVGFyZ2V0aW5nID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5tU2VuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRoaXMubVNlbmRzW2ldLnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5TZW5kKHRoaXMubVNlbmRzW2ldKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1TZW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEhlbHBlcjogY2xlYW5zL3JlbW92ZXMgYWxsIGNvbm5lY3Rpb25zIGluIGFuIGludGVybmFsIFNlbmRcbiAgICBTZW5kTWdyLnByb3RvdHlwZS5jbGVhblNlbmQgPSBmdW5jdGlvbiAoc2VuZCkge1xuICAgICAgICBzZW5kLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tSW5wdXQuZGlzY29ubmVjdChzZW5kLmlucHV0KTtcbiAgICB9O1xuICAgIHJldHVybiBTZW5kTWdyO1xufSgpKTtcbmV4cG9ydCB7IFNlbmRNZ3IgfTtcbiIsImltcG9ydCB7IEVmZmVjdENoYWluIH0gZnJvbSBcIi4vRWZmZWN0Q2hhaW5cIjtcbmltcG9ydCB7IFNlbmRNZ3IgfSBmcm9tIFwiLi9TZW5kTWdyXCI7XG4vLyBCdXMgY29ubmVjdGlvbiBncmFwaDogLT4gW2Z4XSAtPiBwYW5uZXItbm9kZSAtPiBwb3N0LWdhaW5cbnZhciBCdXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVzKGNvbnRleHQsIHRhcmdldCkge1xuICAgICAgICB0aGlzLm1QYW5uZXIgPSBjb250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO1xuICAgICAgICB0aGlzLm1Qb3N0R2FpbiA9IGNvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgICAgICB0aGlzLm1QYW5uZXIuY29ubmVjdCh0aGlzLm1Qb3N0R2Fpbik7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3QodGFyZ2V0IHx8IGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLm1FZmZlY3RzID0gbmV3IEVmZmVjdENoYWluKGNvbnRleHQsIHRoaXMubVBhbm5lcik7XG4gICAgICAgIHRoaXMubVNlbmRzID0gbmV3IFNlbmRNZ3IoY29udGV4dCk7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3QodGhpcy5tU2VuZHMuaW5wdXQpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVzLnByb3RvdHlwZSwgXCJpbnB1dFwiLCB7XG4gICAgICAgIC8vIFRvIGNvbm5lY3QgYSBub2RlIHRvIHRoaXMgYnVzLCBwYXNzIHRoaXMgdG8gQXVkaW9Ob2RlI2Nvbm5lY3RcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1FZmZlY3RzLmlucHV0OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1cy5wcm90b3R5cGUsIFwiZWZmZWN0c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tRWZmZWN0czsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXMucHJvdG90eXBlLCBcInByZUdhaW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubUVmZmVjdHMucHJlR2FpbjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXMucHJvdG90eXBlLCBcInBvc3RHYWluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1Qb3N0R2FpbjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXMucHJvdG90eXBlLCBcInBhbm5lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tUGFubmVyOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1cy5wcm90b3R5cGUsIFwic2VuZHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubVNlbmRzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ29ubmVjdHMgdGhlIEJ1cyB0byBhbm90aGVyIHRhcmdldCBBdWRpb05vZGVcbiAgICAgKiBAcGFyYW0gbm9kZSBub2RlIHRvIGNvbm5lY3RcbiAgICAgKi9cbiAgICBCdXMucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3QodGhpcy5tU2VuZHMuaW5wdXQpO1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5jb25uZWN0KG5vZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIEJ1cyBmcm9tIGl0cyB0YXJnZXQgQXVkaW9Ob2RlXG4gICAgICovXG4gICAgQnVzLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3QodGhpcy5tU2VuZHMuaW5wdXQpO1xuICAgIH07XG4gICAgLy8gQ2FsbCB0byBkaXNjb25uZWN0IGFuZCByZW1vdmUgYWxsIHJlZmVyZW5jZXMgb2YgaW5uZXIgZWZmZWN0c1xuICAgIEJ1cy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tUGFubmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4uZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1FZmZlY3RzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tU2VuZHMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLm1QYW5uZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm1Qb3N0R2FpbiA9IG51bGw7XG4gICAgICAgIHRoaXMubUVmZmVjdHMgPSBudWxsO1xuICAgICAgICB0aGlzLm1TZW5kcyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQnVzO1xufSgpKTtcbmV4cG9ydCB7IEJ1cyB9O1xuIiwiLy8gVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBjbGFzcyBCdXNNZ3IsIHdoaWNoIG1hbmFnZXMgYSBzZXQgb2YgYnVzc2VzLiBCeSBkZWZhdWx0IGEgbWFzdGVyIGJ1c1xuLy8gaXMgY3JlYXRlZCwgd2hpY2ggYnkgZGVmYXVsdCBpcyBhdHRhY2hlZCB0byB0aGUgQXVkaW9Db250ZXh0I2Rlc3RpbmF0aW9uLCB1bmxlc3Mgb3RoZXJ3aXNlXG4vLyBzcGVjaWZpZWQuIEFsbCBidXNzZXMgY3JlYXRlZCBieSB0aGlzIG1hbmFnZXIgYXJlIGF0dGFjaGVkIHRvIHRoZSBtYXN0ZXIgYnVzIGJ5IGRlZmF1bHQuXG4vLyBDcmVhdGVkIGJ1c3NlcyBhcmUgc3RvcmVkIGluIHRoZSBtYW5hZ2VyIGJ5IGtleSwgYW5kIGNhbiBiZSByZXRyaWV2ZWQgdmlhIEJ1c01nciNnZXRcbmltcG9ydCB7IEJ1cyB9IGZyb20gXCIuL0J1c1wiO1xudmFyIEJ1c01nciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIGF1ZGlvIGNvbnRleHRcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gbWFzdGVyIGJ1cyB3aWxsIGNvbm5lY3QgdG8gdGhpcyB0YXJnZXRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCdXNNZ3IoY29udGV4dCwgdGFyZ2V0KSB7XG4gICAgICAgIHRoaXMubUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm1NYXN0ZXJCdXMgPSBuZXcgQnVzKGNvbnRleHQsIHRhcmdldCk7XG4gICAgICAgIHRoaXMubUJ1c3NlcyA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMubUJ1c3Nlcy5zZXQoXCJtYXN0ZXJcIiwgdGhpcy5tTWFzdGVyQnVzKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1c01nci5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tQ29udGV4dDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXNNZ3IucHJvdG90eXBlLCBcIm1hc3RlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tTWFzdGVyQnVzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJ1cywgYW5kIHN0b3JlcyBpdCBpbiB0aGUgQXVkaW9FbmdpbmUuIEl0IGNhbiBiZSByZXRyaWV2ZWQgdmlhIEF1ZGlvRW5naW5lI2dldEJ1c1xuICAgICAqIEBwYXJhbSBrZXkga2V5IHRvIHNldCBhbmQgcmV0cmlldmUgdGhpcyBuZXcgYnVzLiBJdCBtdXN0IGJlIHVuaXF1ZSwgb3RoZXJ3aXNlIG5vIGJ1cyB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHRhcmdldCBUYXJnZXQgbm9kZSB0byBjb25uZWN0IHRoZSBidXMgdG8uIExlZnQgdW5zcGVjaWZpZWQsIHdpbGwgc2V0IGl0IHRvIHRoZVxuICAgICAqIG1hc3RlciBidXMuXG4gICAgICogQHJldHVybnMgY3JlYXRlZCBhdWRpbyBidXMsIG9yIG51bGwgaWYgdGhlIGtleSB3YXMgbm90IHVuaXF1ZS5cbiAgICAgKi9cbiAgICBCdXNNZ3IucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChrZXksIHRhcmdldCkge1xuICAgICAgICBpZiAodGhpcy5tQnVzc2VzLmhhcyhrZXkpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBuZXdCdXMgPSBuZXcgQnVzKHRoaXMuY29udGV4dCwgdGFyZ2V0IHx8IHRoaXMubU1hc3RlckJ1cy5pbnB1dCk7XG4gICAgICAgIHRoaXMubUJ1c3Nlcy5zZXQoa2V5LCBuZXdCdXMpO1xuICAgICAgICByZXR1cm4gbmV3QnVzO1xuICAgIH07XG4gICAgQnVzTWdyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBidXMgPSB0aGlzLm1CdXNzZXMuZ2V0KGtleSk7XG4gICAgICAgIHJldHVybiBidXMgPyBidXMgOiBudWxsO1xuICAgIH07XG4gICAgQnVzTWdyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBidXMgPSB0aGlzLm1CdXNzZXMuZ2V0KGtleSk7XG4gICAgICAgIGlmIChidXMpXG4gICAgICAgICAgICBidXM7XG4gICAgICAgIHJldHVybiB0aGlzLm1CdXNzZXMuZGVsZXRlKGtleSk7XG4gICAgfTtcbiAgICBCdXNNZ3IucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubUJ1c3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChidXMpIHsgcmV0dXJuIGJ1cy5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLm1CdXNzZXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5tQnVzc2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5tTWFzdGVyQnVzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCdXNNZ3I7XG59KCkpO1xuZXhwb3J0IHsgQnVzTWdyIH07XG4iLCIvLyBUaGlzIGZpbGUgY29udGFpbnMgYSBmdW5jdGlvbiBgaW50ZXJhY3Rpb25Xb3JrYXJvdW5kYCwgd2hpY2ggYXV0b21hdGljYWxseSByZXN1bWVzIGFuIEF1ZGlvQ29udGV4dFxuLy8gd2hlbiB0aGUgdXNlciBmaXJzdCBpbnRlcmFjdHMgd2l0aCB0aGUgcGFnZSAoXCJwb2ludGVyZG93blwiIGV2ZW50KS4gVGhpcyBpcyBuZWNlc3Nhcnkgb24gbWFueSBtb2Rlcm5cbi8vIGJyb3dzZXJzLCB3aGljaCByZXF1aXJlcyB0aGlzIGdlc3R1cmUgZnJvbSB0aGUgdXNlciB0byBwcm90ZWN0IHRoZW0gZnJvbSB1bndhbnRlZCBhbm5veWluZyBhdWRpby5cbi8vIEl0IGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGJ5IHRoZSBBdWRpb0VuZ2luZSwgYnV0IGlzIGF2YWlsYWJsZSBmb3IgdXNlIHdpdGhvdXQgYW55IGRlcGVuZGVuY3kgb24gaXQuXG4vLyBBdXRob3I6IEFhcm9uIElzaGliYXNoaSwgYS5pc2hpYmFzaGkubXVzaWNAZ21haWwuY29tXG52YXIgSW50ZXJhY3Rpb25Xb3JrYXJvdW5kRXZlbnRUeXBlID0gXCJwb2ludGVyZG93blwiO1xuLy8gT24gbW9zdCBtYWpvciBicm93c2VycywgYXVkaW8gY29udGV4dHMgbXVzdCBiZSByZXN1bWVkIG9yIGNyZWF0ZWQgb25jZSB0aGUgdXNlciBpbnRlcmFjdHMgd2l0aCB0aGUgcGFnZS5cbi8vIFNldHMgcHJvcGVyIGxpc3RlbmVycyB0byByZXN1bWUgdGhlIGNvbnRleHQgaWYgdGhlIGNvbnRleHQgaGFzIGJlZW4gc3VzcGVuZGVkIGR1ZSB0byB0aGlzIGNhdmVhdC5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcmFjdGlvbldvcmthcm91bmQoY29udGV4dCkge1xuICAgIGlmIChjb250ZXh0LnN0YXRlID09PSBcInJ1bm5pbmdcIilcbiAgICAgICAgcmV0dXJuOyAvLyBubyBuZWVkIHRvIGV4ZWN1dGUgaWYgcnVubmluZyBwcm9wZXJseVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEludGVyYWN0aW9uV29ya2Fyb3VuZEV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICBjb250ZXh0LnJlc3VtZSgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VtZWQgQXVkaW9Db250ZXh0LlwiKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEludGVyYWN0aW9uV29ya2Fyb3VuZEV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIHJlc3VtZSBBdWRpb0NvbnRleHQ6XCIsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEVmZmVjdENoYWluIH0gZnJvbSBcIi4vRWZmZWN0Q2hhaW5cIjtcbnZhciBTb3VuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTb3VuZChjb250ZXh0LCBzb3VuZE5vZGUsIHRhcmdldCkge1xuICAgICAgICB0aGlzLm1FZmZlY3RzID0gbmV3IEVmZmVjdENoYWluKGNvbnRleHQsIHRhcmdldCk7XG4gICAgICAgIHRoaXMubVNvdW5kID0gc291bmROb2RlO1xuICAgICAgICBpZiAodGhpcy5tU291bmQpIC8vIHNvbWUgU291bmRzIGRvIG5vdCBoYXZlIGFuIGlubmVyIHNvdXJjZSBvYmplY3RcbiAgICAgICAgICAgIHRoaXMubVNvdW5kLmNvbm5lY3QodGhpcy5tRWZmZWN0cy5pbnB1dCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VuZC5wcm90b3R5cGUsIFwiZWZmZWN0c1wiLCB7XG4gICAgICAgIC8vIEVmZmVjdCBDaGFpblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubUVmZmVjdHM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291bmQucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgICAgICAvLyBBdWRpb0NvbnRleHRcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1FZmZlY3RzLmNvbnRleHQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291bmQucHJvdG90eXBlLCBcInNvdXJjZVwiLCB7XG4gICAgICAgIC8vIFRoZSBpbm5lciBzb3VuZCBub2RlXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tU291bmQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291bmQucHJvdG90eXBlLCBcImdhaW5cIiwge1xuICAgICAgICAvLyBTaG9ydGN1dCB0byBwb3N0LWdhaW4gcGFyYW1ldGVyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tRWZmZWN0cy5nYWluLmdhaW47IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTb3VuZC5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLm1Tb3VuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tU291bmQgPSBudWxsO1xuICAgICAgICB0aGlzLm1FZmZlY3RzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tRWZmZWN0cyA9IG51bGw7XG4gICAgfTtcbiAgICBTb3VuZC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5tRWZmZWN0cy5jb25uZWN0KHRhcmdldCk7XG4gICAgfTtcbiAgICByZXR1cm4gU291bmQ7XG59KCkpO1xuZXhwb3J0IHsgU291bmQgfTtcbiIsIi8vIEFEU0hSIEVudmVsb3BlXG52YXIgRW52ZWxvcGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW52ZWxvcGUoY29udGV4dCwgb3B0cykge1xuICAgICAgICB0aGlzLm1Db250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5tVGFyZ2V0cyA9IFtdO1xuICAgICAgICBpZiAob3B0cylcbiAgICAgICAgICAgIHRoaXMuc2V0KG9wdHMpO1xuICAgICAgICBlbHNlIHsgLy8gZGVmYXVsdHNcbiAgICAgICAgICAgIHRoaXMubUF0dGFja1RpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5tQXR0YWNrTGV2ZWwgPSAxO1xuICAgICAgICAgICAgdGhpcy5tRGVjYXlUaW1lID0gLjU7XG4gICAgICAgICAgICB0aGlzLm1TdXN0YWluTGV2ZWwgPSAuMjU7XG4gICAgICAgICAgICB0aGlzLm1Ib2xkVGltZSA9IC4yNTtcbiAgICAgICAgICAgIHRoaXMubVJlbGVhc2VUaW1lID0gLjU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJhdHRhY2tUaW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1BdHRhY2tUaW1lOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGlzLm1BdHRhY2tUaW1lID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJhdHRhY2tMZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tQXR0YWNrTGV2ZWw7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMubUF0dGFja0xldmVsID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJkZWNheVRpbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubURlY2F5VGltZTsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgdGhpcy5tRGVjYXlUaW1lID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJzdXN0YWluTGV2ZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubVN1c3RhaW5MZXZlbDsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgdGhpcy5tU3VzdGFpbkxldmVsID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJob2xkVGltZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tSG9sZFRpbWU7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMubUhvbGRUaW1lID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudmVsb3BlLnByb3RvdHlwZSwgXCJyZWxlYXNlVGltZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tUmVsZWFzZVRpbWU7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMubVJlbGVhc2VUaW1lID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWRkIGEgcGFyYW1ldGVyIHRvIHRoZSBlbnZlbG9wZSdzIHRhcmdldHMuXG4gICAgICogQHBhcmFtIHBhcmFtXG4gICAgICovXG4gICAgRW52ZWxvcGUucHJvdG90eXBlLmFkZFRhcmdldCA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICB0aGlzLm1UYXJnZXRzLnB1c2gocGFyYW0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgcGFyYW1ldGVyIGZyb20gdGhlIGVudmVsb3BlJ3MgdGFyZ2V0c1xuICAgICAqIEBwYXJhbSBwYXJhbVxuICAgICAqL1xuICAgIEVudmVsb3BlLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1UYXJnZXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRoaXMubVRhcmdldHNbaV0sIHBhcmFtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubVRhcmdldHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGVudmVsb3BlIHZpYSBhbiBFbnZlbG9wZU9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSBvcHRzXG4gICAgICovXG4gICAgRW52ZWxvcGUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICB0aGlzLm1BdHRhY2tUaW1lID0gKF9hID0gb3B0cy5hdHRhY2tUaW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLm1BdHRhY2tUaW1lO1xuICAgICAgICB0aGlzLm1BdHRhY2tMZXZlbCA9IChfYiA9IG9wdHMuYXR0YWNrTGV2ZWwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMubUF0dGFja0xldmVsO1xuICAgICAgICB0aGlzLm1EZWNheVRpbWUgPSAoX2MgPSBvcHRzLmRlY2F5VGltZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGhpcy5tRGVjYXlUaW1lO1xuICAgICAgICB0aGlzLm1TdXN0YWluTGV2ZWwgPSAoX2QgPSBvcHRzLnN1c3RhaW5MZXZlbCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogdGhpcy5tU3VzdGFpbkxldmVsO1xuICAgICAgICB0aGlzLm1Ib2xkVGltZSA9IChfZSA9IG9wdHMuaG9sZFRpbWUpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IHRoaXMubUhvbGRUaW1lO1xuICAgICAgICB0aGlzLm1SZWxlYXNlVGltZSA9IChfZiA9IG9wdHMucmVsZWFzZVRpbWUpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IHRoaXMubVJlbGVhc2VUaW1lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIGVudmVsb3BlIG9uIGFsbCB0YXJnZXQgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gd2hlbiAtIFdoZW4gdG8gdHJpZ2dlci9hY3RpdmF0ZSB0aGUgZW52ZWxvcGUsIHJlbGF0aXZlIHRvIG5vdywgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBFbnZlbG9wZS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAod2hlbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAod2hlbiA9PT0gdm9pZCAwKSB7IHdoZW4gPSAwOyB9XG4gICAgICAgIC8vIEdyYWIgdGltaW5nc1xuICAgICAgICAvLyAuMDIgZXh0cmEgc2Vjb25kcyB0byBnaXZlIHRpbWUgZm9yIGdhaW4gdG8gc25hcCBiYWNrIHRvIHplcm8gd2l0aG91dCBwb3BwaW5nXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMubUNvbnRleHQuY3VycmVudFRpbWUgKyB3aGVuICsgLjAyO1xuICAgICAgICB2YXIgc3RhcnREZWNheSA9IGN1cnJlbnRUaW1lICsgdGhpcy5tQXR0YWNrVGltZTtcbiAgICAgICAgdmFyIHN0YXJ0UmVsZWFzZSA9IGN1cnJlbnRUaW1lICsgdGhpcy5tQXR0YWNrVGltZSArIHRoaXMubURlY2F5VGltZSArIHRoaXMubUhvbGRUaW1lO1xuICAgICAgICAvLyBTZXQgZW52ZWxvcGUgZm9yIGVhY2ggdGFyZ2V0IHBhcmFtXG4gICAgICAgIHRoaXMubVRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgIC8vIGluaXQgdmFsdWVcbiAgICAgICAgICAgIHBhcmFtLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhjdXJyZW50VGltZSk7XG4gICAgICAgICAgICBwYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAvLyBhdHRhY2tcbiAgICAgICAgICAgIHBhcmFtLnNldFRhcmdldEF0VGltZShfdGhpcy5tQXR0YWNrTGV2ZWwsIGN1cnJlbnRUaW1lLCBfdGhpcy5tQXR0YWNrVGltZSAqIC4xKTtcbiAgICAgICAgICAgIC8vIGRlY2F5XG4gICAgICAgICAgICBwYXJhbS5zZXRUYXJnZXRBdFRpbWUoX3RoaXMubVN1c3RhaW5MZXZlbCwgc3RhcnREZWNheSwgX3RoaXMubURlY2F5VGltZSAqIC4xKTtcbiAgICAgICAgICAgIC8vIHJlbGVhc2VcbiAgICAgICAgICAgIHBhcmFtLnNldFRhcmdldEF0VGltZSgwLCBzdGFydFJlbGVhc2UsIF90aGlzLm1SZWxlYXNlVGltZSAqIC4xKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW5jZWwgZWZmZWN0cyBvZiBhIHRyaWdnZXJlZCBlbnZlbG9wZSAoc2lkZSBlZmZlY3Q6IHdpbGwgYWxzbyBjYW5jZWwgYW55IG90aGVyIHNjaGVkdWxlZFxuICAgICAqIGNoYW5nZXMgdG8gdGhlIHRhcmdldCBwYXJhbWV0ZXJzKS5cbiAgICAgKiBAcGFyYW0gd2hlbiAtIFRpbWUgYWZ0ZXIgd2hpY2ggYWxsIGV2ZW50cyB3aWxsIGJlIGNhbmNlbGxlZCwgcmVsYXRpdmUgdG8gbm93IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgRW52ZWxvcGUucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICh3aGVuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh3aGVuID09PSB2b2lkIDApIHsgd2hlbiA9IDA7IH1cbiAgICAgICAgdGhpcy5tVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICAgICAgcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKF90aGlzLm1Db250ZXh0LmN1cnJlbnRUaW1lICsgd2hlbik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEVudmVsb3BlO1xufSgpKTtcbmV4cG9ydCB7IEVudmVsb3BlIH07XG4iLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IHsgU291bmQgfSBmcm9tIFwiLi9Tb3VuZFwiO1xuLy8gQ2xhc3MgbWVhbnQgZm9yIGxvbmdlciBzb3VuZHMgbGlrZSBtdXNpYywgYW1iaWVuY2UsIGV0Yy5cbi8vIEF1ZGlvTm9kZSBncmFwaDogc291cmNlIC0+IGdhaW5Ob2RlXG52YXIgTXVzaWMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE11c2ljLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE11c2ljKGNvbnRleHQsIHRhcmdldCwgdXJsKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBuZXcgTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlKGNvbnRleHQsIHtcbiAgICAgICAgICAgIG1lZGlhRWxlbWVudDogdXJsID8gbmV3IEF1ZGlvKHVybCkgOiBuZXcgQXVkaW8oKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbnRleHQsIHNvdXJjZSwgdGFyZ2V0KSB8fCB0aGlzO1xuICAgIH1cbiAgICBNdXNpYy5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LnNyYyA9IHVybDtcbiAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LmxvYWQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBNdXNpYy5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQuc3JjID0gXCJcIjtcbiAgICB9O1xuICAgIE11c2ljLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQucGxheSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zb3VyY2U7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gUGF1c2VzIGF1ZGlvIGFuZCBzZXRzIGN1cnJlbnRUaW1lIHRvIDBcbiAgICBNdXNpYy5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LnBhdXNlKCk7XG4gICAgICAgIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IDA7XG4gICAgfTtcbiAgICBNdXNpYy5wcm90b3R5cGUuc2V0UGF1c2UgPSBmdW5jdGlvbiAocGF1c2UpIHtcbiAgICAgICAgaWYgKHBhdXNlKVxuICAgICAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LnBhdXNlKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5wbGF5KCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTXVzaWMucHJvdG90eXBlLCBcInBhdXNlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5wYXVzZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNdXNpYy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UubWVkaWFFbGVtZW50LnNyYyA9IFwiXCI7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIE11c2ljO1xufShTb3VuZCkpO1xuZXhwb3J0IHsgTXVzaWMgfTtcbiIsInZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbi8qKlxuICogQ2xhc3MgdGhhdCBzdG9yZXMgYW5kIGludm9rZXMgY2FsbGJhY2suIFNpbWlsYXIgdG8gdGhlIHN1YmplY3QgaW4gdGhlIE9ic2VydmVyIHBhdHRlcm4uXG4gKiBDYW4gc3RvcmUgJ3RoaXMnIGNvbnRleHQsIGlmIG5lZWRlZCwgZS5nLiBjbGFzcyBmdW5jdGlvbiBwZXJmb3JtZWQgb24gYW4gaW5zdGFuY2UuXG4gKi9cbnZhciBEZWxlZ2F0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWxlZ2F0ZSgpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICB9XG4gICAgRGVsZWdhdGUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaCh7IGNvbnRleHQ6IGNvbnRleHQsIGNhbGxiYWNrOiBjYWxsYmFjayB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGlzdGVuZXIuIE11c3QgYmUgY2FsbGVkIHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIGNhbGxlZCBmcm9tIERlbGVnYXRlLmFkZExpc3RlbmVyLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBGdW5jdGlvbiB0byBzZXRcbiAgICAgKiBAcGFyYW0gY29udGV4dCAndGhpcycgY29udGV4dC4gKEFycm93IGZ1bmN0aW9ucyBhdXRvbWF0aWNhbGx5IGNhcHR1cmUgJ3RoaXMnLCBhbmQgZG8gbm90XG4gICAgICogbmVlZCB0aGlzIHBhcmFtZXRlciBzZXQuKVxuICAgICAqL1xuICAgIERlbGVnYXRlLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaXModGhpcy5jYWxsYmFja3NbaV0uY2FsbGJhY2ssIGNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAgIChjb250ZXh0ID8gT2JqZWN0LmlzKHRoaXMuY2FsbGJhY2tzW2ldLmNvbnRleHQsIGNvbnRleHQpIDogdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRGVsZWdhdGUucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2FsbGJhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFja3NbaV0uY29udGV4dClcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLmNhbGxiYWNrc1tpXS5jYWxsYmFjaykuY2FsbC5hcHBseShfYSwgX19zcHJlYWRBcnJheShbdGhpcy5jYWxsYmFja3NbaV0uY29udGV4dF0sIGFyZ3MsIGZhbHNlKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgKF9iID0gdGhpcy5jYWxsYmFja3NbaV0pLmNhbGxiYWNrLmFwcGx5KF9iLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlbGVnYXRlLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEZWxlZ2F0ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gICAgfTtcbiAgICByZXR1cm4gRGVsZWdhdGU7XG59KCkpO1xuZXhwb3J0IHsgRGVsZWdhdGUgfTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBsb2FkQXVkaW9CdWZmZXIoY29udGV4dCwgdXJsKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzLCBidWY7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKHVybCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXMuYXJyYXlCdWZmZXIoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBidWYgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjb250ZXh0LmRlY29kZUF1ZGlvRGF0YShidWYpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLy8gQ2xhc3MgaW50ZW5kZWQgZm9yIHNob3J0IG9uZS1zaG90IHNvdW5kIGVmZmVjdHMuXG4vLyBJZiB5b3UgbmVlZCBsb25nZXIgYXVkaW8gd2l0aCBtb3JlIGNvbnRyb2xzIGZvciBtdXNpYyBvciBhbWJpZW5jZSwgcGxlYXNlIHVzZSB0aGUgYE11c2ljYCBjbGFzcy5cbmltcG9ydCB7IERlbGVnYXRlIH0gZnJvbSBcIi4vRGVsZWdhdGVcIjtcbmltcG9ydCB7IGxvYWRBdWRpb0J1ZmZlciB9IGZyb20gXCIuL0xvYWRpbmdcIjtcbmltcG9ydCB7IFNvdW5kIH0gZnJvbSBcIi4vU291bmRcIjtcbnZhciBTb3VuZEVmZmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU291bmRFZmZlY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU291bmRFZmZlY3QoY29udGV4dCwgdGFyZ2V0LCB1cmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29udGV4dCwgbnVsbCwgdGFyZ2V0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGJ1ZmZlcjogbnVsbCxcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgcGxheWJhY2tSYXRlOiAxLFxuICAgICAgICAgICAgZGV0dW5lOiAwLFxuICAgICAgICAgICAgbG9vcFN0YXJ0OiAwLFxuICAgICAgICAgICAgbG9vcEVuZDogMFxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vbmVuZGVkID0gbmV3IERlbGVnYXRlO1xuICAgICAgICBfdGhpcy5vbmVuZGVkSGFuZGxlciA9IF90aGlzLm9uZW5kZWRIYW5kbGVyLmJpbmQoX3RoaXMpO1xuICAgICAgICBpZiAodXJsKVxuICAgICAgICAgICAgX3RoaXMubG9hZCh1cmwpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VuZEVmZmVjdC5wcm90b3R5cGUsIFwiaXNMb2FkZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMuYnVmZmVyICE9PSBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJsb29waW5nXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmRlZmF1bHRzLmxvb3A7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMuZGVmYXVsdHMubG9vcCA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJsb29wU3RhcnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMubG9vcFN0YXJ0OyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGlzLmRlZmF1bHRzLmxvb3BTdGFydCA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJsb29wRW5kXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmRlZmF1bHRzLmxvb3BFbmQ7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMuZGVmYXVsdHMubG9vcEVuZCA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJwbGF5YmFja1JhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMucGxheWJhY2tSYXRlOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGlzLmRlZmF1bHRzLnBsYXliYWNrUmF0ZSA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdW5kRWZmZWN0LnByb3RvdHlwZSwgXCJkZXR1bmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMuZGV0dW5lOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGlzLmRlZmF1bHRzLmRldHVuZSA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU291bmRFZmZlY3QucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGxvYWRBdWRpb0J1ZmZlcih0aGlzLmNvbnRleHQsIHVybClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhQnVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWZhdWx0cy5idWZmZXIgPSBhQnVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTb3VuZEVmZmVjdC5wcm90b3R5cGUub25lbmRlZEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHRoaXMub25lbmRlZC5pbnZva2UoZXZ0LnRhcmdldCwgdGhpcyk7XG4gICAgfTtcbiAgICBTb3VuZEVmZmVjdC5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRzLmJ1ZmZlciA9IG51bGw7IH07XG4gICAgLyoqXG4gICAgICogRmlyZSBhbmQgZm9yZ2V0LiBQbGVhc2UgZG8gbm90IGNhbGwgc3RhcnQgb24gdGhlIHJldHVybmVkIEF1ZGlvQnVmZmVyU291cmNlTm9kZS5cbiAgICAgKiBAcGFyYW0gd2hlbiB3aGVuIHRvIHN0YXJ0IHBsYXlpbmcsIGluIHNlY29uZHMsIHJlbGF0aXZlIHRvIG5vd1xuICAgICAqIEBwYXJhbSBvZmZzZXQgd2hlcmUgaW4gdGhlIGF1ZGlvIGZpbGUgdG8gc3RhcnQgcGxheWluZywgaW4gc2Vjb25kc1xuICAgICAqIEBwYXJhbSBkdXJhdGlvbiBob3cgbG9uZyB0byBwbGF5IHRoZSBmaWxlLCBpbiBzZWNvbmRzLiBJZiBub3Qgc3BlY2lmaWVkLCBwbGF5cyB0aGUgd2hvbGUgZmlsZS5cbiAgICAgKi9cbiAgICBTb3VuZEVmZmVjdC5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uICh3aGVuLCBvZmZzZXQsIGR1cmF0aW9uKSB7XG4gICAgICAgIGlmICh3aGVuID09PSB2b2lkIDApIHsgd2hlbiA9IDA7IH1cbiAgICAgICAgaWYgKG9mZnNldCA9PT0gdm9pZCAwKSB7IG9mZnNldCA9IDA7IH1cbiAgICAgICAgdmFyIHNyY05vZGUgPSAodGhpcy5kZWZhdWx0cykgP1xuICAgICAgICAgICAgbmV3IEF1ZGlvQnVmZmVyU291cmNlTm9kZSh0aGlzLmNvbnRleHQsIHRoaXMuZGVmYXVsdHMpIDpcbiAgICAgICAgICAgIG5ldyBBdWRpb0J1ZmZlclNvdXJjZU5vZGUodGhpcy5jb250ZXh0KTtcbiAgICAgICAgc3JjTm9kZS5jb25uZWN0KHRoaXMuZWZmZWN0cy5pbnB1dCk7XG4gICAgICAgIHNyY05vZGUub25lbmRlZCA9IHRoaXMub25lbmRlZEhhbmRsZXI7XG4gICAgICAgIGlmIChkdXJhdGlvbiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgc3JjTm9kZS5zdGFydCh0aGlzLmNvbnRleHQuY3VycmVudFRpbWUgKyB3aGVuLCBvZmZzZXQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzcmNOb2RlLnN0YXJ0KHRoaXMuY29udGV4dC5jdXJyZW50VGltZSArIHdoZW4sIG9mZnNldCwgZHVyYXRpb24pO1xuICAgICAgICByZXR1cm4gc3JjTm9kZTtcbiAgICB9O1xuICAgIHJldHVybiBTb3VuZEVmZmVjdDtcbn0oU291bmQpKTtcbmV4cG9ydCB7IFNvdW5kRWZmZWN0IH07XG4iLCJpbXBvcnQgeyBCdXNNZ3IgfSBmcm9tIFwiLi9CdXNNZ3JcIjtcbmltcG9ydCB7IGludGVyYWN0aW9uV29ya2Fyb3VuZCB9IGZyb20gXCIuL0ludGVyYWN0aW9uXCI7XG5pbXBvcnQgeyBNb25vU3ludGggfSBmcm9tIFwiLi9Nb25vU3ludGhcIjtcbmltcG9ydCB7IE11c2ljIH0gZnJvbSBcIi4vTXVzaWNcIjtcbmltcG9ydCB7IFNvdW5kRWZmZWN0IH0gZnJvbSBcIi4vU291bmRFZmZlY3RcIjtcbnZhciBBdWRpb0VuZ2luZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBdWRpb0VuZ2luZSgpIHtcbiAgICAgICAgdGhpcy5tQ29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMubUJ1c3NlcyA9IG51bGw7XG4gICAgICAgIHRoaXMubVNvdW5kcyA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMubU11c2ljID0gbmV3IE1hcDtcbiAgICAgICAgdGhpcy5tU3ludGhzID0gbmV3IE1hcDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvRW5naW5lLnByb3RvdHlwZSwgXCJsaXN0ZW5lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tQ29udGV4dC5saXN0ZW5lcjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdWRpb0VuZ2luZS5wcm90b3R5cGUsIFwiYnVzc2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1CdXNzZXM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9FbmdpbmUucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubUNvbnRleHQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBBdWRpb0VuZ2luZS5wcm90b3R5cGUuZ2V0U291bmQgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Tb3VuZHMuZ2V0KHVybCkgfHwgbnVsbDtcbiAgICB9O1xuICAgIEF1ZGlvRW5naW5lLnByb3RvdHlwZS5nZXRNdXNpYyA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubU11c2ljLmdldCh1cmwpIHx8IG51bGw7XG4gICAgfTtcbiAgICBBdWRpb0VuZ2luZS5wcm90b3R5cGUuZ2V0U3ludGggPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tU3ludGhzLmdldChuYW1lKSB8fCBudWxsO1xuICAgIH07XG4gICAgQXVkaW9FbmdpbmUucHJvdG90eXBlLmxvYWRTb3VuZCA9IGZ1bmN0aW9uICh1cmwsIGJ1c05hbWUpIHtcbiAgICAgICAgdmFyIHNvdW5kID0gdGhpcy5tU291bmRzLmdldCh1cmwpO1xuICAgICAgICBpZiAoIXNvdW5kKSB7XG4gICAgICAgICAgICB2YXIgYnVzID0gYnVzTmFtZSA/IHRoaXMubUJ1c3Nlcy5nZXQoYnVzTmFtZSkgOiB0aGlzLm1CdXNzZXMubWFzdGVyO1xuICAgICAgICAgICAgaWYgKCFidXMpXG4gICAgICAgICAgICAgICAgYnVzID0gdGhpcy5tQnVzc2VzLm1hc3RlcjtcbiAgICAgICAgICAgIHNvdW5kID0gbmV3IFNvdW5kRWZmZWN0KHRoaXMuY29udGV4dCwgYnVzLmlucHV0KTtcbiAgICAgICAgICAgIHRoaXMubVNvdW5kcy5zZXQodXJsLCBzb3VuZCk7XG4gICAgICAgICAgICBzb3VuZC5sb2FkKHVybClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdW5kO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdW5kO1xuICAgIH07XG4gICAgQXVkaW9FbmdpbmUucHJvdG90eXBlLmxvYWRNdXNpYyA9IGZ1bmN0aW9uICh1cmwsIGJ1c05hbWUpIHtcbiAgICAgICAgdmFyIG11c2ljID0gdGhpcy5tTXVzaWMuZ2V0KHVybCk7XG4gICAgICAgIGlmICghbXVzaWMpIHtcbiAgICAgICAgICAgIHZhciBidXMgPSBidXNOYW1lID8gdGhpcy5tQnVzc2VzLmdldChidXNOYW1lKSA6IHRoaXMubUJ1c3Nlcy5tYXN0ZXI7XG4gICAgICAgICAgICBpZiAoIWJ1cylcbiAgICAgICAgICAgICAgICBidXMgPSB0aGlzLm1CdXNzZXMubWFzdGVyO1xuICAgICAgICAgICAgbXVzaWMgPSBuZXcgTXVzaWModGhpcy5jb250ZXh0LCBidXMuaW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5tTXVzaWMuc2V0KHVybCwgbXVzaWMpO1xuICAgICAgICAgICAgbXVzaWMubG9hZCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtdXNpYztcbiAgICB9O1xuICAgIEF1ZGlvRW5naW5lLnByb3RvdHlwZS5sb2FkU3ludGggPSBmdW5jdGlvbiAobmFtZSwgYnVzTmFtZSwgb3B0cykge1xuICAgICAgICBpZiAoYnVzTmFtZSA9PT0gdm9pZCAwKSB7IGJ1c05hbWUgPSBcIm1hc3RlclwiOyB9XG4gICAgICAgIHZhciBzeW50aCA9IHRoaXMubVN5bnRocy5nZXQobmFtZSk7XG4gICAgICAgIGlmICghc3ludGgpIHtcbiAgICAgICAgICAgIHZhciBidXMgPSB0aGlzLm1CdXNzZXMuZ2V0KGJ1c05hbWUpO1xuICAgICAgICAgICAgc3ludGggPSBuZXcgTW9ub1N5bnRoKHRoaXMuY29udGV4dCwgYnVzLmlucHV0LCBvcHRzKTtcbiAgICAgICAgICAgIHRoaXMubVN5bnRocy5zZXQobmFtZSwgc3ludGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzeW50aDtcbiAgICB9O1xuICAgIEF1ZGlvRW5naW5lLnByb3RvdHlwZS53YXNJbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tQ29udGV4dCAhPT0gbnVsbDtcbiAgICB9O1xuICAgIEF1ZGlvRW5naW5lLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb250ZXh0ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdWRpb0NvbnRleHQgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGludGVyYWN0aW9uV29ya2Fyb3VuZChjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tQnVzc2VzID0gbmV3IEJ1c01ncihjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgQXVkaW9FbmdpbmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubUJ1c3Nlcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMubU11c2ljLmZvckVhY2goZnVuY3Rpb24gKG11c2ljKSB7IHJldHVybiBtdXNpYy5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLm1NdXNpYy5jbGVhcigpO1xuICAgICAgICB0aGlzLm1NdXNpYyA9IG51bGw7XG4gICAgICAgIHRoaXMubVNvdW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChzZngpIHsgcmV0dXJuIHNmeC5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLm1Tb3VuZHMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5tU291bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5tU3ludGhzLmZvckVhY2goZnVuY3Rpb24gKHN5bnRoKSB7IHJldHVybiBzeW50aC5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLm1TeW50aHMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5tU3ludGhzID0gbnVsbDtcbiAgICAgICAgdGhpcy5tQ29udGV4dCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQXVkaW9FbmdpbmU7XG59KCkpO1xuZXhwb3J0IHsgQXVkaW9FbmdpbmUgfTtcbiIsImltcG9ydCB7IEtleWJvYXJkIH0gZnJvbSBcIi4vS2V5Ym9hcmRcIjtcbmltcG9ydCB7IEF1ZGlvRW5naW5lIH0gZnJvbSBcIi4vV2ViQUFcIjtcbnZhciBkZWZhdWx0Q29uZmlnID0ge1xuICAgIHRpY2tTcGVlZDogMzMuMzQsXG59O1xudmFyIEdhbWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR2FtZShjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IGRlZmF1bHRDb25maWc7IH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLm1UaWNrU3BlZWQgPSAoX2EgPSBjb25maWcudGlja1NwZWVkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0Q29uZmlnLnRpY2tTcGVlZDtcbiAgICAgICAgdGhpcy5tS2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQ7XG4gICAgICAgIHRoaXMubUF1ZGlvID0gbmV3IEF1ZGlvRW5naW5lO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR2FtZS5wcm90b3R5cGUsIFwia2V5Ym9hcmRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubUtleWJvYXJkOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdhbWUucHJvdG90eXBlLCBcImF1ZGlvXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1BdWRpbzsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEdhbWUucHJvdG90eXBlLnF1aXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubUlzUnVubmluZyA9IGZhbHNlO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdhbWUucHJvdG90eXBlLCBcImlzUnVubmluZ1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tSXNSdW5uaW5nOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgR2FtZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm1Jc1J1bm5pbmcgPSB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgdGhpcy5tTGFzdFRpY2tzID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7IC8vIGZpcnN0IHJlbmRlciBwYXNzIHRvIHNob3cgd2hhdCB3YXMgaW5pdGlhbGl6ZWRcbiAgICAgICAgdGhpcy5tSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5ydW5PbmVGcmFtZSgpOyB9LCB0aGlzLm1UaWNrU3BlZWQpO1xuICAgIH07XG4gICAgR2FtZS5wcm90b3R5cGUucnVuT25lRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5tSW50ZXJ2YWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50VGlja3MgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbHRhVGltZSA9IGN1cnJlbnRUaWNrcyAtIHRoaXMubUxhc3RUaWNrcztcbiAgICAgICAgdGhpcy5wcm9jZXNzSW5wdXQoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoZGVsdGFUaW1lKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5rZXlib2FyZC51cGRhdGUoZGVsdGFUaW1lKTtcbiAgICAgICAgdGhpcy5tTGFzdFRpY2tzID0gY3VycmVudFRpY2tzO1xuICAgIH07XG4gICAgR2FtZS5wcm90b3R5cGUucHJvY2Vzc0lucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgO1xuICAgIHJldHVybiBHYW1lO1xufSgpKTtcbmV4cG9ydCB7IEdhbWUgfTtcbiIsIi8qKlxuICogUmVwcmVzZW50cyAyRCByZWN0YW5ndWxhciBncmlkIHRoYXQgaXMgZmlsbC1hYmxlIHdpdGggbnVtZXJpYyBkYXRhICh1aW50OClcbiAqXG4gKiBVc2VzIHR5cGVkIGFycmF5IGZvciByYXBpZCBhY2Nlc3Mgb2YgY29udGlndW91cyBkYXRhXG4gKi9cbnZhciBHcmlkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSByb3dzICAtIG51bWJlciBvZiByb3dzXG4gICAgICogQHBhcmFtIGNvbHMgIC0gbnVtYmVyIG9mIGNvbHNcbiAgICAgKiBAcGFyYW0gYXJyICAgLSBpZiBwcm92aWRlZCwgaXQgd2lsbCBiZSBjb3BpZWQgaW50byB0aGUgaW50ZXJuYWwgZ3JpZC5cbiAgICAgKiAoT3duZXJzaGlwIG9mIEFycmF5TGlrZSBtYWludGFpbmVkIGJ5IHVzZXIpLiBQbGVhc2UgZW5zdXJlIHRoYXRcbiAgICAgKiBgd2lkdGggKiBoZWlnaHQgPT09IGFyci5sZW5ndGhgXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JpZChyb3dzLCBjb2xzLCBhcnIpIHtcbiAgICAgICAgdGhpcy5ncmlkID0gYXJyID8gbmV3IFVpbnQzMkFycmF5KGFycikgOiBuZXcgVWludDMyQXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICB0aGlzLnJvd0NvdW50ID0gcm93cztcbiAgICAgICAgdGhpcy5jb2xDb3VudCA9IGNvbHM7XG4gICAgICAgIGlmIChhcnIpXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydChhcnIubGVuZ3RoID09PSByb3dzICogY29scyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhbGwgc3BhY2VzIHRvIDBcbiAgICAgKi9cbiAgICBHcmlkLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyaWQubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB0aGlzLmdyaWRbaV0gPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogKkdldHMgdGhlIGdyaWQncyB3aWR0aCBhdCB0aGUgcHJvamVjdGVkIGFuZ2xlKlxuICAgICAqIEBwYXJhbSBhbmdsZSAtIHRoZSBhbmdsZSBhdCB3aGljaCB0byBwcm9qZWN0IHRoZSBncmlkIHdoZW4gY2FsY3VsYXRpbmcgd2lkdGguXG4gICAgICogQW5nbGUgaXMgY2FsY3VsYXRlZCBhcyBzbzogYGFuZ2xlICogOTBkZWcgY2xvY2t3aXNlYC4gRGVmYXVsdD1gMGAuXG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XG4gICAgICAgIHJldHVybiAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMuY29sQ291bnQgOiB0aGlzLnJvd0NvdW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogKkdldHMgdGhlIGdyaWQncyBoZWlnaHQgYXQgdGhlIHByb2plY3RlZCBhbmdsZSpcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSB0aGUgYW5nbGUgYXQgd2hpY2ggdG8gcHJvamVjdCB0aGUgZ3JpZCB3aGVuIGNhbGN1bGF0aW5nIHdpZHRoLlxuICAgICAqIEFuZ2xlIGlzIGNhbGN1bGF0ZWQgYXMgc286IGBhbmdsZSAqIDkwZGVnIGNsb2Nrd2lzZWAuIERlZmF1bHQ9YDBgLlxuICAgICAqL1xuICAgIEdyaWQucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIChhbmdsZSAlIDIgPT09IDApID8gdGhpcy5yb3dDb3VudCA6IHRoaXMuY29sQ291bnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNZXJnZSBhbm90aGVyIEdyaWQgaW50byB0aGlzIG9uZSBpZiBpdCBjb250YWlucyBub24gMCB2YWx1ZXMuXG4gICAgICogSXQgd2lsbCBvdmVyd3JpdGUgYW55dGhpbmcgYXQgdGhlIGxvY2F0aW9uLlxuICAgICAqIEBwYXJhbSBzdGFydFJvdyAgIC0gcm93IGluIHRoaXMgR3JpZCBhdCB3aGljaCB0byBwZXJmb3JtIHRoZSBtZXJnZVxuICAgICAqIEBwYXJhbSBzdGFydENvbCAgIC0gY29sdW1uIGluIHRoaXMgR3JpZCBhdCB3aGljaCB0byBwZXJmb3JtIHRoZSBtZXJnZVxuICAgICAqIEBwYXJhbSBvdGhlciAgICAgIC0gdGhlIG90aGVyIEdyaWQgdGhhdCB3aWxsIG1lcmdlIGludG8gdGhpcyBvbmUuXG4gICAgICogQHBhcmFtIG90aGVyQW5nbGUgLSB0aGUgYW5nbGUgYXQgd2hpY2ggdG8gdHJhbnNmb3JtIHRoZSBvdGhlciBHcmlkIHdoaWxlIHBlcmZvcm1pbmcgdGhlIG1lcmdlLlxuICAgICAqIERlZmF1bHQ6IDAgKG5vIHRyYW5zZm9ybWF0aW9uKS5cbiAgICAgKi9cbiAgICBHcmlkLnByb3RvdHlwZS5tZXJnZUludG8gPSBmdW5jdGlvbiAoc3RhcnRSb3csIHN0YXJ0Q29sLCBvdGhlciwgb3RoZXJBbmdsZSkge1xuICAgICAgICBpZiAob3RoZXJBbmdsZSA9PT0gdm9pZCAwKSB7IG90aGVyQW5nbGUgPSAwOyB9XG4gICAgICAgIHZhciByb3dDb3VudCA9IG90aGVyLmdldEhlaWdodChvdGhlckFuZ2xlKTtcbiAgICAgICAgdmFyIGNvbENvdW50ID0gb3RoZXIuZ2V0V2lkdGgob3RoZXJBbmdsZSk7XG4gICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IHJvd0NvdW50OyArK3Jvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgY29sQ291bnQ7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyVmFsID0gb3RoZXIuZ2V0KHJvdywgY29sLCBvdGhlckFuZ2xlKTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJWYWwgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQocm93ICsgc3RhcnRSb3csIGNvbCArIHN0YXJ0Q29sLCBvdGhlclZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsZWZ0LW1vc3QgY29sdW1uIHdoZXJlIHRoZXJlIGlzIGEgbm9uLXplcm8gdmFsdWUgaW4gdGhpcyBncmlkXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gdGhlIGFuZ2xlIGF0IHdoaWNoIHRvIHByb2plY3QgdGhlIGdyaWQuIChhbmdsZSAqIDkwZGVnIGNsb2Nrd2lzZSlcbiAgICAgKiBAcmV0dXJucyByaWdodC1tb3N0IHJvdywgc3RhcnRpbmcgZnJvbSB0aGUgMCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgbGVmdC1tb3N0IHJvdy5cbiAgICAgKiBJZiB0aGVyZSBpcyBubyBub24temVybyB2YWx1ZSBpbiB0aGUgZ3JpZCwgLTEgaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUubGVmdE1vc3QgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XG4gICAgICAgIHZhciByb3dDb3VudCA9IChhbmdsZSAlIDIgPT09IDApID8gdGhpcy5yb3dDb3VudCA6IHRoaXMuY29sQ291bnQ7XG4gICAgICAgIHZhciBjb2xDb3VudCA9IChhbmdsZSAlIDIgPT09IDApID8gdGhpcy5jb2xDb3VudCA6IHRoaXMucm93Q291bnQ7XG4gICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IGNvbENvdW50OyArK2NvbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgcm93Q291bnQ7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KHJvdywgY29sLCBhbmdsZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmlnaHQtbW9zdCBjb2x1bW4gd2hlcmUgdGhlcmUgaXMgYSBub24temVybyB2YWx1ZSBpbiB0aGlzIGdyaWRcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSB0aGUgYW5nbGUgYXQgd2hpY2ggdG8gcHJvamVjdCB0aGUgZ3JpZC4gKGFuZ2xlICogOTBkZWcgY2xvY2t3aXNlKVxuICAgICAqIEByZXR1cm5zIHJpZ2h0LW1vc3Qgcm93LCBzdGFydGluZyBmcm9tIHRoZSAwLCB3aGljaCByZXByZXNlbnRzIHRoZSBsZWZ0LW1vc3Qgcm93LlxuICAgICAqIElmIHRoZXJlIGlzIG5vIG5vbi16ZXJvIHZhbHVlIGluIHRoZSBncmlkLCAtMSBpcyByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBHcmlkLnByb3RvdHlwZS5yaWdodE1vc3QgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XG4gICAgICAgIHZhciByb3dDb3VudCA9IChhbmdsZSAlIDIgPT09IDApID8gdGhpcy5yb3dDb3VudCA6IHRoaXMuY29sQ291bnQ7XG4gICAgICAgIHZhciBjb2xDb3VudCA9IChhbmdsZSAlIDIgPT09IDApID8gdGhpcy5jb2xDb3VudCA6IHRoaXMucm93Q291bnQ7XG4gICAgICAgIGZvciAodmFyIGNvbCA9IGNvbENvdW50IC0gMTsgY29sID49IDA7IC0tY29sKSB7XG4gICAgICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCByb3dDb3VudDsgKytyb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQocm93LCBjb2wsIGFuZ2xlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0b3AtbW9zdCByb3cgd2hlcmUgdGhlcmUgaXMgYSBub24temVybyB2YWx1ZSBpbiB0aGlzIGdyaWRcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSB0aGUgYW5nbGUgYXQgd2hpY2ggdG8gcHJvamVjdCB0aGUgZ3JpZC4gKGFuZ2xlICogOTBkZWcgY2xvY2t3aXNlKVxuICAgICAqIEByZXR1cm5zIHRvcC1tb3N0IHJvdywgc3RhcnRpbmcgZnJvbSAwLCB3aGljaCByZXByZXNlbnRzIHRoZSB0b3Agcm93LlxuICAgICAqIElmIHRoZXJlIGlzIG5vIG5vbi16ZXJvIHZhbHVlIGluIHRoZSBncmlkLCByb3dDb3VudC0xIGlzIHJldHVybmVkLlxuICAgICAqL1xuICAgIEdyaWQucHJvdG90eXBlLnRvcE1vc3QgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XG4gICAgICAgIHZhciByb3dDb3VudCA9IChhbmdsZSAlIDIgPT09IDApID8gdGhpcy5yb3dDb3VudCA6IHRoaXMuY29sQ291bnQ7XG4gICAgICAgIHZhciBjb2xDb3VudCA9IChhbmdsZSAlIDIgPT09IDApID8gdGhpcy5jb2xDb3VudCA6IHRoaXMucm93Q291bnQ7XG4gICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IHJvd0NvdW50OyArK3Jvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgY29sQ291bnQ7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KHJvdywgY29sLCBhbmdsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdG9wLW1vc3Qgcm93IHdoZXJlIHRoZXJlIGlzIGEgbm9uLXplcm8gdmFsdWUgaW4gdGhpcyBncmlkXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gdGhlIGFuZ2xlIGF0IHdoaWNoIHRvIHByb2plY3QgdGhlIGdyaWQuIChhbmdsZSAqIDkwZGVnIGNsb2Nrd2lzZSlcbiAgICAgKiBAcmV0dXJucyB0b3AtbW9zdCByb3csIHN0YXJ0aW5nIGZyb20gMCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgdG9wIHJvdy5cbiAgICAgKiBJZiB0aGVyZSBpcyBubyBub24temVybyB2YWx1ZSBpbiB0aGUgZ3JpZCwgcm93Q291bnQtMSBpcyByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBHcmlkLnByb3RvdHlwZS5ib3R0b21Nb3N0ID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICB2YXIgcm93Q291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMucm93Q291bnQgOiB0aGlzLmNvbENvdW50O1xuICAgICAgICB2YXIgY29sQ291bnQgPSAoYW5nbGUgJSAyID09PSAwKSA/IHRoaXMuY29sQ291bnQgOiB0aGlzLnJvd0NvdW50O1xuICAgICAgICBmb3IgKHZhciByb3cgPSByb3dDb3VudCAtIDE7IHJvdyA+PSAwOyAtLXJvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgY29sQ291bnQ7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KHJvdywgY29sLCBhbmdsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG90aGVyICAgICAgIC0gb3RoZXIgZ3JpZFxuICAgICAqIEBwYXJhbSBzdGFydFJvdyAgICAtIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IGNoZWNraW5nIGF0IGluIG90aGVyIEdyaWRcbiAgICAgKiBAcGFyYW0gc3RhcnRDb2x1bW4gLSBjb2x1bW4gZnJvbSB3aGljaCB0byBzdGFydCBjaGVja2luZyBpbiBvdGhlciBHcmlkXG4gICAgICogQHBhcmFtIHRoaXNBbmdsZSAgIC0gYW5nbGUgYXQgd2hpY2ggY2FsbGluZyBHcmlkIG9iamVjdCB3aWxsIGJlIHRlc3RlZC5cbiAgICAgKiBUcmFuc2Zvcm1hdGlvbiB3aWxsIGJlOiA5MCAqIGFuZ2xlLCBpbiBkZWdyZWVzIGNsb2Nrd2lzZS5cbiAgICAgKiBOZWdhdGl2ZSB2YWx1ZXMgd2lsbCByZXN1bHQgaW4gYW5nbGUgPSAwLlxuICAgICAqIEBwYXJhbSBvdGhlckFuZ2xlICAtIGFuZ2xlIGF0IHdoaWNoIG90aGVyIEdyaWQgb2JqZWN0IHdpbGwgYmUgdGVzdGVkXG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChvdGhlciwgc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCB0aGlzQW5nbGUsIG90aGVyQW5nbGUpIHtcbiAgICAgICAgaWYgKHN0YXJ0Um93ID09PSB2b2lkIDApIHsgc3RhcnRSb3cgPSAwOyB9XG4gICAgICAgIGlmIChzdGFydENvbHVtbiA9PT0gdm9pZCAwKSB7IHN0YXJ0Q29sdW1uID0gMDsgfVxuICAgICAgICBpZiAodGhpc0FuZ2xlID09PSB2b2lkIDApIHsgdGhpc0FuZ2xlID0gMDsgfVxuICAgICAgICBpZiAob3RoZXJBbmdsZSA9PT0gdm9pZCAwKSB7IG90aGVyQW5nbGUgPSAwOyB9XG4gICAgICAgIHZhciByb3dDb3VudCA9ICh0aGlzQW5nbGUgJSAyID09PSAwKSA/IHRoaXMucm93Q291bnQgOiB0aGlzLmNvbENvdW50O1xuICAgICAgICB2YXIgY29sQ291bnQgPSAodGhpc0FuZ2xlICUgMiA9PT0gMCkgPyB0aGlzLmNvbENvdW50IDogdGhpcy5yb3dDb3VudDtcbiAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgcm93Q291bnQ7ICsrcm93KSB7XG4gICAgICAgICAgICBpZiAocm93ICsgc3RhcnRSb3cgPj0gb3RoZXIucm93Q291bnQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAocm93ICsgc3RhcnRSb3cgPCAwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgY29sQ291bnQ7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbCArIHN0YXJ0Q29sdW1uID49IG90aGVyLmNvbENvdW50KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoY29sICsgc3RhcnRDb2x1bW4gPCAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQocm93LCBjb2wsIHRoaXNBbmdsZSkgIT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIuZ2V0KHJvdyArIHN0YXJ0Um93LCBjb2wgKyBzdGFydENvbHVtbiwgb3RoZXJBbmdsZSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JpZCBvYmplY3QgdGhhdCB3aWxsIGJlIHJvdGF0ZWRcbiAgICAgKiBAcGFyYW0gYW5nbGVcbiAgICAgKi9cbiAgICBHcmlkLnByb3RvdHlwZS5jcmVhdGVSb3RhdGVkID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIGlmIChhbmdsZSA9PT0gMCkgeyAvLyBqdXN0IGNvcHkgZ3JpZCBpZiBubyB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBHcmlkKHRoaXMucm93Q291bnQsIHRoaXMuY29sQ291bnQsIHRoaXMuZ3JpZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyciA9IG5ldyBBcnJheSh0aGlzLnJvd0NvdW50ICogdGhpcy5jb2xDb3VudCk7XG4gICAgICAgIHZhciByb3dDb3VudCA9IChhbmdsZSAlIDIgPT09IDApID8gdGhpcy5yb3dDb3VudCA6IHRoaXMuY29sQ291bnQ7XG4gICAgICAgIHZhciBjb2xDb3VudCA9IChhbmdsZSAlIDIgPT09IDApID8gdGhpcy5jb2xDb3VudCA6IHRoaXMucm93Q291bnQ7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgcm93Q291bnQ7ICsrcm93KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBjb2xDb3VudDsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICBhcnJbaV0gPSB0aGlzLmdldChyb3csIGNvbCwgYW5nbGUpO1xuICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEdyaWQocm93Q291bnQsIGNvbENvdW50LCBhcnIpO1xuICAgIH07XG4gICAgR3JpZC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHJvdywgY29sLCBhbmdsZSkge1xuICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cbiAgICAgICAgYW5nbGUgPSBNYXRoLmZsb29yKGFuZ2xlKSAlIDQ7XG4gICAgICAgIHN3aXRjaCAoYW5nbGUpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmlkW3JvdyAqIHRoaXMuY29sQ291bnQgKyBjb2xdO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyaWRbKHRoaXMucm93Q291bnQgLSAxIC0gY29sKSAqIHRoaXMuY29sQ291bnQgKyByb3ddO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyaWRbKHRoaXMucm93Q291bnQgLSAxIC0gcm93KSAqIHRoaXMuY29sQ291bnQgKyAodGhpcy5jb2xDb3VudCAtIDEgLSBjb2wpXTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmlkW2NvbCAqIHRoaXMuY29sQ291bnQgKyB0aGlzLmNvbENvdW50IC0gMSAtIHJvd107XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdyaWQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChyb3csIGNvbCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5ncmlkW3RoaXMuZ3JpZFRvSW5kZXgocm93LCBjb2wpXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEdyaWQucHJvdG90eXBlLmlzRnJlZUF0ID0gZnVuY3Rpb24gKHJvdywgY29sKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChyb3csIGNvbCkgPT09IDA7XG4gICAgfTtcbiAgICBHcmlkLnByb3RvdHlwZS5ncmlkVG9JbmRleCA9IGZ1bmN0aW9uIChyb3csIGNvbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGFtcEluZGV4KHJvdyAqIHRoaXMuY29sQ291bnQgKyBjb2wpO1xuICAgIH07XG4gICAgR3JpZC5wcm90b3R5cGUuY2xhbXBJbmRleCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odmFsdWUsIHRoaXMucm93Q291bnQgKiB0aGlzLmNvbENvdW50IC0gMSksIDApO1xuICAgIH07XG4gICAgR3JpZC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XG4gICAgICAgIHZhciBzdHIgPSBcIlwiO1xuICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCB0aGlzLnJvd0NvdW50OyArK3Jvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgdGhpcy5jb2xDb3VudDsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gdGhpcy5nZXQocm93LCBjb2wsIGFuZ2xlKTtcbiAgICAgICAgICAgICAgICBpZiAoIShyb3cgPT09IHRoaXMucm93Q291bnQgLSAxICYmIGNvbCA9PT0gdGhpcy5jb2xDb3VudCAtIDEpKVxuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCIsIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyICs9IFwiXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xuICAgIHJldHVybiBHcmlkO1xufSgpKTtcbmV4cG9ydCB7IEdyaWQgfTtcbiIsImltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi9HcmlkXCI7XG5pbXBvcnQgeyByYW5kSW50IH0gZnJvbSBcIi4vVXRpbFwiO1xudmFyIFBpZWNlRGF0YSA9IHtcbiAgICBcIi0xXCI6IHsgY29sb3I6IFwiYmxhY2tcIiwgaWQ6IC0xLCBwaWVjZTogbnVsbCB9LFxuICAgIE5vbmU6IHsgY29sb3I6IFwiI2ZmZmZmZjAwXCIsIGlkOiAwLCBwaWVjZTogbnVsbCB9LFxuICAgIFN0aWNrOiB7IGNvbG9yOiBcInNreWJsdWVcIiwgaWQ6IDEsIHBpZWNlOiBuZXcgR3JpZCg0LCA0LCBbXG4gICAgICAgICAgICAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMSwgMSwgMSwgMSxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLFxuICAgICAgICBdKSB9LFxuICAgIEw6IHsgY29sb3I6IFwib3JhbmdlXCIsIGlkOiAyLCBwaWVjZTogbmV3IEdyaWQoMywgMywgW1xuICAgICAgICAgICAgMCwgMCwgMCxcbiAgICAgICAgICAgIDIsIDIsIDIsXG4gICAgICAgICAgICAyLCAwLCAwLFxuICAgICAgICBdKSB9LFxuICAgIFJldkw6IHsgY29sb3I6IFwiYmx1ZVwiLCBpZDogMywgcGllY2U6IG5ldyBHcmlkKDMsIDMsIFtcbiAgICAgICAgICAgIDAsIDAsIDAsXG4gICAgICAgICAgICAzLCAzLCAzLFxuICAgICAgICAgICAgMCwgMCwgMyxcbiAgICAgICAgXSkgfSxcbiAgICBTdGVwUjogeyBjb2xvcjogXCJyZWRcIiwgaWQ6IDQsIHBpZWNlOiBuZXcgR3JpZCgzLCAzLCBbXG4gICAgICAgICAgICAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgNCwgNCxcbiAgICAgICAgICAgIDQsIDQsIDAsXG4gICAgICAgIF0pIH0sXG4gICAgU3RlcEw6IHsgY29sb3I6IFwiZ3JlZW5cIiwgaWQ6IDUsIHBpZWNlOiBuZXcgR3JpZCgzLCAzLCBbXG4gICAgICAgICAgICAwLCAwLCAwLFxuICAgICAgICAgICAgNSwgNSwgMCxcbiAgICAgICAgICAgIDAsIDUsIDUsXG4gICAgICAgIF0pIH0sXG4gICAgVDogeyBjb2xvcjogXCJwdXJwbGVcIiwgaWQ6IDYsIHBpZWNlOiBuZXcgR3JpZCgzLCAzLCBbXG4gICAgICAgICAgICAwLCA2LCAwLFxuICAgICAgICAgICAgNiwgNiwgNixcbiAgICAgICAgICAgIDAsIDAsIDAsXG4gICAgICAgIF0pIH0sXG4gICAgQm94OiB7IGNvbG9yOiBcImdyYXlcIiwgaWQ6IDcsIHBpZWNlOiBuZXcgR3JpZCgyLCAyLCBbXG4gICAgICAgICAgICA3LCA3LFxuICAgICAgICAgICAgNywgNyxcbiAgICAgICAgXSkgfVxufTtcbnZhciBQaWVjZXNDb3VudCA9IDc7XG5mdW5jdGlvbiBnZXRSYW5kUGllY2UoKSB7XG4gICAgcmV0dXJuIFBpZWNlRGF0YVtyYW5kSW50KFBpZWNlc0NvdW50KSArIDFdLnBpZWNlOyAvLyArIDEgdG8gb21pdCBudWxsIHBpZWNlXG59XG52YXIgc3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuLy8gTWFrZSBQaWVjZXMgYWNjZXNzaWJsZSB2aWEgaWQgYXMgd2VsbCBhcyBuYW1lLlxuT2JqZWN0LmtleXMoUGllY2VEYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcERhdGEgPSBQaWVjZURhdGFba2V5XTtcbiAgICBQaWVjZURhdGFbcERhdGEuaWRdID0gcERhdGE7XG4gICAgcERhdGEuY29sb3IgPSBzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZShcIi0tYmxvY2stY29sb3ItXCIgKyBwRGF0YS5pZCk7XG59KTtcbi8vIFByZXZlbnQgZnVydGhlciBtdXRhdGlvbiB0byB0aGUgUGllY2VEYXRhIG9iamVjdC5cbk9iamVjdC5mcmVlemUoUGllY2VEYXRhKTtcbk9iamVjdC5zZWFsKFBpZWNlRGF0YSk7XG5leHBvcnQgeyBQaWVjZURhdGEsIGdldFJhbmRQaWVjZSwgUGllY2VzQ291bnQgfTtcbiIsImV4cG9ydCBmdW5jdGlvbiByYW5kSW50KG4pIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbik7XG59XG5leHBvcnQgZnVuY3Rpb24gcmFuZChuKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiBuO1xufVxuLyoqXG4gKiBCZWhhdmVzIGFzIGEgdHJ1ZSBtb2QgZnVuY3Rpb24sIGV2ZW4gd2l0aCBuZWdhdGl2ZSBudW1iZXJzLlxuICogQHBhcmFtIHhcbiAqIEBwYXJhbSBuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb2QoeCwgbikge1xuICAgIHJldHVybiAoeCAlIG4gKyBuKSAlIG47XG59XG4iLCJpbXBvcnQgeyBQaWVjZURhdGEgfSBmcm9tIFwiLi9QaWVjZURhdGFcIjtcbmltcG9ydCB7IERlbGVnYXRlIH0gZnJvbSBcIi4vV2ViQUFcIjtcbmltcG9ydCB7IG1vZCB9IGZyb20gXCIuL1V0aWxcIjtcbnZhciBBY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBY3RvcihncmlkLCBnZXROZXh0UGllY2UpIHtcbiAgICAgICAgdGhpcy5ncmlkID0gZ3JpZDtcbiAgICAgICAgdGhpcy5zcGVlZCA9IDEwMDA7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5nZXROZXh0UGllY2UgPSBnZXROZXh0UGllY2U7XG4gICAgICAgIHRoaXMub25QaWVjZUNvbm5lY3QgPSBuZXcgRGVsZWdhdGU7XG4gICAgICAgIHRoaXMub25MaW5lQ2xlYXIgPSBuZXcgRGVsZWdhdGU7XG4gICAgICAgIHRoaXMub25Mb3NlID0gbmV3IERlbGVnYXRlO1xuICAgICAgICB0aGlzLm9uUmVzZXQgPSBuZXcgRGVsZWdhdGU7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgQWN0b3IucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgICAgICBpZiAodGhpcy5pc1BhdXNlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gY291bnRkb3duIGNvdW50ZXJcbiAgICAgICAgdGhpcy5jb3VudGVyIC09IGR0O1xuICAgICAgICBpZiAodGhpcy5jb3VudGVyIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuY291bnRlciArPSB0aGlzLnNwZWVkO1xuICAgICAgICAgICAgdGhpcy5tb3ZlRG93bk9uZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUucmVzZXRDb3VudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvdW50ZXIgPSB0aGlzLnNwZWVkO1xuICAgIH07XG4gICAgQWN0b3IucHJvdG90eXBlLmNvbm5lY3RUb0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmdyaWQubWVyZ2VJbnRvKHRoaXMucm93LCB0aGlzLmNvbCwgdGhpcy5waWVjZSwgdGhpcy5hbmdsZSk7XG4gICAgICAgIC8vIENoZWNrIGZvciBmdWxsIHJvd3MgY2xlYXJlZFxuICAgICAgICB2YXIgcm93c0NsZWFyZWQgPSB0aGlzLmdyaWQucHJvY2Vzc0Z1bGxSb3dzKCk7XG4gICAgICAgIGlmIChyb3dzQ2xlYXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgdGlsZXNfMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3JpZFwiKS5jaGlsZHJlbjtcbiAgICAgICAgICAgIHJvd3NDbGVhcmVkLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IF90aGlzLmdyaWQuZ2V0V2lkdGgoKTsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbGUgPSB0aWxlc18xW3JvdyAqIF90aGlzLmdyaWQuZ2V0V2lkdGgoKSArIGNvbF07XG4gICAgICAgICAgICAgICAgICAgIHRpbGUuY2xhc3NMaXN0LnJlbW92ZShcInJvdy1jbGVhclwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS5jbGFzc0xpc3QuYWRkKFwicm93LWNsZWFyXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vbkxpbmVDbGVhci5pbnZva2Uocm93c0NsZWFyZWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciBsb3NzXG4gICAgICAgIGlmICh0aGlzLnJvdyA8IC10aGlzLnBpZWNlLnRvcE1vc3QodGhpcy5hbmdsZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZC5sb3NlQW5pbSgpO1xuICAgICAgICAgICAgdGhpcy5pc1BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm9uTG9zZS5pbnZva2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uUGllY2VDb25uZWN0Lmludm9rZSh0aGlzKTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTW92ZXMgcGllY2UgZG93biBvbmUgcm93IGluIHRoZSBncmlkLiBSZXR1cm5zIGZhbHNlIGlmIG1vdmUgd2FzIHByZXZlbnRlZCwgYW5kIHRydWUgaWYgbW92ZWQuXG4gICAgICovXG4gICAgQWN0b3IucHJvdG90eXBlLm1vdmVEb3duT25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5waWVjZS5pbnRlcnNlY3RzKHRoaXMuZ3JpZCwgdGhpcy5yb3cgKyAxLCB0aGlzLmNvbCwgdGhpcy5hbmdsZSwgMCkgfHxcbiAgICAgICAgICAgIHRoaXMucm93ICsgMSA+IHRoaXMuZ3JpZC5nZXRIZWlnaHQoKSAtIDEgLSB0aGlzLnBpZWNlLmJvdHRvbU1vc3QodGhpcy5hbmdsZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdFRvQm9hcmQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdmUoMSwgMCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTW92ZSBwaWVjZSwgY29uc3RyaWN0aW5nIGl0cyBwbGFjZW1lbnQgYnkgdGhlIGdyaWQgYm91bmRhcmllc1xuICAgICAqIEBwYXJhbSByZWxSb3dcbiAgICAgKiBAcGFyYW0gcmVsQ29sXG4gICAgICovXG4gICAgQWN0b3IucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbiAocmVsUm93LCByZWxDb2wpIHtcbiAgICAgICAgaWYgKHRoaXMucGllY2UuaW50ZXJzZWN0cyh0aGlzLmdyaWQsIHRoaXMucm93ICsgcmVsUm93LCB0aGlzLmNvbCArIHJlbENvbCwgdGhpcy5hbmdsZSwgMCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMucm93ICs9IHJlbFJvdztcbiAgICAgICAgdGhpcy5jb2wgKz0gcmVsQ29sO1xuICAgICAgICAvLyBjb25zdHJpY3Qgd2l0aGluIGdhbWUgYm9hcmRcbiAgICAgICAgdGhpcy5jb25zdHJpY3RCb3VuZHMocmVsUm93ID4gMCwgcmVsQ29sIDwgMCwgcmVsQ29sID4gMCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS5pbW1lZGlhdGVEcm9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcm93ID0gMTtcbiAgICAgICAgdmFyIGJvdHRvbU1vc3QgPSB0aGlzLnBpZWNlLmJvdHRvbU1vc3QodGhpcy5hbmdsZSk7XG4gICAgICAgIHdoaWxlICghdGhpcy5waWVjZS5pbnRlcnNlY3RzKHRoaXMuZ3JpZCwgcm93ICsgdGhpcy5yb3csIHRoaXMuY29sLCB0aGlzLmFuZ2xlKSAmJiByb3cgKyB0aGlzLnJvdyA8IHRoaXMuZ3JpZC5nZXRIZWlnaHQoKSAtIGJvdHRvbU1vc3QpXG4gICAgICAgICAgICArK3JvdztcbiAgICAgICAgdGhpcy5tb3ZlKHJvdyAtIDEsIDApO1xuICAgICAgICB0aGlzLmNvbm5lY3RUb0JvYXJkKCk7XG4gICAgICAgIHRoaXMuY291bnRlciA9IHRoaXMuc3BlZWQ7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUuZ2V0VGlsZUVscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRpbGVzID0gW107XG4gICAgICAgIHZhciB0aWxlRWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmlkXCIpLmNoaWxkcmVuO1xuICAgICAgICB2YXIgZ3JpZFdpZHRoID0gdGhpcy5ncmlkLmdldFdpZHRoKCk7XG4gICAgICAgIHZhciBncmlkSGVpZ2h0ID0gdGhpcy5ncmlkLmdldEhlaWdodCgpO1xuICAgICAgICB2YXIgcGllY2VXaWR0aCA9IHRoaXMucGllY2UuZ2V0V2lkdGgodGhpcy5hbmdsZSk7XG4gICAgICAgIHZhciBwaWVjZUhlaWdodCA9IHRoaXMucGllY2UuZ2V0SGVpZ2h0KHRoaXMuYW5nbGUpO1xuICAgICAgICBmb3IgKHZhciBwaWVjZVJvdyA9IDA7IHBpZWNlUm93IDwgcGllY2VIZWlnaHQ7ICsrcGllY2VSb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHBpZWNlQ29sID0gMDsgcGllY2VDb2wgPCBwaWVjZVdpZHRoOyArK3BpZWNlQ29sKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdyaWRSb3cgPSBwaWVjZVJvdyArIHRoaXMucm93O1xuICAgICAgICAgICAgICAgIHZhciBncmlkQ29sID0gcGllY2VDb2wgKyB0aGlzLmNvbDtcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZENvbCA+PSBncmlkV2lkdGggfHwgZ3JpZENvbCA8IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChncmlkUm93ID49IGdyaWRIZWlnaHQgfHwgZ3JpZFJvdyA8IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpZWNlLmdldChwaWVjZVJvdywgcGllY2VDb2wsIHRoaXMuYW5nbGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVzLnB1c2godGlsZUVsc1tncmlkUm93ICogZ3JpZFdpZHRoICsgZ3JpZENvbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlsZXM7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUuY29uc3RyaWN0Qm91bmRzID0gZnVuY3Rpb24gKGNoZWNrRG93biwgY2hlY2tMZWZ0LCBjaGVja1JpZ2h0KSB7XG4gICAgICAgIGlmIChjaGVja0Rvd24gPT09IHZvaWQgMCkgeyBjaGVja0Rvd24gPSB0cnVlOyB9XG4gICAgICAgIGlmIChjaGVja0xlZnQgPT09IHZvaWQgMCkgeyBjaGVja0xlZnQgPSB0cnVlOyB9XG4gICAgICAgIGlmIChjaGVja1JpZ2h0ID09PSB2b2lkIDApIHsgY2hlY2tSaWdodCA9IHRydWU7IH1cbiAgICAgICAgaWYgKGNoZWNrRG93bilcbiAgICAgICAgICAgIHRoaXMucm93ID0gTWF0aC5taW4odGhpcy5yb3csIHRoaXMuZ3JpZC5nZXRIZWlnaHQoKSAtIDEgLSB0aGlzLnBpZWNlLmJvdHRvbU1vc3QodGhpcy5hbmdsZSkpO1xuICAgICAgICBpZiAoY2hlY2tMZWZ0KVxuICAgICAgICAgICAgdGhpcy5jb2wgPSBNYXRoLm1heCh0aGlzLmNvbCwgLXRoaXMucGllY2UubGVmdE1vc3QodGhpcy5hbmdsZSkpO1xuICAgICAgICBpZiAoY2hlY2tSaWdodClcbiAgICAgICAgICAgIHRoaXMuY29sID0gTWF0aC5taW4odGhpcy5jb2wsIHRoaXMuZ3JpZC5nZXRXaWR0aCgpIC0gMSAtIHRoaXMucGllY2UucmlnaHRNb3N0KHRoaXMuYW5nbGUpKTtcbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS5vdXRib3VuZHNMZWZ0ID0gZnVuY3Rpb24gKGNvbFJlbCwgYW5nbGUpIHtcbiAgICAgICAgaWYgKGNvbFJlbCA9PT0gdm9pZCAwKSB7IGNvbFJlbCA9IDA7IH1cbiAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbCArIGNvbFJlbCA8IC10aGlzLnBpZWNlLmxlZnRNb3N0KGFuZ2xlKTtcbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS5vdXRib3VuZHNSaWdodCA9IGZ1bmN0aW9uIChjb2xSZWwsIGFuZ2xlKSB7XG4gICAgICAgIGlmIChjb2xSZWwgPT09IHZvaWQgMCkgeyBjb2xSZWwgPSAwOyB9XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb2wgKyBjb2xSZWwgPiB0aGlzLmdyaWQuZ2V0V2lkdGgoKSAtIDEgLSB0aGlzLnBpZWNlLnJpZ2h0TW9zdChhbmdsZSk7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUub3V0Ym91bmRzRG93biA9IGZ1bmN0aW9uIChyb3dSZWwsIGFuZ2xlKSB7XG4gICAgICAgIGlmIChyb3dSZWwgPT09IHZvaWQgMCkgeyByb3dSZWwgPSAwOyB9XG4gICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5yb3cgKyByb3dSZWwgPiB0aGlzLmdyaWQuZ2V0SGVpZ2h0KCkgLSAxIC0gdGhpcy5waWVjZS5ib3R0b21Nb3N0KGFuZ2xlKTtcbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS5vdXRib3VuZHNUb3AgPSBmdW5jdGlvbiAocm93UmVsLCBhbmdsZSkge1xuICAgICAgICBpZiAocm93UmVsID09PSB2b2lkIDApIHsgcm93UmVsID0gMDsgfVxuICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMucm93ICsgcm93UmVsIDwgLXRoaXMucGllY2UudG9wTW9zdChhbmdsZSk7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAobmV4dFBpZWNlKSB7XG4gICAgICAgIGlmICghbmV4dFBpZWNlKVxuICAgICAgICAgICAgbmV4dFBpZWNlID0gdGhpcy5nZXROZXh0UGllY2UoKTtcbiAgICAgICAgdmFyIHJvdyA9IC1uZXh0UGllY2UudG9wTW9zdCgpO1xuICAgICAgICB2YXIgY29sID0gTWF0aC5yb3VuZCgodGhpcy5ncmlkLmNvbENvdW50IC0gbmV4dFBpZWNlLmNvbENvdW50KSAvIDIpO1xuICAgICAgICB3aGlsZSAobmV4dFBpZWNlLmludGVyc2VjdHModGhpcy5ncmlkLCByb3csIGNvbCkpXG4gICAgICAgICAgICAtLXJvdztcbiAgICAgICAgdGhpcy5yb3cgPSByb3c7XG4gICAgICAgIHRoaXMuY29sID0gY29sO1xuICAgICAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy5jb3VudGVyID0gdGhpcy5zcGVlZDtcbiAgICAgICAgdGhpcy5waWVjZSA9IG5leHRQaWVjZTtcbiAgICAgICAgdGhpcy5vblJlc2V0Lmludm9rZSgpO1xuICAgIH07XG4gICAgQWN0b3IucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICBhbmdsZSA9IG1vZChhbmdsZSwgNCk7XG4gICAgICAgIHZhciBjb2wgPSB0aGlzLmNvbDtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93O1xuICAgICAgICBpZiAoIXRoaXMucGllY2UuaW50ZXJzZWN0cyh0aGlzLmdyaWQsIHJvdywgY29sLCBhbmdsZSwgMCkgJiZcbiAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc0xlZnQoMCwgYW5nbGUpICYmXG4gICAgICAgICAgICAhdGhpcy5vdXRib3VuZHNSaWdodCgwLCBhbmdsZSkgJiZcbiAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc0Rvd24oMCwgYW5nbGUpKSB7XG4gICAgICAgICAgICB0aGlzLmFuZ2xlID0gYW5nbGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCAzOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5waWVjZS5pbnRlcnNlY3RzKHRoaXMuZ3JpZCwgcm93LCBjb2wgKyBpLCBhbmdsZSwgMCkgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5vdXRib3VuZHNMZWZ0KGksIGFuZ2xlKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc1JpZ2h0KGksIGFuZ2xlKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc0Rvd24oaSwgYW5nbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sICs9IGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBpZWNlLmludGVyc2VjdHModGhpcy5ncmlkLCByb3csIGNvbCAtIGksIGFuZ2xlLCAwKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc0xlZnQoLWksIGFuZ2xlKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLm91dGJvdW5kc1JpZ2h0KC1pLCBhbmdsZSkgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5vdXRib3VuZHNEb3duKC1pLCBhbmdsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlID0gYW5nbGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2wgLT0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25zdHJpY3RCb3VuZHMoKTtcbiAgICB9O1xuICAgIEFjdG9yLnByb3RvdHlwZS53aWxsQ29sbGlkZSA9IGZ1bmN0aW9uIChyZWxSb3csIHJlbENvbCwgYW5nbGUpIHtcbiAgICAgICAgaWYgKHJlbFJvdyA9PT0gdm9pZCAwKSB7IHJlbFJvdyA9IDE7IH1cbiAgICAgICAgaWYgKHJlbENvbCA9PT0gdm9pZCAwKSB7IHJlbENvbCA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGllY2UuaW50ZXJzZWN0cyh0aGlzLmdyaWQsIHRoaXMucm93ICsgcmVsUm93LCB0aGlzLmNvbCArIHJlbENvbCwgYW5nbGUgPT09IHVuZGVmaW5lZCA/IHRoaXMuYW5nbGUgOiBhbmdsZSwgMCk7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUuY2FuUm90YXRlQXQgPSBmdW5jdGlvbiAocmVsUm93LCByZWxDb2wsIGFuZ2xlKSB7XG4gICAgICAgIHRoaXMucGllY2UubGVmdE1vc3QoYW5nbGUpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBBY3Rvci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHRpbGVzKSB7XG4gICAgICAgIHZhciBzaGFkb3dSb3cgPSAxO1xuICAgICAgICB3aGlsZSAoIXRoaXMucGllY2UuaW50ZXJzZWN0cyh0aGlzLmdyaWQsIHRoaXMucm93ICsgc2hhZG93Um93LCB0aGlzLmNvbCwgdGhpcy5hbmdsZSkgJiYgIXRoaXMub3V0Ym91bmRzRG93bihzaGFkb3dSb3csIHRoaXMuYW5nbGUpKVxuICAgICAgICAgICAgKytzaGFkb3dSb3c7XG4gICAgICAgIC0tc2hhZG93Um93O1xuICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCB0aGlzLnBpZWNlLnJvd0NvdW50OyArK3Jvdykge1xuICAgICAgICAgICAgaWYgKHJvdyArIHRoaXMucm93ID49IHRoaXMuZ3JpZC5yb3dDb3VudCB8fCByb3cgKyB0aGlzLnJvdyA8IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCB0aGlzLnBpZWNlLmNvbENvdW50OyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGlmIChjb2wgKyB0aGlzLmNvbCA+PSB0aGlzLmdyaWQuY29sQ291bnQgfHwgY29sICsgdGhpcy5jb2wgPCAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB2YXIgcGllY2VJZHggPSB0aGlzLnBpZWNlLmdldChyb3csIGNvbCwgdGhpcy5hbmdsZSk7XG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlSWR4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aWxlSWR4ID0gKHJvdyArIHRoaXMucm93KSAqIHRoaXMuZ3JpZC5jb2xDb3VudCArIGNvbCArIHRoaXMuY29sO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGlsZSA9IHRpbGVzW3RpbGVJZHhdO1xuICAgICAgICAgICAgICAgICAgICB0aWxlLnN0eWxlLmJhY2tncm91bmQgPSBQaWVjZURhdGFbcGllY2VJZHhdLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICB0aWxlLnN0eWxlLmJveFNoYWRvdyA9IFwiLS41dm1pbiAxdm1pbiAuNXZtaW4gLjV2bWluIHJnYmEoMCwgMCwgMCwgMC4xKVwiO1xuICAgICAgICAgICAgICAgICAgICB0aWxlLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoYWRvd1JvdyAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoYWRvd1RpbGUgPSB0aWxlc1socm93ICsgdGhpcy5yb3cgKyBzaGFkb3dSb3cpICogdGhpcy5ncmlkLmNvbENvdW50ICsgY29sICsgdGhpcy5jb2xdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93VGlsZS5zdHlsZS5iYWNrZ3JvdW5kID0gUGllY2VEYXRhW3BpZWNlSWR4XS5jb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1RpbGUuc3R5bGUub3BhY2l0eSA9IFwiLjRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFjdG9yO1xufSgpKTtcbmV4cG9ydCB7IEFjdG9yIH07XG4iLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL0dhbWVcIjtcbmltcG9ydCB7IEFjdG9yIH0gZnJvbSBcIi4vQWN0b3JcIjtcbmltcG9ydCB7IFRldHJpc0dyaWQgfSBmcm9tIFwiLi9UZXRyaXNHcmlkXCI7XG5pbXBvcnQgeyBnZXRSYW5kUGllY2UsIFBpZWNlRGF0YSwgUGllY2VzQ291bnQgfSBmcm9tIFwiLi9QaWVjZURhdGFcIjtcbnZhciB0ZXRyaXNFbDtcbnZhciBncmlkRWw7XG52YXIgcG9pbnRzRWw7XG52YXIgbGV2ZWxFbDtcbnZhciBuZXh0VXBHcmlkRWw7XG52YXIgaGVsZEdyaWRFbDtcbnZhciBGSUVMRF9XSURUSCA9IDEwO1xudmFyIEZJRUxEX0hFSUdIVCA9IDIwO1xudmFyIFRldHJpcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV0cmlzLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRldHJpcygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgdGlja1NwZWVkOiAzMy4zNFxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdG9yZWRQaWVjZSA9IG51bGw7XG4gICAgICAgIF90aGlzLmxhc3RTd2FwcGVkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUZXRyaXMucHJvdG90eXBlLmdldE5leHRQaWVjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbmRUaGlzID0gdGhpcy5uZXh0UGllY2U7XG4gICAgICAgIHRoaXMubmV4dFBpZWNlID0gZ2V0UmFuZFBpZWNlKCk7XG4gICAgICAgIHJldHVybiBzZW5kVGhpcztcbiAgICB9O1xuICAgIFRldHJpcy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gY2FjaGUgZG9tIGVsZW1lbnRzXG4gICAgICAgIHRldHJpc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXRyaXNcIik7XG4gICAgICAgIGdyaWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3JpZFwiKTtcbiAgICAgICAgcG9pbnRzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvaW50c1wiKTtcbiAgICAgICAgbGV2ZWxFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxcIik7XG4gICAgICAgIG5leHRVcEdyaWRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV4dC11cC1ncmlkXCIpO1xuICAgICAgICBoZWxkR3JpZEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJob2xkaW5nLWdyaWRcIik7XG4gICAgICAgIHRoaXMuZ2V0TmV4dFBpZWNlID0gdGhpcy5nZXROZXh0UGllY2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5uZXh0UGllY2UgPSBnZXRSYW5kUGllY2UoKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBkb20gZWxlbWVudHNcbiAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgRklFTERfSEVJR0hUOyArK3Jvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgRklFTERfV0lEVEg7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgbmV3RGl2LmlkID0gXCJyXCIgKyByb3cgKyBcImNcIiArIGNvbDtcbiAgICAgICAgICAgICAgICBuZXdEaXYuc3R5bGUuekluZGV4ID0gXCJcIiArIHJvdztcbiAgICAgICAgICAgICAgICBncmlkRWwuYXBwZW5kQ2hpbGQobmV3RGl2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCAyNTsgKytyb3cpIHtcbiAgICAgICAgICAgIG5leHRVcEdyaWRFbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgICAgIGhlbGRHcmlkRWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXR0YWNoIGRvbSBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgdGV0cmlzRWwuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcbiAgICAgICAgICAgIGlmIChldnQuYW5pbWF0aW9uTmFtZSA9PT0gXCJzbWFsbC1ncm93XCIgfHwgZXZ0LmFuaW1hdGlvbk5hbWUgPT09IFwicm93LWNsZWFyXCIpXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoZXZ0LmFuaW1hdGlvbk5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaGVsZEdyaWRFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuc3dhcFBpZWNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB0ZXN0IGRyYXcgYmxvY2tzXG4gICAgICAgIC8vIGdyaWRFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZ0ID0+IHtcbiAgICAgICAgLy8gICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBjb25zdCBwb3MgPSBnZXRQb3NGcm9tSWQodGFyZ2V0LmlkKTtcbiAgICAgICAgLy8gICAgIGlmIChwb3Mucm93ICE9PSAtMSlcbiAgICAgICAgLy8gICAgICAgICBncmlkLnNldChwb3Mucm93LCBwb3MuY29sLCAyKTtcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vIGNyZWF0ZSBnYW1lIG9iamVjdHNcbiAgICAgICAgdmFyIGdyaWQgPSBuZXcgVGV0cmlzR3JpZChGSUVMRF9IRUlHSFQsIEZJRUxEX1dJRFRIKTtcbiAgICAgICAgdmFyIHBsYXllciA9IG5ldyBBY3RvcihncmlkLCB0aGlzLmdldE5leHRQaWVjZSk7XG4gICAgICAgIC8vIGF0dGFjaCBsaXN0ZW5lcnNcbiAgICAgICAgcGxheWVyLm9uUGllY2VDb25uZWN0LmFkZExpc3RlbmVyKGZ1bmN0aW9uIChhY3Rvcikge1xuICAgICAgICAgICAgdmFyIHRpbGVzID0gYWN0b3IuZ2V0VGlsZUVscygpO1xuICAgICAgICAgICAgdGlsZXMuZm9yRWFjaChmdW5jdGlvbiAodGlsZSkge1xuICAgICAgICAgICAgICAgIHRpbGUuY2xhc3NMaXN0LnJlbW92ZShcInNtYWxsLWdyb3dcIik7XG4gICAgICAgICAgICAgICAgdGlsZS5jbGFzc0xpc3QuYWRkKFwic21hbGwtZ3Jvd1wiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKF90aGlzLmxhc3RTd2FwcGVkKVxuICAgICAgICAgICAgICAgIF90aGlzLmxhc3RTd2FwcGVkID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXllci5vblJlc2V0LmFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRyYXdOZXh0UGllY2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXllci5vbkxpbmVDbGVhci5hZGRMaXN0ZW5lcihmdW5jdGlvbiAobGluZXMpIHtcbiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zY29yZSArPSA4MDAgKiBfdGhpcy5sZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIF90aGlzLnNjb3JlICs9IDQwMCAqIF90aGlzLmxldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2NvcmUgKz0gMjAwICogX3RoaXMubGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zY29yZSArPSAxMDAgKiBfdGhpcy5sZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXllci5vbkxvc2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZ2FtZW92ZXIgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgZ3JpZC5vbkFuaW1FbmQuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKGFuaW1OYW1lKSB7XG4gICAgICAgICAgICBpZiAoYW5pbU5hbWUgPT09IFwibGluZS1jbGVhclwiKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcbiAgICAgICAgdGhpcy5ncmlkID0gZ3JpZDtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFRldHJpcy5wcm90b3R5cGUuZHJhd1BpZWNlID0gZnVuY3Rpb24gKHBpZWNlLCBncmlkRWwpIHtcbiAgICAgICAgaWYgKCFwaWVjZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGVscyA9IGdyaWRFbC5jaGlsZHJlbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTsgKytpKVxuICAgICAgICAgICAgZWxzW2ldLnN0eWxlLmJhY2tncm91bmQgPSBcIlwiO1xuICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBwaWVjZS5nZXRIZWlnaHQoKTsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IHBpZWNlLmdldFdpZHRoKCk7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgZWxzWyhyb3cgKyAxKSAqIDUgKyBjb2wgKyAxXS5zdHlsZS5iYWNrZ3JvdW5kID0gUGllY2VEYXRhW3BpZWNlLmdldChyb3csIGNvbCldLmNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUZXRyaXMucHJvdG90eXBlLmRyYXdOZXh0UGllY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZHJhd1BpZWNlKHRoaXMubmV4dFBpZWNlLCBuZXh0VXBHcmlkRWwpO1xuICAgIH07XG4gICAgVGV0cmlzLnByb3RvdHlwZS5kcmF3SGVsZFBpZWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRyYXdQaWVjZSh0aGlzLnN0b3JlZFBpZWNlLCBoZWxkR3JpZEVsKTtcbiAgICB9O1xuICAgIFRldHJpcy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGxheWVyLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgICAgICB0aGlzLmxldmVsID0gMTtcbiAgICAgICAgdGhpcy5ncmlkLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuZ2FtZW92ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9O1xuICAgIFRldHJpcy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICB2YXIga2V5cyA9IHRoaXMua2V5Ym9hcmQ7XG4gICAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcjtcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVvdmVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5cy5qdXN0RG93bihcIktleVhcIikpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIucm90YXRlKHBsYXllci5hbmdsZSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleXMuanVzdERvd24oXCJLZXlaXCIpKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLnJvdGF0ZShwbGF5ZXIuYW5nbGUgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXlzLmp1c3REb3duKFwiQXJyb3dVcFwiKSkge1xuICAgICAgICAgICAgICAgIHBsYXllci5pbW1lZGlhdGVEcm9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5cy5qdXN0RG93bihcIktleUNcIikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN3YXBQaWVjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleXMuaXNSZXBlYXRpbmcoXCJBcnJvd0xlZnRcIiwgMjAwLCAxMDApKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLm1vdmUoMCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleXMuaXNSZXBlYXRpbmcoXCJBcnJvd1JpZ2h0XCIsIDIwMCwgMTAwKSkge1xuICAgICAgICAgICAgICAgIHBsYXllci5tb3ZlKDAsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleXMuaXNSZXBlYXRpbmcoXCJBcnJvd0Rvd25cIiwgMjAwLCAxMDApKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5tb3ZlRG93bk9uZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5yZXNldENvdW50ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLnNjb3JlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyLnBpZWNlLmludGVyc2VjdHModGhpcy5ncmlkLCAxLCAwLCBwbGF5ZXIuYW5nbGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5yZXNldFJlcGVhdGluZyhcIkFycm93RG93blwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucmVzZXRSZXBlYXRpbmcoXCJBcnJvd0Rvd25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGxheWVyLnVwZGF0ZShkZWx0YVRpbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZXRyaXMucHJvdG90eXBlLnN3YXBQaWVjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdFN3YXBwZWQgIT09IHRoaXMucGxheWVyLnBpZWNlKSB7XG4gICAgICAgICAgICB2YXIgdGVtcFBpZWNlID0gdGhpcy5zdG9yZWRQaWVjZTtcbiAgICAgICAgICAgIHRoaXMubGFzdFN3YXBwZWQgPSB0aGlzLnN0b3JlZFBpZWNlO1xuICAgICAgICAgICAgdGhpcy5zdG9yZWRQaWVjZSA9IHRoaXMucGxheWVyLnBpZWNlO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVzZXQodGVtcFBpZWNlKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd0hlbGRQaWVjZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZXRyaXMucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcG9pbnRzRWwuaW5uZXJUZXh0ID0gdGhpcy5zY29yZS50b1N0cmluZygpO1xuICAgICAgICB2YXIgdGlsZXMgPSBncmlkRWwuY2hpbGRyZW47XG4gICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IEZJRUxEX0hFSUdIVDsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IEZJRUxEX1dJRFRIOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSByb3cgKiBGSUVMRF9XSURUSCArIGNvbDtcbiAgICAgICAgICAgICAgICB2YXIgZ3JpZFZhbCA9IHRoaXMuZ3JpZC5nZXQocm93LCBjb2wpO1xuICAgICAgICAgICAgICAgIHRpbGVzW2lkeF0uc3R5bGUuYmFja2dyb3VuZCA9IGdyaWRWYWwgPT09IFBpZWNlc0NvdW50ICsgMSA/IFwicmdiYSgwLCAwLCAwLCAwLjc1KVwiIDogUGllY2VEYXRhW2dyaWRWYWxdLmNvbG9yO1xuICAgICAgICAgICAgICAgIHRpbGVzW2lkeF0uc3R5bGUuYm94U2hhZG93ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB0aWxlc1tpZHhdLnN0eWxlLnpJbmRleCA9IFwiMVwiO1xuICAgICAgICAgICAgICAgIHRpbGVzW2lkeF0uc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxheWVyLnJlbmRlcih0aWxlcyk7XG4gICAgfTtcbiAgICByZXR1cm4gVGV0cmlzO1xufShHYW1lKSk7XG5leHBvcnQgeyBUZXRyaXMgfTtcbi8vIEhlbHBlciB0byBnZXQgcm93L2NvbCBmcm9tIHRpbGVFbCBpZFxuZnVuY3Rpb24gZ2V0UG9zRnJvbUlkKGlkKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBpZC5tYXRjaCgvKD88PVtyY10pXFxkKy9nKTtcbiAgICByZXR1cm4ge1xuICAgICAgICByb3c6IChtYXRjaGVzKSA/IHBhcnNlSW50KG1hdGNoZXNbMF0pIDogLTEsXG4gICAgICAgIGNvbDogKG1hdGNoZXMpID8gcGFyc2VJbnQobWF0Y2hlc1sxXSkgOiAtMSxcbiAgICB9O1xufVxuIiwidmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSwgcGFjaykge1xuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59O1xuLyoqXG4gKiBDbGFzcyB0aGF0IHN0b3JlcyBhbmQgaW52b2tlcyBjYWxsYmFjay4gU2ltaWxhciB0byB0aGUgc3ViamVjdCBpbiB0aGUgT2JzZXJ2ZXIgcGF0dGVybi5cbiAqIENhbiBzdG9yZSAndGhpcycgY29udGV4dCwgaWYgbmVlZGVkLCBlLmcuIGNsYXNzIGZ1bmN0aW9uIHBlcmZvcm1lZCBvbiBhbiBpbnN0YW5jZS5cbiAqL1xudmFyIERlbGVnYXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlbGVnYXRlKCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgIH1cbiAgICBEZWxlZ2F0ZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKHsgY29udGV4dDogY29udGV4dCwgY2FsbGJhY2s6IGNhbGxiYWNrIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsaXN0ZW5lci4gTXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgY2FsbGVkIGZyb20gRGVsZWdhdGUuYWRkTGlzdGVuZXIuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEZ1bmN0aW9uIHRvIHNldFxuICAgICAqIEBwYXJhbSBjb250ZXh0ICd0aGlzJyBjb250ZXh0LiAoQXJyb3cgZnVuY3Rpb25zIGF1dG9tYXRpY2FsbHkgY2FwdHVyZSAndGhpcycsIGFuZCBkbyBub3RcbiAgICAgKiBuZWVkIHRoaXMgcGFyYW1ldGVyIHNldC4pXG4gICAgICovXG4gICAgRGVsZWdhdGUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNhbGxiYWNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5pcyh0aGlzLmNhbGxiYWNrc1tpXS5jYWxsYmFjaywgY2FsbGJhY2spICYmXG4gICAgICAgICAgICAgICAgKGNvbnRleHQgPyBPYmplY3QuaXModGhpcy5jYWxsYmFja3NbaV0uY29udGV4dCwgY29udGV4dCkgOiB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBEZWxlZ2F0ZS5wcm90b3R5cGUuaW52b2tlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrc1tpXS5jb250ZXh0KVxuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuY2FsbGJhY2tzW2ldLmNhbGxiYWNrKS5jYWxsLmFwcGx5KF9hLCBfX3NwcmVhZEFycmF5KFt0aGlzLmNhbGxiYWNrc1tpXS5jb250ZXh0XSwgYXJncywgZmFsc2UpKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLmNhbGxiYWNrc1tpXSkuY2FsbGJhY2suYXBwbHkoX2IsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVsZWdhdGUucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIERlbGVnYXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICB9O1xuICAgIHJldHVybiBEZWxlZ2F0ZTtcbn0oKSk7XG5leHBvcnQgeyBEZWxlZ2F0ZSB9O1xuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi9HcmlkXCI7XG5pbXBvcnQgeyBEZWxlZ2F0ZSB9IGZyb20gXCIuL0RlbGVnYXRlXCI7XG5pbXBvcnQgeyBQaWVjZXNDb3VudCB9IGZyb20gXCIuL1BpZWNlRGF0YVwiO1xuLyoqXG4gKiBFeHRlbnNpb24gb2YgdGhlIEdyaWQgY2xhc3MgdGhhdCBjb250YWlucyBUZXRyaXMtc3BlY2lmaWMgYW5pbWF0aW9ucywgZWRnZSBjYXNlIGZ1bmN0aW9ucywgZXRjLlxuICovXG52YXIgVGV0cmlzR3JpZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV0cmlzR3JpZCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUZXRyaXNHcmlkKHJvd0hlaWdodCwgY29sV2lkdGgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcm93SGVpZ2h0LCBjb2xXaWR0aCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub25BbmltRW5kID0gbmV3IERlbGVnYXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRldHJpc0dyaWQucHJvdG90eXBlLmxvc2VBbmltID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdGlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdyaWRcIikuY2hpbGRyZW47XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5ncmlkW2lkeF0gPSBQaWVjZXNDb3VudCArIDE7XG4gICAgICAgICAgICB0aWxlc1tpZHhdLmNsYXNzTGlzdC5hZGQoXCJzbWFsbC1ncm93XCIpO1xuICAgICAgICAgICAgKytpZHg7XG4gICAgICAgICAgICBpZiAoaWR4ID49IF90aGlzLmdyaWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25BbmltRW5kLmludm9rZShcImxvc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDE2LjY3KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlcyBhbmltYXRpb25zIGZvciBmdWxsIGhvcml6b250YWwgcm93cywgcmVtb3ZpbmcgdGhlbSwgdGh1cyBtdXRhdGluZyB0aGUgZ3JpZC5cbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygcm93cyB0aGF0IHdlcmUgY29tcGxldGVkXG4gICAgICovXG4gICAgVGV0cmlzR3JpZC5wcm90b3R5cGUucHJvY2Vzc0Z1bGxSb3dzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29tcGxldGVSb3dzID0gW107XG4gICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IHRoaXMuZ2V0SGVpZ2h0KCk7ICsrcm93KSB7XG4gICAgICAgICAgICB2YXIgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCB0aGlzLmdldFdpZHRoKCk7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KHJvdywgY29sKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVSb3dzLnB1c2gocm93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgbGluZS1jbGVhciBjbGFzcyB0byBlYWNoIGZ1bGwgcm93XG4gICAgICAgIC8vIHRpbWVvdXQgdG8gcmVtb3ZlIHJvd3MgZnJvbSBncmlkXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29tcGxldGVSb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgICAgIHZhciBncmlkV2lkdGggPSBfdGhpcy5nZXRXaWR0aCgpO1xuICAgICAgICAgICAgICAgIC8vIHB1c2ggZG93biByb3dzXG4gICAgICAgICAgICAgICAgaWYgKHJvdyAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ncmlkLmNvcHlXaXRoaW4oZ3JpZFdpZHRoLCAwLCByb3cgKiBncmlkV2lkdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjbGVhciB0b3Agcm93XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmlkV2lkdGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ncmlkW2ldID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLm9uQW5pbUVuZC5pbnZva2UoXCJsaW5lLWNsZWFyXCIpO1xuICAgICAgICB9LCAyNTApO1xuICAgICAgICByZXR1cm4gY29tcGxldGVSb3dzO1xuICAgIH07XG4gICAgcmV0dXJuIFRldHJpc0dyaWQ7XG59KEdyaWQpKTtcbmV4cG9ydCB7IFRldHJpc0dyaWQgfTtcbiIsImltcG9ydCAnLi4vc3R5bGVzL3N0eWxlcy5jc3MnOyAvLyBpbmNsdWRlIHNjc3MgaW4gYnVpbGRcbmltcG9ydCB7IFRldHJpcyB9IGZyb20gXCIuL1RldHJpc1wiO1xudmFyIGdhbWUgPSBuZXcgVGV0cmlzKCk7XG5nYW1lLnJ1bigpO1xuLy8gaW1wb3J0ICogYXMgQXVkaW8gZnJvbSBcIi4vV2ViQUFcIjtcbi8vXG4vLyBpbXBvcnQge0FjdG9yfSBmcm9tIFwiLi9BY3RvclwiO1xuLy8gaW1wb3J0IHtnZXRSYW5kUGllY2UsIFBpZWNlRGF0YSwgUGllY2VzQ291bnR9IGZyb20gXCIuL1BpZWNlRGF0YVwiXG4vLyBpbXBvcnQge1RldHJpc0dyaWR9IGZyb20gXCIuL1RldHJpc0dyaWRcIjtcbi8vIGltcG9ydCB7R3JpZH0gZnJvbSBcIi4vR3JpZFwiO1xuLy9cbi8vXG4vLyBsZXQgdGV0cmlzRWw6IEhUTUxFbGVtZW50O1xuLy8gbGV0IGdyaWRFbDogSFRNTEVsZW1lbnQ7XG4vLyBsZXQgcG9pbnRzRWw6IEhUTUxFbGVtZW50O1xuLy8gbGV0IGxldmVsRWw6IEhUTUxFbGVtZW50O1xuLy8gbGV0IG5leHRVcEdyaWRFbDogSFRNTEVsZW1lbnQ7XG4vL1xuLy8gY29uc3QgRklFTERfV0lEVEggPSAxMDtcbi8vIGNvbnN0IEZJRUxEX0hFSUdIVCA9IDIwO1xuLy9cbi8vIGxldCBncmlkID0gbmV3IFRldHJpc0dyaWQoRklFTERfSEVJR0hULCBGSUVMRF9XSURUSCk7XG4vL1xuLy8gbGV0IHNjb3JlID0gMDtcbi8vIGxldCBsZXZlbCA9IDE7XG4vL1xuLy8gbGV0IHN0ZXBTcGVlZCA9IDMzLjMzMzsgLy8gZWFjaCBzdGVwIHRha2VzIHRoaXMgYW10IG9mIG1zXG4vLyBsZXQgaXNSdW5uaW5nID0gdHJ1ZTtcbi8vXG4vLyBsZXQgbmV4dFBpZWNlOiBHcmlkID0gZ2V0UmFuZFBpZWNlKCk7XG4vLyBsZXQgc3RvcmVkUGllY2U6IEdyaWQgPSBudWxsO1xuLy9cbi8vIGZ1bmN0aW9uIGdldFBvc0Zyb21JZChpZDogc3RyaW5nKSB7XG4vLyAgICAgY29uc3QgbWF0Y2hlcyA9IGlkLm1hdGNoKC8oPzw9W3JjXSlcXGQrL2cpO1xuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICAgIHJvdzogKG1hdGNoZXMpID8gcGFyc2VJbnQobWF0Y2hlc1swXSkgOiAtMSxcbi8vICAgICAgICAgY29sOiAobWF0Y2hlcykgPyBwYXJzZUludChtYXRjaGVzWzFdKSA6IC0xLFxuLy8gICAgIH1cbi8vIH1cbi8vXG4vLyBjb25zdCBwbGF5ZXIgPSBuZXcgQWN0b3IoZ3JpZCwgKCkgPT4gZ2V0TmV4dFBpZWNlKCkpO1xuLy8gZnVuY3Rpb24gZ2V0TmV4dFBpZWNlKCk6IEdyaWQge1xuLy8gICAgIGNvbnN0IHNlbmRUaGlzID0gbmV4dFBpZWNlO1xuLy9cbi8vICAgICBuZXh0UGllY2UgPSBnZXRSYW5kUGllY2UoKTtcbi8vICAgICByZXR1cm4gc2VuZFRoaXM7XG4vLyB9XG4vL1xuLy9cbi8vIHdpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4vLyAgICAgdGV0cmlzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRldHJpc1wiKTtcbi8vICAgICBncmlkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdyaWRcIik7XG4vLyAgICAgcG9pbnRzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvaW50c1wiKTtcbi8vICAgICBsZXZlbEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbFwiKTtcbi8vICAgICBuZXh0VXBHcmlkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5leHQtdXAtZ3JpZFwiKTtcbi8vXG4vLyAgICAgcGxheWVyLm9uUGllY2VDb25uZWN0LmFkZExpc3RlbmVyKGFjdG9yID0+IHtcbi8vICAgICAgICBjb25zdCB0aWxlcyA9IGFjdG9yLmdldFRpbGVFbHMoKTtcbi8vICAgICAgICBjb25zb2xlLmxvZyh0aWxlcyk7XG4vLyAgICAgICAgdGlsZXMuZm9yRWFjaCh0aWxlID0+IHtcbi8vICAgICAgICAgICAgdGlsZS5jbGFzc0xpc3QucmVtb3ZlKFwic21hbGwtZ3Jvd1wiKTtcbi8vICAgICAgICAgICAgdGlsZS5jbGFzc0xpc3QuYWRkKFwic21hbGwtZ3Jvd1wiKTtcbi8vICAgICAgICB9KTtcbi8vICAgICB9KTtcbi8vXG4vLyAgICAgcGxheWVyLm9uTGluZUNsZWFyLmFkZExpc3RlbmVyKGxpbmVzID0+IHtcbi8vICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gNCkge1xuLy8gICAgICAgICAgICAgc2NvcmUgKz0gODAwICogbGV2ZWw7XG4vLyAgICAgICAgIH0gZWxzZSBpZiAobGluZXMubGVuZ3RoID09PSAzKSB7XG4vLyAgICAgICAgICAgICBzY29yZSArPSA0MDAgKiBsZXZlbDtcbi8vICAgICAgICAgfSBlbHNlIGlmIChsaW5lcy5sZW5ndGggPT09IDIpIHtcbi8vICAgICAgICAgICAgIHNjb3JlICs9IDIwMCAqIGxldmVsO1xuLy8gICAgICAgICB9IGVsc2UgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMSkge1xuLy8gICAgICAgICAgICAgc2NvcmUgKz0gMTAwICogbGV2ZWw7XG4vLyAgICAgICAgIH1cbi8vICAgICB9KTtcbi8vXG4vLyAgICAgdGV0cmlzRWwuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCBldnQgPT4ge1xuLy8gICAgICAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuLy9cbi8vICAgICAgICAgaWYgKGV2dC5hbmltYXRpb25OYW1lID09PSBcInNtYWxsLWdyb3dcIiB8fCBldnQuYW5pbWF0aW9uTmFtZSA9PT0gXCJyb3ctY2xlYXJcIilcbi8vICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKGV2dC5hbmltYXRpb25OYW1lKTtcbi8vICAgICB9KTtcbi8vXG4vLyAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgRklFTERfSEVJR0hUOyArK3Jvdykge1xuLy8gICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBGSUVMRF9XSURUSDsgKytjb2wpIHtcbi8vXG4vLyAgICAgICAgICAgICBjb25zdCBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuLy8gICAgICAgICAgICAgbmV3RGl2LmlkID0gXCJyXCIgKyByb3cgKyBcImNcIiArIGNvbDtcbi8vICAgICAgICAgICAgIG5ld0Rpdi5zdHlsZS56SW5kZXggPSBcIlwiICsgcm93O1xuLy8gICAgICAgICAgICAgZ3JpZEVsLmFwcGVuZENoaWxkKG5ld0Rpdik7XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vL1xuLy8gICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDQ7ICsrcm93KSB7XG4vLyAgICAgICAgIG5leHRVcEdyaWRFbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbi8vICAgICB9XG4vL1xuLy8gICAgIC8vIFRlc3QgZHJhdyBibG9ja3Ncbi8vICAgICBncmlkRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiB7XG4vLyAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4vL1xuLy8gICAgICAgICBjb25zdCBwb3MgPSBnZXRQb3NGcm9tSWQodGFyZ2V0LmlkKTtcbi8vICAgICAgICAgaWYgKHBvcy5yb3cgIT09IC0xKVxuLy8gICAgICAgICAgICAgZ3JpZC5zZXQocG9zLnJvdywgcG9zLmNvbCwgMik7XG4vLyAgICAgfSk7XG4vL1xuLy8gICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2dCA9PiB7XG4vLyAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBwcmV2ZW50IGJyb3dzZXIgZnJvbSB1c2luZyBrZXlkb3ducyBmb3Igc2hvcnRjdXRzXG4vL1xuLy8gICAgICAgICBzd2l0Y2ggKGV2dC5jb2RlKSB7XG4vLyAgICAgICAgICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XG4vLyAgICAgICAgICAgICAgICAgcGxheWVyLm1vdmUoMCwgLTEpO1xuLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gICAgICAgICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbi8vICAgICAgICAgICAgICAgICBwbGF5ZXIubW92ZSgwLCAxKTtcbi8vICAgICAgICAgICAgICAgICBicmVhaztcbi8vICAgICAgICAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbi8vICAgICAgICAgICAgICAgICBpZiAocGxheWVyLm1vdmVEb3duT25lKCkpXG4vLyAgICAgICAgICAgICAgICAgICAgICsrc2NvcmU7XG4vLyAgICAgICAgICAgICAgICAgcGxheWVyLnJlc2V0Q291bnRlcigpO1xuLy9cbi8vICAgICAgICAgICAgICAgICBicmVhaztcbi8vICAgICAgICAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4vLyAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyAgICAgICAgIH1cbi8vXG4vLyAgICAgICAgIGlmIChldnQucmVwZWF0KSB7XG4vL1xuLy8gICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgaWYgKGV2dC5jb2RlID09PSBcIktleVhcIikge1xuLy8gICAgICAgICAgICAgICAgIHBsYXllci5yb3RhdGUocGxheWVyLmFuZ2xlICsgMSk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBpZiAoZXZ0LmNvZGUgPT09IFwiS2V5WlwiKSB7XG4vLyAgICAgICAgICAgICAgICAgcGxheWVyLnJvdGF0ZShwbGF5ZXIuYW5nbGUgLSAxKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIGlmIChldnQuY29kZSA9PT0gXCJBcnJvd1VwXCIpIHtcbi8vICAgICAgICAgICAgICAgICBwbGF5ZXIuaW1tZWRpYXRlRHJvcCgpO1xuLy8gICAgICAgICAgICAgfVxuLy9cbi8vXG4vL1xuLy9cbi8vICAgICAgICAgfVxuLy9cbi8vICAgICB9KTtcbi8vXG4vLyAgICAgZ3JpZC5vbkFuaW1FbmQuYWRkTGlzdGVuZXIoYW5pbU5hbWUgPT4ge1xuLy8gICAgICAgICBpZiAoYW5pbU5hbWUgPT09IFwibGluZS1jbGVhclwiKSB7XG4vLyAgICAgICAgICAgICByZW5kZXIoKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH0pO1xuLy9cbi8vXG4vLyAgICAgLy8gZmlyc3QgcmVuZGVyXG4vLyAgICAgcmVuZGVyKCk7XG4vLyAgICAgdXBkYXRlKCk7XG4vL1xuLy8gICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbi8vICAgICAgICAgcGxheWVyLnVwZGF0ZShzdGVwU3BlZWQpO1xuLy9cbi8vICAgICAgICAgcmVuZGVyKCk7XG4vLyAgICAgICAgIGlmIChpc1J1bm5pbmcpXG4vLyAgICAgICAgICAgICBzZXRUaW1lb3V0KHVwZGF0ZSwgc3RlcFNwZWVkKTtcbi8vICAgICB9XG4vL1xuLy8gICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbi8vICAgICAgICAgcG9pbnRzRWwuaW5uZXJUZXh0ID0gc2NvcmUudG9TdHJpbmcoKTtcbi8vICAgICAgICAgY29uc3QgdGlsZXMgPSBncmlkRWwuY2hpbGRyZW4gYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD47XG4vL1xuLy8gICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBGSUVMRF9IRUlHSFQ7ICsrcm93KSB7XG4vLyAgICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBGSUVMRF9XSURUSDsgKytjb2wpIHtcbi8vICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSByb3cgKiBGSUVMRF9XSURUSCArIGNvbDtcbi8vICAgICAgICAgICAgICAgICBjb25zdCBncmlkVmFsID0gZ3JpZC5nZXQocm93LCBjb2wpO1xuLy8gICAgICAgICAgICAgICAgIHRpbGVzW2lkeF0uc3R5bGUuYmFja2dyb3VuZCA9IGdyaWRWYWwgPT09IFBpZWNlc0NvdW50ICsgMSA/IFwicmdiYSgwLCAwLCAwLCAwLjc1KVwiIDogUGllY2VEYXRhW2dyaWRWYWxdLmNvbG9yO1xuLy8gICAgICAgICAgICAgICAgIHRpbGVzW2lkeF0uc3R5bGUuYm94U2hhZG93ID0gXCJcIjtcbi8vICAgICAgICAgICAgICAgICB0aWxlc1tpZHhdLnN0eWxlLnpJbmRleCA9IFwiMVwiO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vL1xuLy8gICAgICAgICBwbGF5ZXIucmVuZGVyKHRpbGVzKTtcbi8vICAgICB9XG4vLyB9O1xuIl0sIm5hbWVzIjpbImV4dGVuZFN0YXRpY3MiLCJLZXlib2FyZCIsImNvZGVzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ0aGlzIiwia2V5cyIsImtleU1hcCIsIk1hcCIsImFkZCIsImFwcGx5IiwiYXV0b01vZGUiLCJwcm9jZXNzS2V5dXAiLCJiaW5kIiwicHJvY2Vzc0tleWRvd24iLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm90b3R5cGUiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGUiLCJkZWx0YVRpbWUiLCJmb3JFYWNoIiwia2V5IiwibGFzdFN0YXRlIiwic3RhdGUiLCJpc0Rvd24iLCJjb2RlIiwiZ2V0U3RhdGUiLCJyZXNldFJlcGVhdGluZyIsImlzUmVwZWF0aW5nIiwiaW5pdERlbGF5IiwiaW50ZXJ2YWwiLCJpc1VwIiwianVzdERvd24iLCJqdXN0VXAiLCJnZXQiLCJfdGhpcyIsImhhcyIsIm5ld0tleVN0YXRlIiwicHVzaCIsInNldCIsInJlbW92ZSIsImtleVN0YXRlIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImRlbGV0ZSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwicmVwZWF0IiwiQXVkaW9FZmZlY3QiLCJlZmZlY3QiLCJ0YXJnZXQiLCJjb250ZXh0IiwibUVmZmVjdCIsIm1EcnkiLCJHYWluTm9kZSIsImdhaW4iLCJ2YWx1ZSIsIm1XZXQiLCJtSW5wdXQiLCJtT3V0cHV0IiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiYXVkaW9Ob2RlIiwiZGlzY29ubmVjdCIsInNldFdldERyeSIsInBlcmNlbnQiLCJyYW1wVGltZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ0aW1lIiwiY3VycmVudFRpbWUiLCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSIsInNldFdldCIsInNldERyeSIsImRpc3Bvc2UiLCJFZmZlY3RDaGFpbiIsIm1Db250ZXh0IiwibVByZUdhaW4iLCJtUG9zdEdhaW4iLCJtRWZmZWN0cyIsIm5ld1RhcmdldCIsIm91dHB1dCIsInB1c2hFZmZlY3QiLCJub2RlIiwibmV3RngiLCJiZWZvcmUiLCJpbnB1dCIsInR5cGUiLCJvcHRzIiwiaW5zZXJ0RWZmZWN0IiwiYWZ0ZXIiLCJpbnNlcnQiLCJlZmZlY3RUeXBlIiwiaSIsImdldE50aCIsImdldEFsbE9mIiwiZmlsdGVyIiwiZngiLCJuIiwiU2VuZCIsIm1Ob2RlIiwiY3JlYXRlR2FpbiIsIm1UYXJnZXQiLCJTZW5kTWdyIiwibVNlbmRzIiwiY3JlYXRlIiwibmV3U2VuZCIsImlkeE9yVGFyZ2V0IiwiZmluZCIsInNlbmQiLCJpcyIsImNsZWFuU2VuZCIsInJlbW92ZUFsbCIsInJlbW92ZUlmVGFyZ2V0aW5nIiwiQnVzIiwibVBhbm5lciIsImNyZWF0ZVN0ZXJlb1Bhbm5lciIsInByZUdhaW4iLCJCdXNNZ3IiLCJtTWFzdGVyQnVzIiwibUJ1c3NlcyIsIm5ld0J1cyIsImJ1cyIsImNsZWFyIiwiSW50ZXJhY3Rpb25Xb3JrYXJvdW5kRXZlbnRUeXBlIiwiU291bmQiLCJzb3VuZE5vZGUiLCJtU291bmQiLCJfYSIsIkVudmVsb3BlIiwibVRhcmdldHMiLCJtQXR0YWNrVGltZSIsIm1BdHRhY2tMZXZlbCIsIm1EZWNheVRpbWUiLCJtU3VzdGFpbkxldmVsIiwibUhvbGRUaW1lIiwibVJlbGVhc2VUaW1lIiwiYWRkVGFyZ2V0IiwicGFyYW0iLCJyZW1vdmVUYXJnZXQiLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiYXR0YWNrVGltZSIsImF0dGFja0xldmVsIiwiZGVjYXlUaW1lIiwic3VzdGFpbkxldmVsIiwiaG9sZFRpbWUiLCJyZWxlYXNlVGltZSIsImFjdGl2YXRlIiwid2hlbiIsInN0YXJ0RGVjYXkiLCJzdGFydFJlbGVhc2UiLCJjYW5jZWxTY2hlZHVsZWRWYWx1ZXMiLCJzZXRUYXJnZXRBdFRpbWUiLCJjYW5jZWwiLCJfX2V4dGVuZHMiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiX18iLCJjb25zdHJ1Y3RvciIsIk1vbm9TeW50aCIsIl9zdXBlciIsIk9zY2lsbGF0b3JOb2RlIiwiZW52ZWxvcGUiLCJzb3VyY2UiLCJzdGFydCIsImZyZXF1ZW5jeSIsImxvYWQiLCJ1cmwiLCJwbGF5IiwidW5sb2FkIiwiTXVzaWMiLCJNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUiLCJtZWRpYUVsZW1lbnQiLCJBdWRpbyIsInNyYyIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwidCIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJkb25lIiwicG9wIiwiZSIsInN0ZXAiLCJfX2dlbmVyYXRvciIsInRoZW4iLCJjYXRjaCIsIlAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwicmVzdWx0Iiwic3RvcCIsInBhdXNlIiwic2V0UGF1c2UiLCJwYXVzZWQiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwicGFjayIsImFyIiwibCIsInNsaWNlIiwiY29uY2F0IiwiRGVsZWdhdGUiLCJjYWxsYmFja3MiLCJhZGRMaXN0ZW5lciIsImNhbGxiYWNrIiwicmVtb3ZlTGlzdGVuZXIiLCJpbnZva2UiLCJhcmdzIiwibG9hZEF1ZGlvQnVmZmVyIiwiYnVmIiwiZmV0Y2giLCJhcnJheUJ1ZmZlciIsImRlY29kZUF1ZGlvRGF0YSIsIlNvdW5kRWZmZWN0IiwiZGVmYXVsdHMiLCJidWZmZXIiLCJsb29wIiwicGxheWJhY2tSYXRlIiwiZGV0dW5lIiwibG9vcFN0YXJ0IiwibG9vcEVuZCIsIm9uZW5kZWQiLCJvbmVuZGVkSGFuZGxlciIsImFCdWYiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJvZmZzZXQiLCJkdXJhdGlvbiIsInNyY05vZGUiLCJBdWRpb0J1ZmZlclNvdXJjZU5vZGUiLCJlZmZlY3RzIiwidW5kZWZpbmVkIiwiQXVkaW9FbmdpbmUiLCJtU291bmRzIiwibU11c2ljIiwibVN5bnRocyIsImxpc3RlbmVyIiwiZ2V0U291bmQiLCJnZXRNdXNpYyIsImdldFN5bnRoIiwibmFtZSIsImxvYWRTb3VuZCIsImJ1c05hbWUiLCJzb3VuZCIsIm1hc3RlciIsImxvYWRNdXNpYyIsIm11c2ljIiwibG9hZFN5bnRoIiwic3ludGgiLCJ3YXNJbml0IiwiaW5pdCIsIndpbmRvdyIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsInJlc3VtZSIsImxvZyIsImludGVyYWN0aW9uV29ya2Fyb3VuZCIsInNmeCIsImRlZmF1bHRDb25maWciLCJ0aWNrU3BlZWQiLCJHYW1lIiwiY29uZmlnIiwibVRpY2tTcGVlZCIsIm1LZXlib2FyZCIsIm1BdWRpbyIsInF1aXQiLCJtSXNSdW5uaW5nIiwicnVuIiwiaW5pdGlhbGl6ZSIsIm1MYXN0VGlja3MiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInJlbmRlciIsIm1JbnRlcnZhbCIsInNldEludGVydmFsIiwicnVuT25lRnJhbWUiLCJpc1J1bm5pbmciLCJjdXJyZW50VGlja3MiLCJwcm9jZXNzSW5wdXQiLCJrZXlib2FyZCIsImNsZWFySW50ZXJ2YWwiLCJHcmlkIiwicm93cyIsImNvbHMiLCJhcnIiLCJncmlkIiwiVWludDMyQXJyYXkiLCJyb3dDb3VudCIsImNvbENvdW50IiwiYXNzZXJ0IiwicmVzZXQiLCJnZXRXaWR0aCIsImFuZ2xlIiwiZ2V0SGVpZ2h0IiwibWVyZ2VJbnRvIiwic3RhcnRSb3ciLCJzdGFydENvbCIsIm90aGVyIiwib3RoZXJBbmdsZSIsInJvdyIsImNvbCIsIm90aGVyVmFsIiwibGVmdE1vc3QiLCJyaWdodE1vc3QiLCJ0b3BNb3N0IiwiYm90dG9tTW9zdCIsImludGVyc2VjdHMiLCJzdGFydENvbHVtbiIsInRoaXNBbmdsZSIsImNyZWF0ZVJvdGF0ZWQiLCJmbG9vciIsImdyaWRUb0luZGV4IiwiaXNGcmVlQXQiLCJjbGFtcEluZGV4IiwidG9TdHJpbmciLCJzdHIiLCJQaWVjZURhdGEiLCJjb2xvciIsImlkIiwicGllY2UiLCJOb25lIiwiU3RpY2siLCJMIiwiUmV2TCIsIlN0ZXBSIiwiU3RlcEwiLCJUIiwiQm94IiwiZ2V0UmFuZFBpZWNlIiwicmFuZG9tIiwic3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImRvY3VtZW50RWxlbWVudCIsInBEYXRhIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImZyZWV6ZSIsInNlYWwiLCJ0ZXRyaXNFbCIsImdyaWRFbCIsInBvaW50c0VsIiwibmV4dFVwR3JpZEVsIiwiaGVsZEdyaWRFbCIsIkFjdG9yIiwiZ2V0TmV4dFBpZWNlIiwic3BlZWQiLCJpc1BhdXNlZCIsIm9uUGllY2VDb25uZWN0Iiwib25MaW5lQ2xlYXIiLCJvbkxvc2UiLCJvblJlc2V0IiwiZHQiLCJjb3VudGVyIiwibW92ZURvd25PbmUiLCJyZXNldENvdW50ZXIiLCJjb25uZWN0VG9Cb2FyZCIsInJvd3NDbGVhcmVkIiwicHJvY2Vzc0Z1bGxSb3dzIiwidGlsZXNfMSIsImdldEVsZW1lbnRCeUlkIiwiY2hpbGRyZW4iLCJ0aWxlIiwiY2xhc3NMaXN0IiwibG9zZUFuaW0iLCJtb3ZlIiwicmVsUm93IiwicmVsQ29sIiwiY29uc3RyaWN0Qm91bmRzIiwiaW1tZWRpYXRlRHJvcCIsImdldFRpbGVFbHMiLCJ0aWxlcyIsInRpbGVFbHMiLCJncmlkV2lkdGgiLCJncmlkSGVpZ2h0IiwicGllY2VXaWR0aCIsInBpZWNlSGVpZ2h0IiwicGllY2VSb3ciLCJwaWVjZUNvbCIsImdyaWRSb3ciLCJncmlkQ29sIiwiY2hlY2tEb3duIiwiY2hlY2tMZWZ0IiwiY2hlY2tSaWdodCIsIm91dGJvdW5kc0xlZnQiLCJjb2xSZWwiLCJvdXRib3VuZHNSaWdodCIsIm91dGJvdW5kc0Rvd24iLCJyb3dSZWwiLCJvdXRib3VuZHNUb3AiLCJuZXh0UGllY2UiLCJyb3VuZCIsInJvdGF0ZSIsIndpbGxDb2xsaWRlIiwiY2FuUm90YXRlQXQiLCJzaGFkb3dSb3ciLCJwaWVjZUlkeCIsInN0eWxlIiwiYmFja2dyb3VuZCIsImJveFNoYWRvdyIsIm9wYWNpdHkiLCJzaGFkb3dUaWxlIiwiVGV0cmlzR3JpZCIsInJvd0hlaWdodCIsImNvbFdpZHRoIiwib25BbmltRW5kIiwiUGllY2VzQ291bnQiLCJjb21wbGV0ZVJvd3MiLCJpc0NvbXBsZXRlIiwic2V0VGltZW91dCIsImNvcHlXaXRoaW4iLCJUZXRyaXMiLCJzdG9yZWRQaWVjZSIsImxhc3RTd2FwcGVkIiwic2VuZFRoaXMiLCJuZXdEaXYiLCJjcmVhdGVFbGVtZW50IiwiekluZGV4IiwiYXBwZW5kQ2hpbGQiLCJhbmltYXRpb25OYW1lIiwic3dhcFBpZWNlIiwicGxheWVyIiwiYWN0b3IiLCJkcmF3TmV4dFBpZWNlIiwibGluZXMiLCJzY29yZSIsImxldmVsIiwiZ2FtZW92ZXIiLCJhbmltTmFtZSIsImRyYXdQaWVjZSIsImVscyIsImRyYXdIZWxkUGllY2UiLCJ0ZW1wUGllY2UiLCJpbm5lclRleHQiLCJncmlkVmFsIl0sInNvdXJjZVJvb3QiOiIifQ==